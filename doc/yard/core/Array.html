<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf8" />
<title>Class: Array</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (A)</a> &raquo; 
    
    
    <span class="title">Array</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Array
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Array</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="Indexable.html" title="Indexable (module)">Indexable</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/core/facets/to_hash.rb<span class="defines">,<br />
  lib/core/facets/boolean.rb,<br /> lib/core/facets/array/pad.rb,<br /> lib/core/facets/array/only.rb,<br /> lib/core/facets/array/mode.rb,<br /> lib/core/facets/array/pull.rb,<br /> lib/core/facets/array/from.rb,<br /> lib/core/facets/array/merge.rb,<br /> lib/core/facets/array/split.rb,<br /> lib/core/facets/array/index.rb,<br /> lib/core/facets/array/store.rb,<br /> lib/core/facets/kernel/blank.rb,<br /> lib/core/facets/array/before.rb,<br /> lib/core/facets/array/rotate.rb,<br /> lib/core/facets/array/select.rb,<br /> lib/core/facets/array/splice.rb,<br /> lib/core/facets/array/divide.rb,<br /> lib/core/facets/array/nonuniq.rb,<br /> lib/core/facets/array/uniq_by.rb,<br /> lib/core/facets/array/recurse.rb,<br /> lib/core/facets/array/conjoin.rb,<br /> lib/core/facets/array/entropy.rb,<br /> lib/core/facets/array/product.rb,<br /> lib/core/facets/array/collapse.rb,<br /> lib/core/facets/array/contains.rb,<br /> lib/core/facets/array/traverse.rb,<br /> lib/core/facets/array/not_empty.rb,<br /> lib/core/facets/array/indexable.rb,<br /> lib/core/facets/enumerable/count.rb,<br /> lib/core/facets/array/recursively.rb,<br /> lib/core/facets/array/probability.rb,<br /> lib/core/facets/array/combination.rb,<br /> lib/core/facets/array/permutation.rb,<br /> lib/core/facets/array/commonality.rb,<br /> lib/core/facets/array/delete_values.rb,<br /> lib/core/facets/object/object_state.rb,<br /> lib/core/facets/array/delete_unless.rb,<br /> lib/core/facets/array/extract_options.rb</span>
</dd>
  
</dl>
<div class="clear"></div>



  
  
  
  

  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#_facets_index-instance_method" title="#_facets_index (instance method)">- (Object) <strong>_facets_index</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#after-instance_method" title="#after (instance method)">- (Object) <strong>after</strong>(value) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value after the given value.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#before-instance_method" title="#before (instance method)">- (Object) <strong>before</strong>(value) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value previous to the given value.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#collapse-instance_method" title="#collapse (instance method)">- (Object) <strong>collapse</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Simplify an array by flattening it then compacting it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#combination-instance_method" title="#combination (instance method)">- (Object) <strong>combination</strong>(k = 2) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Yields the block to each unique combination of <em>n</em> elements.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#commonality-instance_method" title="#commonality (instance method)">- (Object) <strong>commonality</strong>(&amp;block) </a>
    

    
      (also: #collisions)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns all items that are equal in terms of the supplied block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#conjoin-instance_method" title="#conjoin (instance method)">- (Object) <strong>conjoin</strong>(*args, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This is more advanced form of #join.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_unless-instance_method" title="#delete_unless (instance method)">- (Object) <strong>delete_unless</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Inverse of #delete_if.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_values-instance_method" title="#delete_values (instance method)">- (Object) <strong>delete_values</strong>(*values) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Delete multiple values from array.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_values_at-instance_method" title="#delete_values_at (instance method)">- (Object) <strong>delete_values_at</strong>(*selectors) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Delete multiple values from array given indexes or index range.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#divide-instance_method" title="#divide (instance method)">- (Object) <strong>divide</strong>(pattern) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Divide on matching pattern.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#entropy-instance_method" title="#entropy (instance method)">- (Object) <strong>entropy</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Shannon’s entropy for an array - returns the average bits per symbol
required to encode the array.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extract_options%21-instance_method" title="#extract_options! (instance method)">- (Object) <strong>extract_options!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Extracts options from a set of arguments.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#from-instance_method" title="#from (instance method)">- (Object) <strong>from</strong>(i) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns last <em>n</em> elements.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ideal_entropy-instance_method" title="#ideal_entropy (instance method)">- (Object) <strong>ideal_entropy</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the maximum possible Shannon entropy of the array with given size
assuming that it is an “order-0” source (each element is selected
independently of the next).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#index-instance_method" title="#index (instance method)">- (Object) <strong>index</strong>(obj = nil, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Allows #index to accept a block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#merge%21-instance_method" title="#merge! (instance method)">- (Object) <strong>merge!</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>In place #merge.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mode-instance_method" title="#mode (instance method)">- (Object) <strong>mode</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>In Statistics mode is the value that occurs most frequently in a given set
of data.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#nonuniq-instance_method" title="#nonuniq (instance method)">- (Object) <strong>nonuniq</strong> </a>
    

    
      (also: #duplicates)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a list of non-unique elements.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#nonuniq%21-instance_method" title="#nonuniq! (instance method)">- (Object) <strong>nonuniq!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#not_empty%3F-instance_method" title="#not_empty? (instance method)">- (Boolean) <strong>not_empty?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Not empty?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#object_state-instance_method" title="#object_state (instance method)">- (Object) <strong>object_state</strong>(data = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#only-instance_method" title="#only (instance method)">- (Object) <strong>only</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the <em>only</em> element in the array.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pad-instance_method" title="#pad (instance method)">- (Object) <strong>pad</strong>(len, val = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Pad an array with a given <tt>value</tt> up to a given <tt>length</tt>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pad%21-instance_method" title="#pad! (instance method)">- (Object) <strong>pad!</strong>(len, val = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Like #pad but changes the array in place.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#peek-instance_method" title="#peek (instance method)">- (Object) <strong>peek</strong>(i = 0) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Peek at the top of the stack (the end of the array).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#permutation-instance_method" title="#permutation (instance method)">- (Object) <strong>permutation</strong>(n = size) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Permutation provids the possible orders of an enumerable.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#poke-instance_method" title="#poke (instance method)">- (Object) <strong>poke</strong>(x, i = 0) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Put an object on the bottom of the stack (front of the array).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#probability-instance_method" title="#probability (instance method)">- (Object) <strong>probability</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates a hash mapping each unique element in the array to the relative
frequency, i.e.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#product-instance_method" title="#product (instance method)">- (Object) <strong>product</strong>(*enums) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Provides the cartesian product of two or more arrays.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#recurse-instance_method" title="#recurse (instance method)">- (Object) <strong>recurse</strong>(*types) {|a| ... }</a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Apply a block to array, and recursively apply that block to each sub-array
or <tt>types</tt>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#recurse%21-instance_method" title="#recurse! (instance method)">- (Object) <strong>recurse!</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>In place form of #recurse.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#recursively-instance_method" title="#recursively (instance method)">- (Object) <strong>recursively</strong>(*types, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Apply a method to array, and recursively apply that method to each
sub-array or <tt>types</tt>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rotate-instance_method" title="#rotate (instance method)">- (Object) <strong>rotate</strong>(n = 1) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Rotates an array’s elements from back to front n times.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rotate%21-instance_method" title="#rotate! (instance method)">- (Object) <strong>rotate!</strong>(n = 1) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Same as #rotate, but acts in place.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select%21-instance_method" title="#select! (instance method)">- (Object) <strong>select!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>As with #select but modifies the Array in place.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#splice-instance_method" title="#splice (instance method)">- (Object) <strong>splice</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Splice acts a combination of #slice! and #store.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#split-instance_method" title="#split (instance method)">- (Object) <strong>split</strong>(pattern) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Split on matching pattern.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#thru-instance_method" title="#thru (instance method)">- (Object) <strong>thru</strong>(from, to = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Fetch values from a start index thru an end index.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_b-instance_method" title="#to_b (instance method)">- (Object) <strong>to_b</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Boolean conversion for not empty?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_h-instance_method" title="#to_h (instance method)">- (Object) <strong>to_h</strong>(mode = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts an array into a hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_h_assoc-instance_method" title="#to_h_assoc (instance method)">- (Object) <strong>to_h_assoc</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>When a mixed or multi-element accociative array is used, the result is as
follows:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_h_auto-instance_method" title="#to_h_auto (instance method)">- (Object) <strong>to_h_auto</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts an array into a hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_h_flat-instance_method" title="#to_h_flat (instance method)">- (Object) <strong>to_h_flat</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This is equivalent to <a href="http://*array.flatten">Hash</a>, but it will
pad the array with a <tt>nil</tt> object if there are not an even number of
elements.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_h_multi-instance_method" title="#to_h_multi (instance method)">- (Object) <strong>to_h_multi</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>When a mixed or multi-element accociative array is used, the result is as
follows:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_h_splat-instance_method" title="#to_h_splat (instance method)">- (Object) <strong>to_h_splat</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This is equivalent to Hash[*array], but it will pad the array with a
<tt>nil</tt> object if there are not an even number of elements.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#traverse-instance_method" title="#traverse (instance method)">- (Object) <strong>traverse</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a new array created by traversing the array and its sub-arrays,
executing the given block on the elements.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#traverse%21-instance_method" title="#traverse! (instance method)">- (Object) <strong>traverse!</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Like #recursive_map, but will change the array in place.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#uniq_by%21-instance_method" title="#uniq_by! (instance method)">- (Object) <strong>uniq_by!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Like #uniq, but determines uniqueness based on a given block.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Indexable.html" title="Indexable (module)">Indexable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Indexable.html#body-instance_method" title="Indexable#body (method)">#body</a></span>, <span class='object_link'><a href="Indexable.html#ends-instance_method" title="Indexable#ends (method)">#ends</a></span>, <span class='object_link'><a href="Indexable.html#first-instance_method" title="Indexable#first (method)">#first</a></span>, <span class='object_link'><a href="Indexable.html#first%3D-instance_method" title="Indexable#first= (method)">#first=</a></span>, <span class='object_link'><a href="Indexable.html#foot-instance_method" title="Indexable#foot (method)">#foot</a></span>, <span class='object_link'><a href="Indexable.html#head-instance_method" title="Indexable#head (method)">#head</a></span>, <span class='object_link'><a href="Indexable.html#last-instance_method" title="Indexable#last (method)">#last</a></span>, <span class='object_link'><a href="Indexable.html#last%3D-instance_method" title="Indexable#last= (method)">#last=</a></span>, <span class='object_link'><a href="Indexable.html#mid-instance_method" title="Indexable#mid (method)">#mid</a></span>, <span class='object_link'><a href="Indexable.html#middle-instance_method" title="Indexable#middle (method)">#middle</a></span>, <span class='object_link'><a href="Indexable.html#pos-instance_method" title="Indexable#pos (method)">#pos</a></span>, <span class='object_link'><a href="Indexable.html#range-instance_method" title="Indexable#range (method)">#range</a></span>, <span class='object_link'><a href="Indexable.html#tail-instance_method" title="Indexable#tail (method)">#tail</a></span></p>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="_facets_index-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>_facets_index</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


5</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/index.rb', line 5</span>

<span class='alias_method identifier id'>alias_method</span> <span class='symbol val'>:_facets_index</span><span class='comma token'>,</span> <span class='symbol val'>:index</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="after-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>after</strong>(value) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the value after the given value. The value before the last is the
first. Returns nil if the given value is not in the array.</p>

<p>Examples</p>

<pre class="code"><span class='sequence identifier id'>sequence</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='string val'>'a'</span><span class='comma token'>,</span> <span class='string val'>'b'</span><span class='comma token'>,</span> <span class='string val'>'c'</span><span class='rbrack token'>]</span>
<span class='sequence identifier id'>sequence</span><span class='dot token'>.</span><span class='after identifier id'>after</span><span class='lparen token'>(</span><span class='string val'>'a'</span><span class='rparen token'>)</span>           <span class='comment val'>#=&gt; 'b'</span>
<span class='sequence identifier id'>sequence</span><span class='dot token'>.</span><span class='after identifier id'>after</span><span class='lparen token'>(</span><span class='string val'>'b'</span><span class='rparen token'>)</span>           <span class='comment val'>#=&gt; 'c'</span>
<span class='sequence identifier id'>sequence</span><span class='dot token'>.</span><span class='after identifier id'>after</span><span class='lparen token'>(</span><span class='string val'>'c'</span><span class='rparen token'>)</span>           <span class='comment val'>#=&gt; 'a'</span>
<span class='sequence identifier id'>sequence</span><span class='dot token'>.</span><span class='after identifier id'>after</span><span class='lparen token'>(</span><span class='string val'>'d'</span><span class='rparen token'>)</span>           <span class='comment val'>#=&gt; nil</span>
</pre>

<p>CREDIT: Tyler Rick</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


33
34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/before.rb', line 33</span>

<span class='def def kw'>def</span> <span class='after identifier id'>after</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span> <span class='unless unless_mod kw'>unless</span> <span class='include? fid id'>include?</span> <span class='value identifier id'>value</span>
  <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='lparen token'>(</span><span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='plus op'>+</span> <span class='integer val'>1</span><span class='rparen token'>)</span> <span class='mod op'>%</span> <span class='length identifier id'>length</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="before-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>before</strong>(value) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the value previous to the given value. The value previous to the
first is the last. Returns nil if the given value is not in the array.</p>

<p>Examples</p>

<pre class="code"><span class='sequence identifier id'>sequence</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='string val'>'a'</span><span class='comma token'>,</span> <span class='string val'>'b'</span><span class='comma token'>,</span> <span class='string val'>'c'</span><span class='rbrack token'>]</span>
<span class='sequence identifier id'>sequence</span><span class='dot token'>.</span><span class='before identifier id'>before</span><span class='lparen token'>(</span><span class='string val'>'a'</span><span class='rparen token'>)</span>           <span class='comment val'>#=&gt; 'c'</span>
<span class='sequence identifier id'>sequence</span><span class='dot token'>.</span><span class='before identifier id'>before</span><span class='lparen token'>(</span><span class='string val'>'b'</span><span class='rparen token'>)</span>           <span class='comment val'>#=&gt; 'a'</span>
<span class='sequence identifier id'>sequence</span><span class='dot token'>.</span><span class='before identifier id'>before</span><span class='lparen token'>(</span><span class='string val'>'c'</span><span class='rparen token'>)</span>           <span class='comment val'>#=&gt; 'b'</span>
<span class='sequence identifier id'>sequence</span><span class='dot token'>.</span><span class='before identifier id'>before</span><span class='lparen token'>(</span><span class='string val'>'d'</span><span class='rparen token'>)</span>           <span class='comment val'>#=&gt; nil</span>
</pre>

<p>CREDIT: Tyler Rick</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/before.rb', line 16</span>

<span class='def def kw'>def</span> <span class='before identifier id'>before</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='nil nil kw'>nil</span> <span class='unless unless_mod kw'>unless</span> <span class='include? fid id'>include?</span> <span class='value identifier id'>value</span>
  <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='lparen token'>(</span><span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span> <span class='minus op'>-</span> <span class='integer val'>1</span><span class='rparen token'>)</span> <span class='mod op'>%</span> <span class='length identifier id'>length</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="collapse-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>collapse</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Simplify an array by flattening it then compacting it.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span><span class='lbrack token'>[</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span><span class='comma token'>,</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='collapse identifier id'>collapse</span>  <span class='comment val'>#=&gt; [1,2,3,4]</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/collapse.rb', line 7</span>

<span class='def def kw'>def</span> <span class='collapse identifier id'>collapse</span>
  <span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='compact identifier id'>compact</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="combination-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>combination</strong>(k = 2) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Yields the block to each unique combination of <em>n</em> elements.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='dstring node'>%w|a b c d|</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='combination identifier id'>combination</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span>
</pre>

<p>produces</p>

<pre class="code"><span class='lbrack token'>[</span><span class='lbrack token'>[</span><span class='string val'>&quot;a&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;b&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;c&quot;</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
 <span class='lbrack token'>[</span><span class='string val'>&quot;a&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;b&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;d&quot;</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
 <span class='lbrack token'>[</span><span class='string val'>&quot;a&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;c&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;d&quot;</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
 <span class='lbrack token'>[</span><span class='string val'>&quot;b&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;c&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;d&quot;</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>
</pre>

<p>CREDIT: Florian Gross</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/combination.rb', line 21</span>

<span class='def def kw'>def</span> <span class='combination identifier id'>combination</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='assign token'>=</span><span class='integer val'>2</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='s identifier id'>s</span> <span class='assign token'>=</span> <span class='to_a identifier id'>to_a</span>
    <span class='n identifier id'>n</span> <span class='assign token'>=</span> <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
    <span class='return return kw'>return</span> <span class='unless unless_mod kw'>unless</span> <span class='lparen token'>(</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='n identifier id'>n</span><span class='rparen token'>)</span> <span class='eqq op'>===</span> <span class='k identifier id'>k</span>
    <span class='idx identifier id'>idx</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='k identifier id'>k</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span>
    <span class='loop identifier id'>loop</span> <span class='do do kw'>do</span>
      <span class='yield yield kw'>yield</span> <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='values_at identifier id'>values_at</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='idx identifier id'>idx</span><span class='rparen token'>)</span>
      <span class='i identifier id'>i</span> <span class='assign token'>=</span> <span class='k identifier id'>k</span> <span class='minus op'>-</span> <span class='integer val'>1</span>
      <span class='i identifier id'>i</span> <span class='opasgn op'>-=</span> <span class='integer val'>1</span> <span class='while while_mod kw'>while</span> <span class='idx identifier id'>idx</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='n identifier id'>n</span> <span class='minus op'>-</span> <span class='k identifier id'>k</span> <span class='plus op'>+</span> <span class='i identifier id'>i</span>
      <span class='break break kw'>break</span> <span class='if if_mod kw'>if</span> <span class='i identifier id'>i</span> <span class='lt op'>&lt;</span> <span class='integer val'>0</span>
      <span class='idx identifier id'>idx</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
      <span class='lparen token'>(</span><span class='i identifier id'>i</span> <span class='plus op'>+</span> <span class='integer val'>1</span> <span class='dot3 op'>...</span> <span class='k identifier id'>k</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='j identifier id'>j</span><span class='bitor op'>|</span> <span class='idx identifier id'>idx</span><span class='lbrack token'>[</span><span class='j identifier id'>j</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='idx identifier id'>idx</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='plus op'>+</span> <span class='j identifier id'>j</span> <span class='minus op'>-</span> <span class='i identifier id'>i</span><span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='to_enum identifier id'>to_enum</span><span class='lparen token'>(</span><span class='symbol val'>:combination</span><span class='comma token'>,</span> <span class='k identifier id'>k</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="commonality-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>commonality</strong>(&amp;block) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='collisions-instance_method'>collisions</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns all items that are equal in terms of the supplied block. If no
block is given objects are considered to be equal if they return the same
value for Object#hash and if obj1 == obj2.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='integer val'>3</span><span class='comma token'>,</span> <span class='integer val'>4</span><span class='comma token'>,</span> <span class='integer val'>4</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='commonality identifier id'>commonality</span>  <span class='comment val'>#=&gt; { 2 =&gt; [2, 2], 4 =&gt; [4, 4] }</span>

<span class='lbrack token'>[</span><span class='string val'>&quot;foo&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;bar&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;a&quot;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='commonality identifier id'>commonality</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='str identifier id'>str</span><span class='bitor op'>|</span> <span class='str identifier id'>str</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; { 3 =&gt; [&quot;foo&quot;, &quot;bar&quot;] }</span>
</pre>

<p>This can be useful, for instance, in determining all persons that share
their last name with another person …</p>

<pre class="code"><span class='persons identifier id'>persons</span><span class='dot token'>.</span><span class='collisions identifier id'>collisions</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='person identifier id'>person</span><span class='bitor op'>|</span> <span class='person identifier id'>person</span><span class='dot token'>.</span><span class='last_name identifier id'>last_name</span> <span class='rbrace token'>}</span>
</pre>

<p>CREDIT: Florian Gross</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/commonality.rb', line 19</span>

<span class='def def kw'>def</span> <span class='commonality identifier id'>commonality</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='had_no_block identifier id'>had_no_block</span> <span class='assign token'>=</span> <span class='notop op'>!</span><span class='block identifier id'>block</span>
  <span class='block identifier id'>block</span> <span class='opasgn op'>||=</span> <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='item identifier id'>item</span><span class='bitor op'>|</span> <span class='item identifier id'>item</span> <span class='rbrace token'>}</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='hash identifier id'>hash</span><span class='comma token'>,</span> <span class='key identifier id'>key</span><span class='bitor op'>|</span> <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='rbrace token'>}</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='item identifier id'>item</span><span class='bitor op'>|</span>
    <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='item identifier id'>item</span><span class='rparen token'>)</span>
    <span class='result identifier id'>result</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='item identifier id'>item</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='reject! fid id'>reject!</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='bitor op'>|</span>
    <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='leq op'>&lt;=</span> <span class='integer val'>1</span>
  <span class='end end kw'>end</span>
  <span class='comment val'># -- return had_no_block ? result.values.flatten : result</span>
  <span class='return return kw'>return</span> <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="conjoin-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>conjoin</strong>(*args, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>This is more advanced form of #join. It allows for fine control of
separators.</p>

<p>NOTE: The old version used to default its separator to “, ” and default
the terminating separator to “ and ”. This is no longer the case. You
must specifically provide these parameters.</p>

<p>If no paramters are given, it acts like #join but will a space separator.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='conjoin identifier id'>conjoin</span>
<span class='comment val'>#=&gt; &quot;1 2 3&quot;</span>
</pre>

<p>Use comma+space and ‘and’ on tail.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='conjoin identifier id'>conjoin</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='comma token'>,</span> <span class='string val'>' and '</span><span class='rparen token'>)</span>
<span class='comment val'>#=&gt; &quot;1, 2 and 3&quot;</span>
</pre>

<p>Use comma+space and ‘or’ on tail using :last option.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='conjoin identifier id'>conjoin</span><span class='lparen token'>(</span><span class='string val'>', '</span><span class='comma token'>,</span> <span class='symbol val'>:last</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>' or '</span><span class='rparen token'>)</span>
<span class='comment val'>#=&gt; &quot;1, 2 or 3&quot;</span>
</pre>

<p>Use semicolon+space and ampersand on tail using index.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='conjoin identifier id'>conjoin</span><span class='lparen token'>(</span><span class='string val'>'; '</span><span class='comma token'>,</span> <span class='integer val'>-1</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>' &amp; '</span><span class='rparen token'>)</span>
<span class='comment val'>#=&gt; &quot;1; 2 &amp; 3&quot;</span>
</pre>

<p>Can take a block to determine separator.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='conjoin identifier id'>conjoin</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='comma token'>,</span> <span class='a identifier id'>a</span><span class='comma token'>,</span> <span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='i identifier id'>i</span> <span class='mod op'>%</span> <span class='integer val'>2</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='question op'>?</span> <span class='string val'>'.'</span> <span class='colon op'>:</span> <span class='string val'>'-'</span> <span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; &quot;1.2-3.4&quot;</span>
</pre>

<p>This makes very esoteric transformation possible.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='conjoin identifier id'>conjoin</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='comma token'>,</span> <span class='a identifier id'>a</span><span class='comma token'>,</span> <span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span> <span class='eq op'>==</span> <span class='b identifier id'>b</span> <span class='integer val'>? </span><span class='string val'>'='</span> <span class='colon op'>:</span> <span class='string val'>' != '</span> <span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; &quot;1=1 != 2=2&quot;</span>

<span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='conjoin identifier id'>conjoin</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='comma token'>,</span> <span class='x identifier id'>x</span><span class='comma token'>,</span> <span class='y identifier id'>y</span><span class='bitor op'>|</span> <span class='dstring node'>&quot;&lt;#{i} #{x} #{y}&gt;&quot;</span> <span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; &quot;1&lt;0 1 2&gt;2&lt;1 2 3&gt;3&lt;2 3 4&gt;4&quot;</span>
</pre>

<p>There are also spacing options. Providing the :space option pads the
separators.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='conjoin identifier id'>conjoin</span><span class='lparen token'>(</span><span class='string val'>','</span><span class='comma token'>,</span> <span class='string val'>'&amp;'</span><span class='comma token'>,</span> <span class='symbol val'>:space=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rparen token'>)</span>
<span class='comment val'>#=&gt; &quot;1  ,  2  &amp;  3&quot;</span>
</pre>

<p>And the :spacer option can set an alternate spacing string.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='conjoin identifier id'>conjoin</span><span class='lparen token'>(</span><span class='string val'>'|'</span><span class='comma token'>,</span> <span class='string val'>'&gt;'</span><span class='comma token'>,</span> <span class='symbol val'>:space=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='comma token'>,</span> <span class='symbol val'>:spacer=</span><span class='gt op'>&gt;</span><span class='string val'>'-'</span><span class='rparen token'>)</span>
<span class='comment val'>#=&gt; &quot;1--|--2--&gt;--3&quot;</span>
</pre>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/conjoin.rb', line 57</span>

<span class='def def kw'>def</span> <span class='conjoin identifier id'>conjoin</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='first identifier id'>first</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='if if_mod kw'>if</span> <span class='size identifier id'>size</span> <span class='lt op'>&lt;</span> <span class='integer val'>2</span>

  <span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='eqq op'>===</span><span class='args identifier id'>args</span><span class='dot token'>.</span><span class='last identifier id'>last</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='colon op'>:</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>

  <span class='spacing identifier id'>spacing</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:space</span><span class='rparen token'>)</span>  <span class='orop op'>||</span> <span class='integer val'>0</span>
  <span class='spacer identifier id'>spacer</span>  <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:spacer</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='string val'>&quot; &quot;</span>
  <span class='space identifier id'>space</span>   <span class='assign token'>=</span> <span class='spacer identifier id'>spacer</span> <span class='mult op'>*</span> <span class='spacing identifier id'>spacing</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>

  <span class='sep identifier id'>sep</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>

  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='lparen token'>(</span><span class='size identifier id'>size</span> <span class='minus op'>-</span> <span class='integer val'>1</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
      <span class='sep identifier id'>sep</span> <span class='lshft op'>&lt;&lt;</span> <span class='space identifier id'>space</span> <span class='plus op'>+</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='slice identifier id'>slice</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='space identifier id'>space</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='separator identifier id'>separator</span>   <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span> <span class='orop op'>||</span> <span class='string val'>&quot; &quot;</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='integer val'>-1</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span> <span class='if if_mod kw'>if</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='first identifier id'>first</span>

    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>  <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:first</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='key? fid id'>key?</span><span class='lparen token'>(</span><span class='symbol val'>:first</span><span class='rparen token'>)</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='integer val'>-1</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='symbol val'>:last</span><span class='rparen token'>)</span>  <span class='if if_mod kw'>if</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='key? fid id'>key?</span><span class='lparen token'>(</span><span class='symbol val'>:last</span><span class='rparen token'>)</span>

    <span class='separator identifier id'>separator</span> <span class='assign token'>=</span> <span class='space identifier id'>space</span> <span class='plus op'>+</span> <span class='separator identifier id'>separator</span> <span class='plus op'>+</span> <span class='space identifier id'>space</span>

    <span class='sep identifier id'>sep</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='separator identifier id'>separator</span><span class='rbrack token'>]</span> <span class='mult op'>*</span> <span class='lparen token'>(</span><span class='size identifier id'>size</span> <span class='minus op'>-</span> <span class='integer val'>1</span><span class='rparen token'>)</span>

    <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='comma token'>,</span> <span class='s identifier id'>s</span><span class='bitor op'>|</span> <span class='sep identifier id'>sep</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='space identifier id'>space</span> <span class='plus op'>+</span> <span class='s identifier id'>s</span> <span class='plus op'>+</span> <span class='space identifier id'>space</span><span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
  <span class='zip identifier id'>zip</span><span class='lparen token'>(</span><span class='sep identifier id'>sep</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='join identifier id'>join</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="delete_unless-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>delete_unless</strong>(&amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Inverse of #delete_if.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='delete_unless identifier id'>delete_unless</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span> <span class='lt op'>&lt;</span> <span class='integer val'>2</span> <span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; [1]</span>
</pre>

<p>CREDIT: Daniel Schierbeck</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/delete_unless.rb', line 10</span>

<span class='def def kw'>def</span> <span class='delete_unless identifier id'>delete_unless</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='delete_if identifier id'>delete_if</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='element identifier id'>element</span><span class='bitor op'>|</span> <span class='not not kw'>not</span> <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='element identifier id'>element</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="delete_values-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>delete_values</strong>(*values) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Delete multiple values from array.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='delete_values identifier id'>delete_values</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rparen token'>)</span>   <span class='comment val'>#=&gt; [1,2]</span>
<span class='a identifier id'>a</span>                      <span class='comment val'>#=&gt; [3,4]</span>
</pre>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/delete_values.rb', line 11</span>

<span class='def def kw'>def</span> <span class='delete_values identifier id'>delete_values</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='values identifier id'>values</span><span class='rparen token'>)</span>
  <span class='d identifier id'>d</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='d identifier id'>d</span> <span class='lshft op'>&lt;&lt;</span> <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='d identifier id'>d</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="delete_values_at-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>delete_values_at</strong>(*selectors) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Delete multiple values from array given indexes or index range.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='delete_values_at identifier id'>delete_values_at</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rparen token'>)</span>   <span class='comment val'>#=&gt; [2,3]</span>
<span class='a identifier id'>a</span>                         <span class='comment val'>#=&gt; [1,4]</span>
<span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='delete_values_at identifier id'>delete_values_at</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>2</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; [1,2,3]</span>
<span class='a identifier id'>a</span>                         <span class='comment val'>#=&gt; [4]</span>
</pre>

<p>NOTE: It would be nice to see #delete_at incorporate this funcitonaility.</p>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/delete_values.rb', line 32</span>

<span class='def def kw'>def</span> <span class='delete_values_at identifier id'>delete_values_at</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='selectors identifier id'>selectors</span><span class='rparen token'>)</span>
  <span class='idx identifier id'>idx</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='selectors identifier id'>selectors</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
    <span class='case case kw'>case</span> <span class='i identifier id'>i</span>
    <span class='when when kw'>when</span> <span class='Range constant id'>Range</span>
      <span class='idx identifier id'>idx</span><span class='dot token'>.</span><span class='concat identifier id'>concat</span><span class='lparen token'>(</span> <span class='i identifier id'>i</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span> <span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='idx identifier id'>idx</span> <span class='lshft op'>&lt;&lt;</span> <span class='i identifier id'>i</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
    <span class='end end kw'>end</span>
  <span class='rbrace token'>}</span>
  <span class='idx identifier id'>idx</span><span class='dot token'>.</span><span class='uniq! fid id'>uniq!</span>
  <span class='dvals identifier id'>dvals</span> <span class='assign token'>=</span> <span class='values_at identifier id'>values_at</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='idx identifier id'>idx</span><span class='rparen token'>)</span>
  <span class='idx identifier id'>idx</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='size identifier id'>size</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span> <span class='minus op'>-</span> <span class='idx identifier id'>idx</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='replace identifier id'>replace</span><span class='lparen token'>(</span> <span class='values_at identifier id'>values_at</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='idx identifier id'>idx</span><span class='rparen token'>)</span> <span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='dvals identifier id'>dvals</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="divide-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>divide</strong>(pattern) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Divide on matching pattern.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='string val'>'a1'</span><span class='comma token'>,</span><span class='string val'>'b1'</span><span class='comma token'>,</span><span class='string val'>'a2'</span><span class='comma token'>,</span><span class='string val'>'b2'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='divide identifier id'>divide</span><span class='lparen token'>(</span><span class='regexp val'>/^a/</span><span class='rparen token'>)</span>
<span class='comment val'>#=&gt; [['a1','b1'],['a2','b2']]</span>
</pre>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/divide.rb', line 10</span>

<span class='def def kw'>def</span> <span class='divide identifier id'>divide</span><span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span><span class='rparen token'>)</span>
  <span class='memo identifier id'>memo</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='obj identifier id'>obj</span><span class='bitor op'>|</span>
    <span class='memo identifier id'>memo</span><span class='dot token'>.</span><span class='push identifier id'>push</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='pattern identifier id'>pattern</span> <span class='eqq op'>===</span> <span class='obj identifier id'>obj</span>
    <span class='memo identifier id'>memo</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span>
  <span class='end end kw'>end</span>
  <span class='memo identifier id'>memo</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="entropy-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>entropy</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Shannon’s entropy for an array - returns the average bits per symbol
required to encode the array. Lower values mean less “entropy” - i.e.
less unique information in the array.</p>

<pre class="code"><span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='dstring node'>%w{ a b c d e e e }</span><span class='dot token'>.</span><span class='entropy identifier id'>entropy</span>

<span class='lparen token'>(</span><span class='string val'>&quot;%.3f&quot;</span> <span class='mod op'>%</span> <span class='e identifier id'>e</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; &quot;2.128&quot;</span>
</pre>

<p>CREDIT: Derek</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18
19
20
21
22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/entropy.rb', line 16</span>

<span class='def def kw'>def</span> <span class='entropy identifier id'>entropy</span>
  <span class='arr identifier id'>arr</span> <span class='assign token'>=</span> <span class='self self kw'>self</span>
  <span class='probHash identifier id'>probHash</span> <span class='assign token'>=</span> <span class='arr identifier id'>arr</span><span class='dot token'>.</span><span class='probability identifier id'>probability</span>
  <span class='comment val'># -- h is the Shannon entropy of the array</span>
  <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='float val'>-1</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span> <span class='mult op'>*</span> <span class='probHash identifier id'>probHash</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='sum identifier id'>sum</span><span class='comma token'>,</span> <span class='i identifier id'>i</span><span class='bitor op'>|</span>
    <span class='sum identifier id'>sum</span> <span class='plus op'>+</span> <span class='lparen token'>(</span><span class='probHash identifier id'>probHash</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='mult op'>*</span> <span class='lparen token'>(</span><span class='Math constant id'>Math</span><span class='dot token'>.</span><span class='log identifier id'>log</span><span class='lparen token'>(</span><span class='probHash identifier id'>probHash</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='div op'>/</span><span class='Math constant id'>Math</span><span class='dot token'>.</span><span class='log identifier id'>log</span><span class='lparen token'>(</span><span class='float val'>2</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='h identifier id'>h</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="extract_options!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>extract_options!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Extracts options from a set of arguments. Removes and returns the last
element in the array if it’s a hash, otherwise returns a blank hash.</p>

<pre class="code"><span class='def def kw'>def</span> <span class='options identifier id'>options</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='extract_options! fid id'>extract_options!</span>
<span class='end end kw'>end</span>

<span class='options identifier id'>options</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='rparen token'>)</span>           <span class='comment val'># =&gt; {}</span>
<span class='options identifier id'>options</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='symbol val'>:a</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:b</span><span class='rparen token'>)</span> <span class='comment val'># =&gt; {:a=&gt;:b}</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


23
24
25
26
27
28
29</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/extract_options.rb', line 23</span>

<span class='def def kw'>def</span> <span class='extract_options! fid id'>extract_options!</span>
  <span class='if if kw'>if</span> <span class='Hash constant id'>Hash</span> <span class='eqq op'>===</span> <span class='last identifier id'>last</span> <span class='andop op'>&amp;&amp;</span> <span class='last identifier id'>last</span><span class='dot token'>.</span><span class='extractable_options? fid id'>extractable_options?</span>
    <span class='pop identifier id'>pop</span>
  <span class='else else kw'>else</span>
    <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="from-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>from</strong>(i) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns last <em>n</em> elements.</p>

<pre class="code"><span class='dstring node'>%w{W o r l d}</span><span class='dot token'>.</span><span class='from identifier id'>from</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; %w{l d}</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9
10</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/from.rb', line 7</span>

<span class='def def kw'>def</span> <span class='from identifier id'>from</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='self self kw'>self</span> <span class='if if_mod kw'>if</span> <span class='i identifier id'>i</span> <span class='geq op'>&gt;=</span> <span class='size identifier id'>size</span>
  <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='comma token'>,</span> <span class='size identifier id'>size</span> <span class='minus op'>-</span> <span class='i identifier id'>i</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span> <span class='unless unless_mod kw'>unless</span> <span class='method_defined? fid id'>method_defined?</span><span class='lparen token'>(</span><span class='symbol val'>:from</span><span class='rparen token'>)</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="ideal_entropy-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>ideal_entropy</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the maximum possible Shannon entropy of the array with given size
assuming that it is an “order-0” source (each element is selected
independently of the next).</p>

<p>CREDIT: Derek</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


32
33
34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/entropy.rb', line 32</span>

<span class='def def kw'>def</span> <span class='ideal_entropy identifier id'>ideal_entropy</span>
  <span class='arr identifier id'>arr</span> <span class='assign token'>=</span> <span class='self self kw'>self</span>
  <span class='unitProb identifier id'>unitProb</span> <span class='assign token'>=</span> <span class='float val'>1.0</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span> <span class='div op'>/</span> <span class='arr identifier id'>arr</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span>
  <span class='lparen token'>(</span><span class='float val'>-1</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span> <span class='mult op'>*</span> <span class='arr identifier id'>arr</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span> <span class='mult op'>*</span> <span class='unitProb identifier id'>unitProb</span> <span class='mult op'>*</span> <span class='Math constant id'>Math</span><span class='dot token'>.</span><span class='log identifier id'>log</span><span class='lparen token'>(</span><span class='unitProb identifier id'>unitProb</span><span class='rparen token'>)</span><span class='div op'>/</span><span class='Math constant id'>Math</span><span class='dot token'>.</span><span class='log identifier id'>log</span><span class='lparen token'>(</span><span class='float val'>2</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="index-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>index</strong>(obj = nil, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Allows #index to accept a block.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='string val'>'a'</span><span class='comma token'>,</span> <span class='string val'>'b'</span><span class='comma token'>,</span> <span class='string val'>'c'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='index identifier id'>index</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='upcase identifier id'>upcase</span> <span class='eq op'>==</span> <span class='string val'>'C'</span> <span class='rbrace token'>}</span> <span class='comment val'>#=&gt; 2</span>
</pre>

<p>IMPORTANT: This is one of the few core overrides in Facets.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14
15
16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/index.rb', line 12</span>

<span class='def def kw'>def</span> <span class='index identifier id'>index</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='_facets_index identifier id'>_facets_index</span><span class='lparen token'>(</span><span class='find identifier id'>find</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='_facets_index identifier id'>_facets_index</span><span class='lparen token'>(</span><span class='obj identifier id'>obj</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="merge!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>merge!</strong>(other) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>In place #merge.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span> <span class='lbrack token'>[</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span>
<span class='a identifier id'>a</span> <span class='comment val'>#=&gt; [1,2,3]</span>
</pre>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/merge.rb', line 11</span>

<span class='def def kw'>def</span> <span class='merge! fid id'>merge!</span><span class='lparen token'>(</span> <span class='other identifier id'>other</span> <span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="mode-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>mode</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>In Statistics mode is the value that occurs most frequently in a given set
of data. This method returns an array in case their is a tie.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span> <span class='symbol val'>:b</span><span class='comma token'>,</span> <span class='symbol val'>:c</span><span class='comma token'>,</span> <span class='symbol val'>:b</span><span class='comma token'>,</span> <span class='symbol val'>:d</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='mode identifier id'>mode</span>  <span class='comment val'>#=&gt; [:b]</span>
<span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span> <span class='symbol val'>:b</span><span class='comma token'>,</span> <span class='symbol val'>:c</span><span class='comma token'>,</span> <span class='symbol val'>:b</span><span class='comma token'>,</span> <span class='symbol val'>:a</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='mode identifier id'>mode</span>  <span class='comment val'>#=&gt; [:a, :b]</span>
</pre>

<p>Returns an Array of most common elements.</p>

<p>CREDIT: Robert Klemme</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16
17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/mode.rb', line 14</span>

<span class='def def kw'>def</span> <span class='mode identifier id'>mode</span>
  <span class='max identifier id'>max</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='integer val'>0</span>
  <span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='cc identifier id'>cc</span> <span class='assign token'>=</span> <span class='c identifier id'>c</span><span class='lbrack token'>[</span><span class='x identifier id'>x</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span><span class='semicolon token'>;</span> <span class='max identifier id'>max</span> <span class='assign token'>=</span> <span class='cc identifier id'>cc</span> <span class='if if_mod kw'>if</span> <span class='cc identifier id'>cc</span> <span class='gt op'>&gt;</span> <span class='max identifier id'>max</span><span class='rbrace token'>}</span>
  <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='select identifier id'>select</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='v identifier id'>v</span> <span class='eq op'>==</span> <span class='max identifier id'>max</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='k identifier id'>k</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="nonuniq-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>nonuniq</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='duplicates-instance_method'>duplicates</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns a list of non-unique elements</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='nonuniq identifier id'>nonuniq</span>  <span class='comment val'>#=&gt; [1,2]</span>
</pre>

<p>CREDIT: Martin DeMello</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/nonuniq.rb', line 9</span>

<span class='def def kw'>def</span> <span class='nonuniq identifier id'>nonuniq</span>
  <span class='h1 identifier id'>h1</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='h2 identifier id'>h2</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
    <span class='h2 identifier id'>h2</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='h1 identifier id'>h1</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
    <span class='h1 identifier id'>h1</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='rbrace token'>}</span>
  <span class='h2 identifier id'>h2</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="nonuniq!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>nonuniq!</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


20
21
22
23
24
25
26
27
28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/nonuniq.rb', line 20</span>

<span class='def def kw'>def</span> <span class='nonuniq! fid id'>nonuniq!</span>
  <span class='h1 identifier id'>h1</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='h2 identifier id'>h2</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
    <span class='h2 identifier id'>h2</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='true true kw'>true</span> <span class='if if_mod kw'>if</span> <span class='h1 identifier id'>h1</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
    <span class='h1 identifier id'>h1</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='rbrace token'>}</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='h2 identifier id'>h2</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="not_empty?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>not_empty?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Not empty?</p>

<pre class="code"><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='not_empty? fid id'>not_empty?</span>     <span class='comment val'>#=&gt; false</span>
<span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='not_empty? fid id'>not_empty?</span>  <span class='comment val'>#=&gt; true</span>
</pre>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/not_empty.rb', line 8</span>

<span class='def def kw'>def</span> <span class='not_empty? fid id'>not_empty?</span>
  <span class='notop op'>!</span><span class='empty? fid id'>empty?</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="object_state-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>object_state</strong>(data = nil) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/object/object_state.rb', line 47</span>

<span class='def def kw'>def</span> <span class='object_state identifier id'>object_state</span><span class='lparen token'>(</span><span class='data identifier id'>data</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='data identifier id'>data</span> <span class='integer val'>? </span><span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='data identifier id'>data</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='dup identifier id'>dup</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="only-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>only</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the <em>only</em> element in the array.  Raises an IndexError if
the array’s size is not 1.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='only identifier id'>only</span>      <span class='comment val'># =&gt; 5</span>

<span class='expect identifier id'>expect</span> <span class='IndexError constant id'>IndexError</span> <span class='do do kw'>do</span>
  <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='only identifier id'>only</span>
<span class='end end kw'>end</span>

<span class='expect identifier id'>expect</span> <span class='IndexError constant id'>IndexError</span> <span class='do do kw'>do</span>
  <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='only identifier id'>only</span>
<span class='end end kw'>end</span>
</pre>

<p>CREDIT: Gavin Sinclair, Noah Gibbs</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21
22
23</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/only.rb', line 18</span>

<span class='def def kw'>def</span> <span class='only identifier id'>only</span>
  <span class='unless unless kw'>unless</span> <span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>1</span>
    <span class='raise identifier id'>raise</span> <span class='IndexError constant id'>IndexError</span><span class='comma token'>,</span> <span class='string val'>&quot;Array#only called on non-single-element array&quot;</span>
  <span class='end end kw'>end</span>
  <span class='first identifier id'>first</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="pad-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>pad</strong>(len, val = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Pad an array with a given <tt>value</tt> up to a given <tt>length</tt>.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='pad identifier id'>pad</span><span class='lparen token'>(</span><span class='integer val'>6</span><span class='comma token'>,</span><span class='string val'>&quot;a&quot;</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; [0,1,2,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;]</span>
</pre>

<p>If <tt>length</tt> is a negative number padding will be added to the
beginning of the array.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='pad identifier id'>pad</span><span class='lparen token'>(</span><span class='integer val'>-6</span><span class='comma token'>,</span><span class='string val'>&quot;a&quot;</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; [&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,0,1,2]</span>
</pre>

<p>CREDIT: Richard Laugesen</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16
17
18
19
20
21</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/pad.rb', line 14</span>

<span class='def def kw'>def</span> <span class='pad identifier id'>pad</span><span class='lparen token'>(</span><span class='len identifier id'>len</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='dup identifier id'>dup</span> <span class='if if_mod kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='geq op'>&gt;=</span> <span class='len identifier id'>len</span><span class='dot token'>.</span><span class='abs identifier id'>abs</span>
  <span class='if if kw'>if</span> <span class='len identifier id'>len</span> <span class='lt op'>&lt;</span> <span class='integer val'>0</span>
    <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='lparen token'>(</span><span class='len identifier id'>len</span><span class='plus op'>+</span><span class='size identifier id'>size</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='abs identifier id'>abs</span><span class='comma token'>,</span><span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='self self kw'>self</span>
  <span class='else else kw'>else</span>
    <span class='self self kw'>self</span> <span class='plus op'>+</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='len identifier id'>len</span><span class='minus op'>-</span><span class='size identifier id'>size</span><span class='comma token'>,</span><span class='val identifier id'>val</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="pad!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>pad!</strong>(len, val = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Like #pad but changes the array in place.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='pad! fid id'>pad!</span><span class='lparen token'>(</span><span class='integer val'>6</span><span class='comma token'>,</span><span class='string val'>&quot;x&quot;</span><span class='rparen token'>)</span>
<span class='a identifier id'>a</span>  <span class='comment val'>#=&gt; [0,1,2,&quot;x&quot;,&quot;x&quot;,&quot;x&quot;]</span>
</pre>

<p>CREDIT: Richard Laugesen</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


31
32
33
34
35
36
37
38</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/pad.rb', line 31</span>

<span class='def def kw'>def</span> <span class='pad! fid id'>pad!</span><span class='lparen token'>(</span><span class='len identifier id'>len</span><span class='comma token'>,</span> <span class='val identifier id'>val</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='self self kw'>self</span> <span class='if if_mod kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='geq op'>&gt;=</span> <span class='len identifier id'>len</span><span class='dot token'>.</span><span class='abs identifier id'>abs</span>
  <span class='if if kw'>if</span> <span class='len identifier id'>len</span> <span class='lt op'>&lt;</span> <span class='integer val'>0</span>
    <span class='replace identifier id'>replace</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='lparen token'>(</span><span class='len identifier id'>len</span><span class='plus op'>+</span><span class='size identifier id'>size</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='abs identifier id'>abs</span><span class='comma token'>,</span><span class='val identifier id'>val</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='self self kw'>self</span>
  <span class='else else kw'>else</span>
    <span class='concat identifier id'>concat</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='len identifier id'>len</span><span class='minus op'>-</span><span class='size identifier id'>size</span><span class='comma token'>,</span><span class='val identifier id'>val</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="peek-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>peek</strong>(i = 0) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Peek at the top of the stack (the end of the array).</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='integer val'>3</span><span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='peek identifier id'>peek</span>          <span class='comment val'>#=&gt; 3</span>
<span class='a identifier id'>a</span>               <span class='comment val'>#=&gt; [1, 2, 3]</span>
</pre>

<p>Or provide an index to inspect the array from back to front.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/pull.rb', line 14</span>

<span class='def def kw'>def</span> <span class='peek identifier id'>peek</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='assign token'>=</span><span class='integer val'>0</span><span class='rparen token'>)</span>
  <span class='i identifier id'>i</span> <span class='assign token'>=</span> <span class='minus op'>-</span><span class='lparen token'>(</span><span class='i identifier id'>i</span> <span class='plus op'>+</span> <span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="permutation-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>permutation</strong>(n = size) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Permutation provids the possible orders of an enumerable. Each is indexed
by a permutation number. The maximum number of arrangements is the
factorial of the size of the array.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='permutation identifier id'>permutation</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span> <span class='comment val'>#=&gt; [[1,2], [2,1]]</span>
</pre>

<p>CREDIT: Shin-ichiro Hara</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/permutation.rb', line 13</span>

<span class='def def kw'>def</span> <span class='permutation identifier id'>permutation</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='assign token'>=</span><span class='size identifier id'>size</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='size identifier id'>size</span> <span class='lt op'>&lt;</span> <span class='n identifier id'>n</span> <span class='or or kw'>or</span> <span class='n identifier id'>n</span> <span class='lt op'>&lt;</span> <span class='integer val'>0</span>
  <span class='elsif elsif kw'>elsif</span> <span class='n identifier id'>n</span> <span class='eq op'>==</span> <span class='integer val'>0</span>
    <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='permutation identifier id'>permutation</span><span class='lparen token'>(</span><span class='n identifier id'>n</span> <span class='minus op'>-</span> <span class='integer val'>1</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span>
      <span class='lparen token'>(</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='n identifier id'>n</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
        <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='x identifier id'>x</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='plus op'>+</span> <span class='lbrack token'>[</span><span class='first identifier id'>first</span><span class='rbrack token'>]</span> <span class='plus op'>+</span> <span class='x identifier id'>x</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>-1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='permutation identifier id'>permutation</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span>
      <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='x identifier id'>x</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="poke-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>poke</strong>(x, i = 0) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Put an object on the bottom of the stack (front of the array).</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>2</span><span class='comma token'>,</span> <span class='integer val'>3</span><span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='poke identifier id'>poke</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span>
<span class='a identifier id'>a</span>               <span class='comment val'>#=&gt; [1, 2, 3]</span>
</pre>

<p>Or supply an index and #poke works like #insert.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/pull.rb', line 26</span>

<span class='def def kw'>def</span> <span class='poke identifier id'>poke</span><span class='lparen token'>(</span><span class='x identifier id'>x</span><span class='comma token'>,</span> <span class='i identifier id'>i</span><span class='assign token'>=</span><span class='integer val'>0</span><span class='rparen token'>)</span>
  <span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='i identifier id'>i</span><span class='comma token'>,</span><span class='x identifier id'>x</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="probability-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>probability</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Generates a hash mapping each unique element in the array to the relative
frequency, i.e. the probablity, of it appearence.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span> <span class='symbol val'>:b</span><span class='comma token'>,</span> <span class='symbol val'>:c</span><span class='comma token'>,</span> <span class='symbol val'>:c</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='probability identifier id'>probability</span>  <span class='comment val'>#=&gt; {:a=&gt; 0.25, :b=&gt;0.25, :c=&gt;0.5}</span>
</pre>

<p>CREDIT: Brian Schröder</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/probability.rb', line 10</span>

<span class='def def kw'>def</span> <span class='probability identifier id'>probability</span>
  <span class='probs identifier id'>probs</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='integer val'>.0</span><span class='rparen token'>)</span>
  <span class='size identifier id'>size</span> <span class='assign token'>=</span> <span class='integer val'>0</span><span class='integer val'>.0</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span>
    <span class='probs identifier id'>probs</span><span class='lbrack token'>[</span><span class='e identifier id'>e</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='float val'>1.0</span>
    <span class='size identifier id'>size</span> <span class='opasgn op'>+=</span> <span class='float val'>1.0</span>
  <span class='end end kw'>end</span>
  <span class='probs identifier id'>probs</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='probs identifier id'>probs</span><span class='lbrack token'>[</span><span class='e identifier id'>e</span><span class='rbrack token'>]</span> <span class='opasgn op'>/=</span> <span class='size identifier id'>size</span> <span class='rbrace token'>}</span>
  <span class='probs identifier id'>probs</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="product-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>product</strong>(*enums) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Provides the cartesian product of two or more arrays.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='product identifier id'>product</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
<span class='a identifier id'>a</span>  <span class='comment val'>#=&gt; [[1, 4],[1, 5],[2, 4],[2, 5]]</span>
</pre>

<p>CREDIT: Thomas Hafner</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/product.rb', line 12</span>

<span class='def def kw'>def</span> <span class='product identifier id'>product</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='enums identifier id'>enums</span><span class='rparen token'>)</span>
  <span class='enums identifier id'>enums</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span> <span class='self self kw'>self</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>
  <span class='while while kw'>while</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='neq op'>!=</span> <span class='enums identifier id'>enums</span>
    <span class='t identifier id'>t</span><span class='comma token'>,</span> <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='result identifier id'>result</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='b identifier id'>b</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='enums identifier id'>enums</span> <span class='assign token'>=</span> <span class='enums identifier id'>enums</span>
    <span class='t identifier id'>t</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span>
      <span class='b identifier id'>b</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span>
        <span class='result identifier id'>result</span> <span class='lshft op'>&lt;&lt;</span> <span class='a identifier id'>a</span> <span class='plus op'>+</span> <span class='lbrack token'>[</span><span class='n identifier id'>n</span><span class='rbrack token'>]</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='result identifier id'>result</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="recurse-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>recurse</strong>(*types) {|a| ... }
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Apply a block to array, and recursively apply that block to each sub-array
or <tt>types</tt>.</p>

<pre class="code"><span class='arr identifier id'>arr</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='string val'>&quot;a&quot;</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>&quot;b&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;c&quot;</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='rbrack token'>]</span>
<span class='arr identifier id'>arr</span><span class='dot token'>.</span><span class='recurse identifier id'>recurse</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='compact! fid id'>compact!</span> <span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; [&quot;a&quot;, [&quot;b&quot;, &quot;c&quot;]]</span>
</pre>


  </div>
</div>
<div class="tags">
  <h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
        <span class='type'>(<tt>a</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20
21
22</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/recurse.rb', line 10</span>

<span class='def def kw'>def</span> <span class='recurse identifier id'>recurse</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='types identifier id'>types</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='types identifier id'>types</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='types identifier id'>types</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
  <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='array identifier id'>array</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>
    <span class='case case kw'>case</span> <span class='value identifier id'>value</span>
    <span class='when when kw'>when</span> <span class='mult op'>*</span><span class='types identifier id'>types</span>
      <span class='array identifier id'>array</span> <span class='lshft op'>&lt;&lt;</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='recurse identifier id'>recurse</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='types identifier id'>types</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='array identifier id'>array</span> <span class='lshft op'>&lt;&lt;</span> <span class='value identifier id'>value</span>
    <span class='end end kw'>end</span>
    <span class='array identifier id'>array</span>
  <span class='end end kw'>end</span>
  <span class='yield yield kw'>yield</span> <span class='a identifier id'>a</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="recurse!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>recurse!</strong>(&amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>In place form of #recurse.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/recurse.rb', line 25</span>

<span class='def def kw'>def</span> <span class='recurse! fid id'>recurse!</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='recurse identifier id'>recurse</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="recursively-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>recursively</strong>(*types, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Apply a method to array, and recursively apply that method to each
sub-array or <tt>types</tt>.</p>

<pre class="code"><span class='arr identifier id'>arr</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='string val'>&quot;a&quot;</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>&quot;b&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;c&quot;</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>
<span class='arr identifier id'>arr</span><span class='dot token'>.</span><span class='recursively identifier id'>recursively</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='v identifier id'>v</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span> <span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; [:a, [:b, :c]]</span>
</pre>

<p>By default the sub-types are passed thru uneffected. Passing a block to
#recursively changes this.</p>

<pre class="code"><span class='arr identifier id'>arr</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='string val'>&quot;a&quot;</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>&quot;b&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;c&quot;</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>
<span class='arr identifier id'>arr</span><span class='dot token'>.</span><span class='recursively identifier id'>recursively</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='reverse identifier id'>reverse</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='v identifier id'>v</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span> <span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; [:a, [:c, :b]]</span>
</pre>

<p>TODO: Return Enumerator if no <tt>yld</tt> block is given ?</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/recursively.rb', line 21</span>

<span class='def def kw'>def</span> <span class='recursively identifier id'>recursively</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='types identifier id'>types</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='Recursor constant id'>Recursor</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='types identifier id'>types</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="rotate-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>rotate</strong>(n = 1) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Rotates an array’s elements from back to front n times.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rotate identifier id'>rotate</span>      <span class='comment val'>#=&gt; [2,3,1]</span>
<span class='lbrack token'>[</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rotate identifier id'>rotate</span>      <span class='comment val'>#=&gt; [3,1,2]</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rotate identifier id'>rotate</span>      <span class='comment val'>#=&gt; [1,2,3]</span>

<span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rotate identifier id'>rotate</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span>   <span class='comment val'>#=&gt; [1,2,3]</span>
</pre>

<p>A negative parameter reverses the order from front to back.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rotate identifier id'>rotate</span><span class='lparen token'>(</span><span class='integer val'>-1</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; [3,1,2]</span>
</pre>

<p>CREDIT: Florian Gross, Thomas Sawyer</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


19
20
21</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/rotate.rb', line 19</span>

<span class='def def kw'>def</span> <span class='rotate identifier id'>rotate</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='assign token'>=</span><span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span><span class='dot token'>.</span><span class='rotate! fid id'>rotate!</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="rotate!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>rotate!</strong>(n = 1) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Same as #rotate, but acts in place.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='rotate! fid id'>rotate!</span>
<span class='a identifier id'>a</span>  <span class='comment val'>#=&gt; [2,3,1]</span>
</pre>

<p>CREDIT: Florian Gross, Thomas Sawyer</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37
38
39
40
41
42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/rotate.rb', line 35</span>

<span class='def def kw'>def</span> <span class='rotate! fid id'>rotate!</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='assign token'>=</span><span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='n identifier id'>n</span> <span class='assign token'>=</span> <span class='n identifier id'>n</span><span class='dot token'>.</span><span class='to_int identifier id'>to_int</span>
  <span class='return return kw'>return</span> <span class='self self kw'>self</span> <span class='if if_mod kw'>if</span> <span class='lparen token'>(</span><span class='n identifier id'>n</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='or or kw'>or</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='n identifier id'>n</span> <span class='lt op'>&lt;</span> <span class='integer val'>0</span>
    <span class='n identifier id'>n</span><span class='dot token'>.</span><span class='abs identifier id'>abs</span><span class='dot token'>.</span><span class='times identifier id'>times</span><span class='lbrace token'>{</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='else else kw'>else</span>
    <span class='n identifier id'>n</span><span class='dot token'>.</span><span class='abs identifier id'>abs</span><span class='dot token'>.</span><span class='times identifier id'>times</span><span class='lbrace token'>{</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='push identifier id'>push</span><span class='lparen token'>(</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='shift identifier id'>shift</span> <span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="select!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>select!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>As with #select but modifies the Array in place.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='comma token'>,</span><span class='integer val'>6</span><span class='comma token'>,</span><span class='integer val'>7</span><span class='comma token'>,</span><span class='integer val'>8</span><span class='comma token'>,</span><span class='integer val'>9</span><span class='comma token'>,</span><span class='integer val'>10</span><span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='select! fid id'>select!</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='e identifier id'>e</span> <span class='mod op'>%</span> <span class='integer val'>2</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='rbrace token'>}</span>
<span class='a identifier id'>a</span>  <span class='comment val'>#=&gt; [2,4,6,8,10]</span>
</pre>

<p>CREDIT: Gavin Sinclair</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/select.rb', line 13</span>

<span class='def def kw'>def</span> <span class='select! fid id'>select!</span>  
  <span class='reject! fid id'>reject!</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='not not kw'>not</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="splice-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>splice</strong>(*args) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Splice acts a combination of #slice! and #store. If two arguments are given
it calls #store. If a single argument is given it calls slice!.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='splice identifier id'>splice</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span>    <span class='comment val'>#=&gt; 2</span>
<span class='a identifier id'>a</span>              <span class='comment val'>#=&gt; [1,3]</span>

<span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='splice identifier id'>splice</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; 4</span>
<span class='a identifier id'>a</span>              <span class='comment val'>#=&gt;[1,4,3]</span>
</pre>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


19
20
21
22
23
24
25</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/splice.rb', line 19</span>

<span class='def def kw'>def</span> <span class='splice identifier id'>splice</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='eq op'>==</span> <span class='integer val'>1</span>
    <span class='slice! fid id'>slice!</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='store identifier id'>store</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="split-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>split</strong>(pattern) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Split on matching pattern. Unlike #divide this does not include matching
elements.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='string val'>'a1'</span><span class='comma token'>,</span><span class='string val'>'a2'</span><span class='comma token'>,</span><span class='string val'>'b1'</span><span class='comma token'>,</span><span class='string val'>'a3'</span><span class='comma token'>,</span><span class='string val'>'b2'</span><span class='comma token'>,</span><span class='string val'>'a4'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='regexp val'>/^b/</span><span class='rparen token'>)</span>
<span class='comment val'>#=&gt; [['a1','a2'],['a3'],['a4']]</span>
</pre>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/split.rb', line 10</span>

<span class='def def kw'>def</span> <span class='split identifier id'>split</span><span class='lparen token'>(</span><span class='pattern identifier id'>pattern</span><span class='rparen token'>)</span>
  <span class='memo identifier id'>memo</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='sect identifier id'>sect</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='obj identifier id'>obj</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='pattern identifier id'>pattern</span> <span class='eqq op'>===</span> <span class='obj identifier id'>obj</span>
      <span class='memo identifier id'>memo</span> <span class='lshft op'>&lt;&lt;</span> <span class='sect identifier id'>sect</span>
      <span class='sect identifier id'>sect</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='else else kw'>else</span>
      <span class='sect identifier id'>sect</span> <span class='lshft op'>&lt;&lt;</span> <span class='obj identifier id'>obj</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='memo identifier id'>memo</span> <span class='lshft op'>&lt;&lt;</span> <span class='sect identifier id'>sect</span>
  <span class='memo identifier id'>memo</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='while while_mod kw'>while</span> <span class='memo identifier id'>memo</span><span class='dot token'>.</span><span class='last identifier id'>last</span> <span class='eq op'>==</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='memo identifier id'>memo</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="thru-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>thru</strong>(from, to = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Fetch values from a start index thru an end index.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='thru identifier id'>thru</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; [1,2,3]</span>
<span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='thru identifier id'>thru</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; [3,4,5]</span>

<span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='thru identifier id'>thru</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; [1,2,3]</span>
<span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='thru identifier id'>thru</span><span class='lparen token'>(</span><span class='integer val'>4</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; [1,2,3,4,5]</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


20
21
22
23
24
25
26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/from.rb', line 20</span>

<span class='def def kw'>def</span> <span class='thru identifier id'>thru</span><span class='lparen token'>(</span><span class='from identifier id'>from</span><span class='comma token'>,</span> <span class='to identifier id'>to</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='from identifier id'>from</span><span class='comma token'>,</span> <span class='to identifier id'>to</span> <span class='assign token'>=</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='from identifier id'>from</span> <span class='unless unless_mod kw'>unless</span> <span class='to identifier id'>to</span>
  <span class='to identifier id'>to</span> <span class='assign token'>=</span> <span class='size identifier id'>size</span> <span class='minus op'>-</span> <span class='integer val'>1</span> <span class='if if_mod kw'>if</span> <span class='to identifier id'>to</span> <span class='geq op'>&gt;=</span> <span class='size identifier id'>size</span>
  <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='i identifier id'>i</span> <span class='assign token'>=</span> <span class='from identifier id'>from</span>
  <span class='while while kw'>while</span> <span class='i identifier id'>i</span> <span class='leq op'>&lt;=</span> <span class='to identifier id'>to</span>
    <span class='a identifier id'>a</span> <span class='lshft op'>&lt;&lt;</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
    <span class='i identifier id'>i</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
  <span class='end end kw'>end</span>
  <span class='a identifier id'>a</span>
<span class='end end kw'>end</span> <span class='unless unless_mod kw'>unless</span> <span class='method_defined? fid id'>method_defined?</span><span class='lparen token'>(</span><span class='symbol val'>:thru</span><span class='rparen token'>)</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_b-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_b</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Boolean conversion for not empty?</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


110
111
112</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/boolean.rb', line 110</span>

<span class='def def kw'>def</span> <span class='to_b identifier id'>to_b</span>
  <span class='notop op'>!</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_h-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_h</strong>(mode = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Converts an array into a hash. Converting an array into a hash is not a
one-to-one conversion, for this reason #to_h examines at the array being
converted and then dispatches the conversion to the most sutiable
specialized function. There are three possiblities for this.</p>

<p>If the array is a collection of perfect pairs, like that which Hash#to_a
generates, then conversion is handled by  #to_h_flat.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span> <span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:b</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span> <span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='to_h identifier id'>to_h</span>  <span class='comment val'>#=&gt; { :a=&gt;1, :b=&gt;2 }</span>
</pre>

<p>If the array contains only arrays, but are not perfect pairs, then
#to_h_multi is called.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span> <span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:b</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:c</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:d</span><span class='rbrack token'>]</span> <span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='to_h identifier id'>to_h</span>  <span class='comment val'>#=&gt; { :a=&gt;[1,2], :b=&gt;[2], :c=&gt;[], :d=&gt;[] }</span>
</pre>

<p>If the array contians objects other then arrays then the #to_h_splat method
is called.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span> <span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='symbol val'>:b</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:c</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='integer val'>9</span> <span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='to_h identifier id'>to_h</span>  <span class='comment val'>#=&gt; { [:a,1,2]=&gt;2, :b=&gt;[:c,3], 9=&gt;nil }</span>
</pre>

<p>Finally, a particular dispatch can be forced by  specifying the
<tt>mode</tt> of conversion, eg. <tt>:multi</tt>, <tt>:splat</tt>,
<tt>:flat</tt>, <tt>:assoc</tt>, etc.</p>

<p>Setting <tt>mode</tt> to <tt>true</tt> is the same as setting it
<tt>:multi</tt>. This has been left in for backward compatability.</p>

<p>NOTE: The use of a <tt>values</tt> parameter has been deprecated because
that functionality is as simple as …</p>

<pre class="code"><span class='array1 identifier id'>array1</span><span class='dot token'>.</span><span class='zip identifier id'>zip</span><span class='lparen token'>(</span><span class='array2 identifier id'>array2</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_h identifier id'>to_h</span>
</pre>

<p>CREDIT: Robert Klemme, Trans</p>

<p>– The <tt>True</tt> option in the case statement provides some backward
compatability with the previous versions of this method. ++</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


51
52
53
54
55
56
57
58
59
60
61
62
63
64</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/to_hash.rb', line 51</span>

<span class='def def kw'>def</span> <span class='to_h identifier id'>to_h</span><span class='lparen token'>(</span><span class='mode identifier id'>mode</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='case case kw'>case</span> <span class='mode identifier id'>mode</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:splat</span>
    <span class='return return kw'>return</span> <span class='to_h_splat identifier id'>to_h_splat</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:flat</span>
    <span class='return return kw'>return</span> <span class='to_h_flat identifier id'>to_h_flat</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:multi</span><span class='comma token'>,</span> <span class='true true kw'>true</span>
    <span class='return return kw'>return</span> <span class='to_h_multi identifier id'>to_h_multi</span>
  <span class='when when kw'>when</span> <span class='symbol val'>:assoc</span>
    <span class='return return kw'>return</span> <span class='to_h_assoc identifier id'>to_h_assoc</span>
  <span class='else else kw'>else</span>
    <span class='return return kw'>return</span> <span class='to_h_auto identifier id'>to_h_auto</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_h_assoc-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_h_assoc</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>When a mixed or multi-element accociative array is used, the result is as
follows:</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span> <span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:b</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:c</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:d</span> <span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='to_h identifier id'>to_h</span>  <span class='comment val'>#=&gt; { :a=&gt;[1,2], :b=&gt;[2], :c=&gt;[], :d=&gt;[] }</span>
</pre>

<p>If the first entry of any subelements are the same, then the value will be
set to the last occuring value.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span> <span class='symbol val'>:x</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:x</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:x</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:x</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:x</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='rbrack token'>]</span> <span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='to_h_assoc identifier id'>to_h_assoc</span>  <span class='comment val'>#=&gt; { :x=&gt;[4] }</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


157
158
159
160
161
162
163</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/to_hash.rb', line 157</span>

<span class='def def kw'>def</span> <span class='to_h_assoc identifier id'>to_h_assoc</span>
  <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='mult op'>*</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> 
    <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span>
  <span class='end end kw'>end</span>
  <span class='h identifier id'>h</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_h_auto-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_h_auto</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Converts an array into a hash. Converting an array into a hash is not a
one-to-one conversion, for this reason #to_h examines at the array being
converted and then dispatches the conversion to the most sutiable
specialized function. There are three possiblities for this.</p>

<p>If the array is a collection of perfect pairs, like that which Hash#to_a
generates, then conversion is handled by  #to_h_flat.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span> <span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:b</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span> <span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='to_h_auto identifier id'>to_h_auto</span>  <span class='comment val'>#=&gt; { :a=&gt;1, :b=&gt;2 }</span>
</pre>

<p>If the array contains only arrays, but are not perfect pairs, then
#to_h_multi is called.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span> <span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:b</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:c</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:d</span><span class='rbrack token'>]</span> <span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='to_h_auto identifier id'>to_h_auto</span>  <span class='comment val'>#=&gt; { :a=&gt;[1,2], :b=&gt;[2], :c=&gt;[], :d=&gt;[] }</span>
</pre>

<p>If the array contians objects other then arrays then the #to_h_splat method
is called.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span> <span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='symbol val'>:b</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:c</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='integer val'>9</span> <span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='to_h_auto identifier id'>to_h_auto</span>  <span class='comment val'>#=&gt; { [:a,1,2]=&gt;2, :b=&gt;[:c,3], 9=&gt;nil }</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/to_hash.rb', line 91</span>

<span class='def def kw'>def</span> <span class='to_h_auto identifier id'>to_h_auto</span>
  <span class='pairs identifier id'>pairs</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
  <span class='mixed identifier id'>mixed</span> <span class='assign token'>=</span> <span class='false false kw'>false</span>

  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span>
    <span class='case case kw'>case</span> <span class='e identifier id'>e</span>
    <span class='when when kw'>when</span> <span class='Array constant id'>Array</span>
      <span class='pairs identifier id'>pairs</span> <span class='assign token'>=</span> <span class='false false kw'>false</span> <span class='if if_mod kw'>if</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='gt op'>&gt;</span> <span class='integer val'>2</span>
    <span class='else else kw'>else</span>
      <span class='mixed identifier id'>mixed</span> <span class='assign token'>=</span> <span class='true true kw'>true</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='if if kw'>if</span> <span class='mixed identifier id'>mixed</span>
    <span class='to_h_splat identifier id'>to_h_splat</span>
  <span class='elsif elsif kw'>elsif</span> <span class='pairs identifier id'>pairs</span>
    <span class='to_h_flat identifier id'>to_h_flat</span>
  <span class='else else kw'>else</span>
    <span class='to_h_multi identifier id'>to_h_multi</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_h_flat-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_h_flat</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>This is equivalent to <a href="http://*array.flatten">Hash</a>, but it will
pad the array with a <tt>nil</tt> object if there are not an even number of
elements.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='lbrack token'>[</span><span class='symbol val'>:b</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='symbol val'>:c</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='to_h_flat identifier id'>to_h_flat</span>  <span class='comment val'>#=&gt; { :a=&gt;1, :b=&gt;2, :c=&gt;nil }</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


133
134
135
136
137</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/to_hash.rb', line 133</span>

<span class='def def kw'>def</span> <span class='to_h_flat identifier id'>to_h_flat</span>
  <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='flatten identifier id'>flatten</span>
  <span class='a identifier id'>a</span> <span class='lshft op'>&lt;&lt;</span> <span class='nil nil kw'>nil</span> <span class='if if_mod kw'>if</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='mod op'>%</span> <span class='integer val'>2</span> <span class='eq op'>==</span> <span class='integer val'>1</span>
  <span class='Hash constant id'>Hash</span><span class='lbrack token'>[</span><span class='mult op'>*</span><span class='a identifier id'>a</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_h_multi-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_h_multi</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>When a mixed or multi-element accociative array is used, the result is as
follows:</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span> <span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:b</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:c</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:d</span> <span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='to_h identifier id'>to_h</span>  <span class='comment val'>#=&gt; { :a=&gt;[1,2], :b=&gt;[2], :c=&gt;[], :d=&gt;[] }</span>
</pre>

<p>If the first entry of the subelements is the same, then the values will be
merged using #concat.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span> <span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:a</span> <span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='to_h_multi identifier id'>to_h_multi</span>  <span class='comment val'>#=&gt; { :a=&gt;[1,2,3,4] }</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


177
178
179
180
181
182
183
184</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/to_hash.rb', line 177</span>

<span class='def def kw'>def</span> <span class='to_h_multi identifier id'>to_h_multi</span>
  <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='mult op'>*</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> 
    <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
    <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='concat identifier id'>concat</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='h identifier id'>h</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_h_splat-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_h_splat</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>This is equivalent to Hash[*array], but it will pad the array with a
<tt>nil</tt> object if there are not an even number of elements.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='symbol val'>:b</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='symbol val'>:c</span><span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='to_h_splat identifier id'>to_h_splat</span>  <span class='comment val'>#=&gt; { :a=&gt;1, :b=&gt;2, :c=&gt;nil }</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


120
121
122
123
124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/to_hash.rb', line 120</span>

<span class='def def kw'>def</span> <span class='to_h_splat identifier id'>to_h_splat</span>
  <span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='dup identifier id'>dup</span>
  <span class='a identifier id'>a</span> <span class='lshft op'>&lt;&lt;</span> <span class='nil nil kw'>nil</span> <span class='if if_mod kw'>if</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='mod op'>%</span> <span class='integer val'>2</span> <span class='eq op'>==</span> <span class='integer val'>1</span>
  <span class='Hash constant id'>Hash</span><span class='lbrack token'>[</span><span class='mult op'>*</span><span class='a identifier id'>a</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="traverse-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>traverse</strong>(&amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns a new array created by traversing the array and its sub-arrays,
executing the given block on the elements.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='string val'>&quot;A&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;B&quot;</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>&quot;X&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;Y&quot;</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>

<span class='g identifier id'>g</span> <span class='assign token'>=</span> <span class='h identifier id'>h</span><span class='dot token'>.</span><span class='traverse identifier id'>traverse</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span> <span class='rbrace token'>}</span>

<span class='g identifier id'>g</span>  <span class='comment val'>#=&gt; [&quot;a&quot;, &quot;b&quot;, [&quot;x&quot;, &quot;y&quot;]]</span>
</pre>

<p>This is the same as <tt>recursive.map</tt> and will likely be deprecated in
the future because of it.</p>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18
19
20
21
22
23
24
25
26
27
28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/traverse.rb', line 16</span>

<span class='def def kw'>def</span> <span class='traverse identifier id'>traverse</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:to_ary</span><span class='rparen token'>)</span>
        <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='to_ary identifier id'>to_ary</span><span class='dot token'>.</span><span class='traverse identifier id'>traverse</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
      <span class='else else kw'>else</span>
        <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='to_enum identifier id'>to_enum</span><span class='lparen token'>(</span><span class='symbol val'>:traverse</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="traverse!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>traverse!</strong>(&amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Like #recursive_map, but will change the array in place.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='string val'>&quot;A&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;B&quot;</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>&quot;X&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;Y&quot;</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>

<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='traverse! fid id'>traverse!</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span> <span class='rbrace token'>}</span>

<span class='h identifier id'>h</span>  <span class='comment val'>#=&gt; [&quot;a&quot;, &quot;b&quot;, [&quot;x&quot;, &quot;y&quot;]]</span>
</pre>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


39
40
41</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/traverse.rb', line 39</span>

<span class='def def kw'>def</span> <span class='traverse! fid id'>traverse!</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='traverse identifier id'>traverse</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="uniq_by!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>uniq_by!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Like #uniq, but determines uniqueness based on a given block.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='float val'>-5</span><span class='dot2 op'>..</span><span class='integer val'>5</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='uniq_by! fid id'>uniq_by!</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='i identifier id'>i</span><span class='mult op'>*</span><span class='i identifier id'>i</span> <span class='rbrace token'>}</span>
<span class='a identifier id'>a</span> <span class='comment val'>#=&gt; [-5, -4, -3, -2, -1, 0]</span>
</pre>

<p>As can be seen in the example, order is significant.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/uniq_by.rb', line 10</span>

<span class='def def kw'>def</span> <span class='uniq_by! fid id'>uniq_by!</span> 
  <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='replace identifier id'>replace</span><span class='lparen token'>(</span> <span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='comma token'>,</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='x identifier id'>x</span><span class='rparen token'>)</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='a identifier id'>a</span> <span class='lshft op'>&lt;&lt;</span> <span class='x identifier id'>x</span><span class='rbrace token'>}</span> <span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Tue May 17 02:26:29 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.7 (ruby-1.8.7).
</div>

  </body>
</html>