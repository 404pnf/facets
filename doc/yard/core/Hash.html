<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf8" />
<title>Class: Hash</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (H)</a> &raquo; 
    
    
    <span class="title">Hash</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Hash
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Hash</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/core/facets/hash/at.rb<span class="defines">,<br />
  lib/core/facets/to_hash.rb,<br /> lib/core/facets/boolean.rb,<br /> lib/core/facets/hash/zip.rb,<br /> lib/core/facets/hash/data.rb,<br /> lib/core/facets/hash/diff.rb,<br /> lib/core/facets/hash/keys.rb,<br /> lib/core/facets/hash/swap.rb,<br /> lib/core/facets/hash/join.rb,<br /> lib/core/facets/hash/rekey.rb,<br /> lib/core/facets/hash/count.rb,<br /> lib/core/facets/hash/slice.rb,<br /> lib/core/facets/hash/weave.rb,<br /> lib/core/facets/hash/op_or.rb,<br /> lib/core/facets/hash/graph.rb,<br /> lib/core/facets/hash/alias.rb,<br /> lib/core/facets/hash/op_and.rb,<br /> lib/core/facets/hash/op_sub.rb,<br /> lib/core/facets/hash/except.rb,<br /> lib/core/facets/hash/to_mod.rb,<br /> lib/core/facets/hash/insert.rb,<br /> lib/core/facets/hash/select.rb,<br /> lib/core/facets/hash/subset.rb,<br /> lib/core/facets/hash/op_add.rb,<br /> lib/core/facets/hash/op_mul.rb,<br /> lib/core/facets/hash/collate.rb,<br /> lib/core/facets/kernel/blank.rb,<br /> lib/core/facets/hash/to_proc.rb,<br /> lib/core/facets/hash/inverse.rb,<br /> lib/core/facets/hash/op_push.rb,<br /> lib/core/facets/hash/recurse.rb,<br /> lib/core/facets/hash/autonew.rb,<br /> lib/core/facets/hash/new_with.rb,<br /> lib/core/facets/hash/traverse.rb,<br /> lib/core/facets/hash/to_struct.rb,<br /> lib/core/facets/hash/delete_at.rb,<br /> lib/core/facets/hash/deep_merge.rb,<br /> lib/core/facets/hash/recursively.rb,<br /> lib/core/facets/hash/update_each.rb,<br /> lib/core/facets/hash/update_keys.rb,<br /> lib/core/facets/hash/argumentize.rb,<br /> lib/core/facets/hash/replace_each.rb,<br /> lib/core/facets/hash/update_values.rb,<br /> lib/core/facets/hash/delete_unless.rb,<br /> lib/core/facets/hash/reverse_merge.rb,<br /> lib/core/facets/hash/delete_values.rb,<br /> lib/core/facets/hash/dearray_values.rb,<br /> lib/core/facets/object/object_state.rb,<br /> lib/core/facets/hash/symbolize_keys.rb,<br /> lib/core/facets/array/extract_options.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Defined Under Namespace</h2>
<p class="children">
   
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Hash/Recursor.html" title="Hash::Recursor (class)">Recursor</a></span>
    
  
</p>



  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#autonew-class_method" title="autonew (class method)">+ (Object) <strong>autonew</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Hash which auto initializes it’s children.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new_with-class_method" title="new_with (class method)">+ (Object) <strong>new_with</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Instantiate a new hash with a default value determined by the block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#zip-class_method" title="zip (class method)">+ (Object) <strong>zip</strong>(keys, values) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a new hash from two separate arrays, a <tt>keys</tt> array and a
<tt>values</tt> array.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%26-instance_method" title="#&amp; (instance method)">- (Object) <strong>&amp;</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Hash intersection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%2A-instance_method" title="#* (instance method)">- (Object) <strong>*</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Like merge operator ‘+’ but merges in reverse order.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%2B-instance_method" title="#+ (instance method)">- (Object) <strong>+</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Operator for #merge.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#--instance_method" title="#- (instance method)">- (Object) <strong>-</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Operator for remove hash paris.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3C%3C-instance_method" title="#&lt;&lt; (instance method)">- (Object) <strong>&lt;&lt;</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Can be used like update, or passed as two-element [key,value] array.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#alias%21-instance_method" title="#alias! (instance method)">- (Object) <strong>alias!</strong>(newkey, oldkey) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Modifies the receiving Hash so that the value previously referred to by
<em>oldkey</em> is also referenced by <em>newkey</em>; <em>oldkey</em> is
retained in the Hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#argumentize-instance_method" title="#argumentize (instance method)">- (Object) <strong>argumentize</strong>(args_field = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Turn a hash into a method arguments.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#collate-instance_method" title="#collate (instance method)">- (Object) <strong>collate</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Merge the values of this hash with those from another, setting all values
to be arrays representing the values from both hashes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#collate%21-instance_method" title="#collate! (instance method)">- (Object) <strong>collate!</strong>(other_hash) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The same as #collate, but modifies the receiver in place.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#count-instance_method" title="#count (instance method)">- (Object) <strong>count</strong>(value) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Like Enumerable#count, but counts hash values.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#data-instance_method" title="#data (instance method)">- (Object) <strong>data</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Access to a hash as if it were an OpenStruct.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dearray_singular_values-instance_method" title="#dearray_singular_values (instance method)">- (Object) <strong>dearray_singular_values</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Any array values with one or no elements will be set to the element or nil.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dearray_values-instance_method" title="#dearray_values (instance method)">- (Object) <strong>dearray_values</strong>(index = 0) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Any array values with be replaced with the first element of the array.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deep_merge-instance_method" title="#deep_merge (instance method)">- (Object) <strong>deep_merge</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Same as Hash#merge but recursively merges sub-hashes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deep_merge%21-instance_method" title="#deep_merge! (instance method)">- (Object) <strong>deep_merge!</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Same as Hash#merge! but recursively merges sub-hashes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_unless-instance_method" title="#delete_unless (instance method)">- (Object) <strong>delete_unless</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Inverse of #delete_if.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_values-instance_method" title="#delete_values (instance method)">- (Object) <strong>delete_values</strong>(*values) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Minor modification to Ruby’s Hash#delete method allowing it to take
multiple keys.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_values_at-instance_method" title="#delete_values_at (instance method)">- (Object) <strong>delete_values_at</strong>(*keys, &amp;yld) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Minor modification to Ruby’s Hash#delete method allowing it to take
multiple keys.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#diff-instance_method" title="#diff (instance method)">- (Object) <strong>diff</strong>(hash) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Difference comparison of two hashes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_with_key-instance_method" title="#each_with_key (instance method)">- (Object) <strong>each_with_key</strong>(&amp;yld) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Each with key is like each_pair but reverses the order the parameters to
[value,key] instead of [key,value].</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#except-instance_method" title="#except (instance method)">- (Object) <strong>except</strong>(*less_keys) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a new hash less the given keys.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#except%21-instance_method" title="#except! (instance method)">- (Object) <strong>except!</strong>(*rejected) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Replaces hash with new hash less the given keys.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extractable_options%3F-instance_method" title="#extractable_options? (instance method)">- (Boolean) <strong>extractable_options?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>By default, only instances of Hash itself are extractable.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#graph%21-instance_method" title="#graph! (instance method)">- (Object) <strong>graph!</strong>(&amp;yld) </a>
    

    
      (also: #mash!)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>In place version of #graph.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_keys%3F-instance_method" title="#has_keys? (instance method)">- (Boolean) <strong>has_keys?</strong>(*check_keys) </a>
    

    
      (also: #keys?)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true or false whether the hash contains the given keys.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_only_keys%3F-instance_method" title="#has_only_keys? (instance method)">- (Boolean) <strong>has_only_keys?</strong>(*check_keys) </a>
    

    
      (also: #only_keys?)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if the hash contains <em>only</em> the given keys, otherwise
false.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#insert-instance_method" title="#insert (instance method)">- (Object) <strong>insert</strong>(name, value) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>As with #store but only if the key isn’t already in the hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inverse-instance_method" title="#inverse (instance method)">- (Object) <strong>inverse</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a “true” inverse hash by storing mutliple values in Arrays.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#join-instance_method" title="#join (instance method)">- (Object) <strong>join</strong>(pair_divider = '', elem_divider = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Like Array#join but specialized to Hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#object_state-instance_method" title="#object_state (instance method)">- (Object) <strong>object_state</strong>(data = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#recurse-instance_method" title="#recurse (instance method)">- (Object) <strong>recurse</strong>(*types) {|h| ... }</a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Apply a block to hash, and recursively apply that block to each sub-hash or
<tt>types</tt>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#recurse%21-instance_method" title="#recurse! (instance method)">- (Object) <strong>recurse!</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>In place form of #recurse.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#recursively-instance_method" title="#recursively (instance method)">- (Object) <strong>recursively</strong>(*types, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Apply a block to a hash, and recursively apply that block to each
sub-hash:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rekey-instance_method" title="#rekey (instance method)">- (Object) <strong>rekey</strong>(key_map = nil, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Rekey a hash, …</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rekey%21-instance_method" title="#rekey! (instance method)">- (Object) <strong>rekey!</strong>(key_map = nil, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Synonym for Hash#rekey, but modifies the receiver in place (and returns
it).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#replace_each-instance_method" title="#replace_each (instance method)">- (Object) <strong>replace_each</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Same as #update_each, but deletes the key element first.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reverse_merge-instance_method" title="#reverse_merge (instance method)">- (Object) <strong>reverse_merge</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Allows for reverse merging where its the keys in the calling hash that wins
over those in the <tt>other_hash</tt>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reverse_merge%21-instance_method" title="#reverse_merge! (instance method)">- (Object) <strong>reverse_merge!</strong>(other) </a>
    

    
      (also: #reverse_update)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Inplace form of #reverse_merge.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select%21-instance_method" title="#select! (instance method)">- (Object) <strong>select!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>In-place version of Hash#select.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#slice-instance_method" title="#slice (instance method)">- (Object) <strong>slice</strong>(*keep_keys) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a new hash with only the given keys.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#slice%21-instance_method" title="#slice! (instance method)">- (Object) <strong>slice!</strong>(*keep_keys) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Replaces hash with a new hash having only the given keys.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stringify_keys-instance_method" title="#stringify_keys (instance method)">- (Object) <strong>stringify_keys</strong>(&amp;select) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return a new hash with all keys converted to strings.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stringify_keys%21-instance_method" title="#stringify_keys! (instance method)">- (Object) <strong>stringify_keys!</strong>(&amp;select) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Destructively convert all keys to strings.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#subset-instance_method" title="#subset (instance method)">- (Object) <strong>subset</strong>(keys = nil, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Take a subset of the hash, based on keys given or a block that evaluates to
true for each hash key.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#swap%21-instance_method" title="#swap! (instance method)">- (Object) <strong>swap!</strong>(key1, key2) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Swap the values of a pair of keys in place.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#symbolize_keys-instance_method" title="#symbolize_keys (instance method)">- (Object) <strong>symbolize_keys</strong>(&amp;select) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return a new hash with all keys converted to symbols.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#symbolize_keys%21-instance_method" title="#symbolize_keys! (instance method)">- (Object) <strong>symbolize_keys!</strong>(&amp;select) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Destructively convert all keys to symbols.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_b-instance_method" title="#to_b (instance method)">- (Object) <strong>to_b</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Boolean conversion for not empty?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_h-instance_method" title="#to_h (instance method)">- (Object) <strong>to_h</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return a rehashing of <em>self</em>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_hash-instance_method" title="#to_hash (instance method)">- (Object) <strong>to_hash</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns <em>self</em>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_mod-instance_method" title="#to_mod (instance method)">- (Object) <strong>to_mod</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Convert a hash into a module.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_proc-instance_method" title="#to_proc (instance method)">- (Object) <strong>to_proc</strong>(response = false) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Constructs a Proc object from a hash such that the parameter of the Proc is
assigned the hash keys as attributes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_struct-instance_method" title="#to_struct (instance method)">- (Object) <strong>to_struct</strong>(struct_name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A method to convert a Hash into a Struct.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#traverse-instance_method" title="#traverse (instance method)">- (Object) <strong>traverse</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a new hash created by traversing the hash and its subhashes,
executing the given block on the key and value.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#traverse%21-instance_method" title="#traverse! (instance method)">- (Object) <strong>traverse!</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>In place version of traverse, which traverses the hash and its subhashes,
executing the given block on the key and value.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_each-instance_method" title="#update_each (instance method)">- (Object) <strong>update_each</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Iterates through each pair and updates a the hash in place.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_keys-instance_method" title="#update_keys (instance method)">- (Object) <strong>update_keys</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Iterate over hash updating just the keys.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_values-instance_method" title="#update_values (instance method)">- (Object) <strong>update_values</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Iterate over hash updating just the values.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#weave-instance_method" title="#weave (instance method)">- (Object) <strong>weave</strong>(h) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Weave is a very uniqe hash operator.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%7C-instance_method" title="#| (instance method)">- (Object) <strong>|</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Operator for #reverse_merge.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="autonew-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>autonew</strong>(*args) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Hash which auto initializes it’s children.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='autonew identifier id'>autonew</span>
<span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='string val'>'s1'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'p1'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='integer val'>4</span>
<span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='string val'>'s1'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'p2'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='integer val'>5</span>
<span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='string val'>'s1'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'p3'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='integer val'>2</span>
<span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='string val'>'s1'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'p4'</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='integer val'>3</span>

<span class='h identifier id'>h</span> <span class='comment val'>#=&gt; {&quot;s1&quot;=&gt;{&quot;p1&quot;=&gt;4, &quot;p4&quot;=&gt;3, &quot;p3&quot;=&gt;2, &quot;p2&quot;=&gt;5}}</span>

<span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='string val'>'s1'</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span>
<span class='comment val'>#=&gt; [&quot;p1&quot;, &quot;p2&quot;, &quot;p3&quot;, &quot;p4&quot;]</span>
</pre>

<p>CREDIT: Trans, Jan Molic</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/autonew.rb', line 18</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='autonew identifier id'>autonew</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='leet identifier id'>leet</span> <span class='assign token'>=</span> <span class='lambda identifier id'>lambda</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='hsh identifier id'>hsh</span><span class='comma token'>,</span> <span class='key identifier id'>key</span><span class='bitor op'>|</span> <span class='hsh identifier id'>hsh</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='new identifier id'>new</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='leet identifier id'>leet</span> <span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span><span class='bitand op'>&amp;</span><span class='leet identifier id'>leet</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="new_with-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>new_with</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Instantiate a new hash with a default value determined by the block.</p>

<p>Hash.new_with{ [] }</p>

<p>CREDIT: Pit Capitan</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/new_with.rb', line 10</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='new_with identifier id'>new_with</span> 
  <span class='new identifier id'>new</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='h identifier id'>h</span><span class='comma token'>,</span> <span class='k identifier id'>k</span><span class='bitor op'>|</span> <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='yield yield kw'>yield</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="zip-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>zip</strong>(keys, values) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Creates a new hash from two separate arrays, a <tt>keys</tt> array and a
<tt>values</tt> array.</p>

<pre class="code"><span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='zip identifier id'>zip</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='string val'>&quot;a&quot;</span><span class='comma token'>,</span><span class='string val'>&quot;b&quot;</span><span class='comma token'>,</span><span class='string val'>&quot;c&quot;</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
<span class='comment val'># =&gt; { &quot;a&quot;=&gt;1, &quot;b&quot;=&gt;2, &quot;c&quot;=&gt;3 }</span>
</pre>

<p>CREDIT: Trans, Ara T. Howard</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/zip.rb', line 11</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='zip identifier id'>zip</span><span class='lparen token'>(</span><span class='keys identifier id'>keys</span><span class='comma token'>,</span><span class='values identifier id'>values</span><span class='rparen token'>)</span> <span class='comment val'># or some better name</span>
  <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='dot token'>.</span><span class='times identifier id'>times</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='h identifier id'>h</span><span class='lbrack token'>[</span> <span class='keys identifier id'>keys</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='values identifier id'>values</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
  <span class='h identifier id'>h</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="&-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>&amp;</strong>(other) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Hash intersection. Two hashes intersect when their pairs are equal.</p>

<pre class="code"><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span> <span class='bitand op'>&amp;</span> <span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='symbol val'>:c=</span><span class='gt op'>&gt;</span><span class='integer val'>3</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; {:a=&gt;1}</span>
</pre>

<p>A hash can also be intersected with an array to intersect keys only.</p>

<pre class="code"><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span> <span class='bitand op'>&amp;</span> <span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span><span class='symbol val'>:c</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; {:a=&gt;1}</span>
</pre>

<p>The later form is similar to #pairs_at. The differ only in that #pairs_at
will return a nil value for a key not in the hash, but #&amp; will not.</p>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


19
20
21
22
23
24
25
26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/op_and.rb', line 19</span>

<span class='def def kw'>def</span> <span class='bitand op'>&amp;</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='case case kw'>case</span> <span class='other identifier id'>other</span>
  <span class='when when kw'>when</span> <span class='Array constant id'>Array</span>
    <span class='k identifier id'>k</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='keys identifier id'>keys</span> <span class='bitand op'>&amp;</span> <span class='other identifier id'>other</span><span class='rparen token'>)</span>
    <span class='Hash constant id'>Hash</span><span class='lbrack token'>[</span><span class='mult op'>*</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='dot token'>.</span><span class='zip identifier id'>zip</span><span class='lparen token'>(</span><span class='values_at identifier id'>values_at</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='k identifier id'>k</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='rparen token'>)</span><span class='rbrack token'>]</span>
  <span class='else else kw'>else</span>
    <span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='to_a identifier id'>to_a</span> <span class='bitand op'>&amp;</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='comma token'>,</span> <span class='kv identifier id'>kv</span><span class='bitor op'>|</span>
      <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='concat identifier id'>concat</span> <span class='kv identifier id'>kv</span><span class='semicolon token'>;</span> <span class='a identifier id'>a</span>
    <span class='end end kw'>end</span>
    <span class='Hash constant id'>Hash</span><span class='lbrack token'>[</span><span class='mult op'>*</span><span class='x identifier id'>x</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="*-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>*</strong>(other) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Like merge operator ‘+’ but merges in reverse order.</p>

<pre class="code"><span class='h1 identifier id'>h1</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='rbrace token'>}</span>
<span class='h2 identifier id'>h2</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>3</span><span class='rbrace token'>}</span>

<span class='lparen token'>(</span><span class='h1 identifier id'>h1</span> <span class='plus op'>+</span> <span class='h2 identifier id'>h2</span><span class='rparen token'>)</span> <span class='comment val'>#=&gt; { :a=&gt;2, :b=&gt;3 }</span>
<span class='lparen token'>(</span><span class='h1 identifier id'>h1</span> <span class='mult op'>*</span> <span class='h2 identifier id'>h2</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; { :a=&gt;1, :b=&gt;3 }</span>
</pre>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/op_mul.rb', line 13</span>

<span class='def def kw'>def</span> <span class='mult op'>*</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="+-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>+</strong>(other) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Operator for #merge.</p>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/op_add.rb', line 7</span>

<span class='def def kw'>def</span> <span class='plus op'>+</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="--instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>-</strong>(other) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Operator for remove hash paris. If another hash is given the pairs are only
removed if both key and value are equal. If an array is given then matching
keys are removed.</p>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/op_sub.rb', line 9</span>

<span class='def def kw'>def</span> <span class='minus op'>-</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
  <span class='if if kw'>if</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:to_ary</span><span class='rparen token'>)</span>
    <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='to_ary identifier id'>to_ary</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='bitor op'>|</span>
      <span class='h identifier id'>h</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='h identifier id'>h</span><span class='dot token'>.</span><span class='key? fid id'>key?</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span>
        <span class='h identifier id'>h</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='v identifier id'>v</span> <span class='eq op'>==</span> <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='h identifier id'>h</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="<<-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>&lt;&lt;</strong>(other) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Can be used like update, or passed as two-element [key,value] array.</p>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/op_push.rb', line 8</span>

<span class='def def kw'>def</span> <span class='lshft op'>&lt;&lt;</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:to_ary</span><span class='rparen token'>)</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='store identifier id'>store</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="alias!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>alias!</strong>(newkey, oldkey) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Modifies the receiving Hash so that the value previously referred to by
<em>oldkey</em> is also referenced by <em>newkey</em>; <em>oldkey</em> is
retained in the Hash. If <em>oldkey</em> does not exist as a key in the
Hash, no change is effected.</p>

<p>Returns a reference to the Hash.</p>

<pre class="code"><span class='foo identifier id'>foo</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>'Gavin'</span><span class='comma token'>,</span> <span class='string val'>'wife'</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='symbol val'>:Lisa</span> <span class='rbrace token'>}</span>
<span class='foo identifier id'>foo</span><span class='dot token'>.</span><span class='alias! fid id'>alias!</span><span class='lparen token'>(</span><span class='string val'>'name'</span><span class='comma token'>,</span><span class='symbol val'>:name</span><span class='rparen token'>)</span>     <span class='comment val'>#=&gt; { :name=&gt;'Gavin', 'name'=&gt;'Gavin', 'wife'=&gt;:Lisa }</span>

<span class='foo identifier id'>foo</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>'Gavin'</span><span class='comma token'>,</span> <span class='string val'>'wife'</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='symbol val'>:Lisa</span> <span class='rbrace token'>}</span>
<span class='foo identifier id'>foo</span><span class='dot token'>.</span><span class='alias! fid id'>alias!</span><span class='lparen token'>(</span><span class='string val'>'spouse'</span><span class='comma token'>,</span><span class='string val'>'wife'</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; { :name=&gt;'Gavin', 'wife'=&gt;:Lisa, 'spouse'=&gt;:Lisa }</span>

<span class='foo identifier id'>foo</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>'Gavin'</span><span class='comma token'>,</span> <span class='string val'>'wife'</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='symbol val'>:Lisa</span> <span class='rbrace token'>}</span>
<span class='foo identifier id'>foo</span><span class='dot token'>.</span><span class='alias! fid id'>alias!</span><span class='lparen token'>(</span><span class='string val'>'bar'</span><span class='comma token'>,</span><span class='string val'>'foo'</span><span class='rparen token'>)</span>      <span class='comment val'>#=&gt; { :name=&gt;'Gavin', 'wife'=&gt;:Lisa }</span>
</pre>

<p>Note that if the <em>oldkey</em> is reassigned, the reference will no
longer exist, and the <em>newkey</em> will remain as it was.</p>

<p>CREDIT: Gavin Sinclair</p>

<p>TODO: Rename to #aliaskey or something else.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27
28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/alias.rb', line 25</span>

<span class='def def kw'>def</span> <span class='alias! fid id'>alias!</span><span class='lparen token'>(</span><span class='newkey identifier id'>newkey</span><span class='comma token'>,</span> <span class='oldkey identifier id'>oldkey</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='newkey identifier id'>newkey</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='oldkey identifier id'>oldkey</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='oldkey identifier id'>oldkey</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="argumentize-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>argumentize</strong>(args_field = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Turn a hash into a method arguments.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:list</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:base</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;HI&quot;</span> <span class='rbrace token'>}</span>
</pre>

<p>Without an argument field.</p>

<pre class="code"><span class='h identifier id'>h</span><span class='dot token'>.</span><span class='argumentize identifier id'>argumentize</span> <span class='comment val'>#=&gt; [ { :list =&gt; [1,2], :base =&gt; &quot;HI&quot; } ]</span>
</pre>

<p>With an argument field.</p>

<pre class="code"><span class='h identifier id'>h</span><span class='dot token'>.</span><span class='argumentize identifier id'>argumentize</span><span class='lparen token'>(</span><span class='symbol val'>:list</span><span class='rparen token'>)</span>   <span class='comment val'>#=&gt; [ 1, 2, { :base =&gt; &quot;HI&quot; } ]</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='argumentize identifier id'>argumentize</span><span class='lparen token'>(</span><span class='symbol val'>:base</span><span class='rparen token'>)</span>   <span class='comment val'>#=&gt; [ &quot;HI&quot;, { :list =&gt; [1,2] } ]</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18
19
20
21
22
23
24
25</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/argumentize.rb', line 16</span>

<span class='def def kw'>def</span> <span class='argumentize identifier id'>argumentize</span><span class='lparen token'>(</span><span class='args_field identifier id'>args_field</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='config identifier id'>config</span> <span class='assign token'>=</span> <span class='dup identifier id'>dup</span>
  <span class='if if kw'>if</span> <span class='args_field identifier id'>args_field</span>
    <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='config identifier id'>config</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='args_field identifier id'>args_field</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='compact identifier id'>compact</span>
  <span class='else else kw'>else</span>
    <span class='args identifier id'>args</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
  <span class='args identifier id'>args</span> <span class='lshft op'>&lt;&lt;</span> <span class='config identifier id'>config</span>
  <span class='return return kw'>return</span> <span class='args identifier id'>args</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="collate-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>collate</strong>(other) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Merge the values of this hash with those from another, setting all values
to be arrays representing the values from both hashes.</p>

<pre class="code"><span class='lbrace token'>{</span> <span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='collate identifier id'>collate</span><span class='lparen token'>(</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>3</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>4</span><span class='comma token'>,</span> <span class='symbol val'>:c=</span><span class='gt op'>&gt;</span><span class='integer val'>5</span><span class='rparen token'>)</span>
<span class='comment val'>#=&gt; { :a=&gt;[1,3], :b=&gt;[2,4], :c=&gt;[5] }</span>
</pre>

<p>CREDIT: Tilo Sloboda, Gavin Kistner (Phrogz)</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/collate.rb', line 11</span>

<span class='def def kw'>def</span> <span class='collate identifier id'>collate</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='lparen token'>(</span><span class='keys identifier id'>keys</span> <span class='plus op'>+</span> <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span>
    <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>
    <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='value identifier id'>value</span>
  <span class='end end kw'>end</span>
  <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>
    <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='value identifier id'>value</span>
  <span class='end end kw'>end</span>
  <span class='h identifier id'>h</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='v identifier id'>v</span><span class='dot token'>.</span><span class='flatten! fid id'>flatten!</span> <span class='rbrace token'>}</span>
  <span class='h identifier id'>h</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="collate!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>collate!</strong>(other_hash) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>The same as #collate, but modifies the receiver in place.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/collate.rb', line 27</span>

<span class='def def kw'>def</span> <span class='collate! fid id'>collate!</span><span class='lparen token'>(</span><span class='other_hash identifier id'>other_hash</span><span class='rparen token'>)</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='collate identifier id'>collate</span><span class='lparen token'>(</span><span class='other_hash identifier id'>other_hash</span><span class='rparen token'>)</span>
  <span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='result identifier id'>result</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="count-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>count</strong>(value) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Like Enumerable#count, but counts hash values.</p>

<pre class="code"><span class='lbrace token'>{</span><span class='symbol val'>:A=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:B=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='count identifier id'>count</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span> <span class='comment val'>#=&gt; 2</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/count.rb', line 7</span>

<span class='def def kw'>def</span> <span class='count identifier id'>count</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='count identifier id'>count</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="data-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>data</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Access to a hash as if it were an OpenStruct.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span>

<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='data identifier id'>data</span><span class='dot token'>.</span><span class='a identifier id'>a</span>  <span class='comment val'>#=&gt; 1</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='data identifier id'>data</span><span class='dot token'>.</span><span class='b identifier id'>b</span>  <span class='comment val'>#=&gt; 2</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='data identifier id'>data</span><span class='dot token'>.</span><span class='c identifier id'>c</span>  <span class='comment val'>#=&gt; nil</span>

<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='data identifier id'>data</span><span class='dot token'>.</span><span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='integer val'>3</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='data identifier id'>data</span><span class='dot token'>.</span><span class='c identifier id'>c</span>  <span class='comment val'>#=&gt; 3</span>

<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='data identifier id'>data</span><span class='dot token'>.</span><span class='a? fid id'>a?</span>  <span class='comment val'>#=&gt; true</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='data identifier id'>data</span><span class='dot token'>.</span><span class='d? fid id'>d?</span>  <span class='comment val'>#=&gt; false</span>
</pre>

<p>TODO: Change name of Hash#data to something better?</p>

<p>TODO: Is this really a method worth having?</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/data.rb', line 22</span>

<span class='def def kw'>def</span> <span class='data identifier id'>data</span>
  <span class='this identifier id'>this</span> <span class='assign token'>=</span> <span class='self self kw'>self</span>
  <span class='Functor constant id'>Functor</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='a identifier id'>a</span><span class='bitor op'>|</span>
    <span class='case case kw'>case</span> <span class='op identifier id'>op</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/\=$/</span>
      <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='op identifier id'>op</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='chomp identifier id'>chomp</span><span class='lparen token'>(</span><span class='string val'>'='</span><span class='rparen token'>)</span>
      <span class='this identifier id'>this</span><span class='lbrack token'>[</span><span class='op identifier id'>op</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='first identifier id'>first</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/\?$/</span>
      <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='op identifier id'>op</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='chomp identifier id'>chomp</span><span class='lparen token'>(</span><span class='string val'>'?'</span><span class='rparen token'>)</span>
      <span class='this identifier id'>this</span><span class='dot token'>.</span><span class='key? fid id'>key?</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rparen token'>)</span> <span class='orop op'>||</span> <span class='this identifier id'>this</span><span class='dot token'>.</span><span class='key? fid id'>key?</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rparen token'>)</span>
    <span class='when when kw'>when</span> <span class='regexp val'>/\!$/</span>
      <span class='op identifier id'>op</span> <span class='assign token'>=</span> <span class='op identifier id'>op</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='chomp identifier id'>chomp</span><span class='lparen token'>(</span><span class='string val'>'!'</span><span class='rparen token'>)</span>
      <span class='this identifier id'>this</span><span class='lbrack token'>[</span><span class='op identifier id'>op</span><span class='rbrack token'>]</span> <span class='comment val'># ???</span>
    <span class='else else kw'>else</span>
      <span class='this identifier id'>this</span><span class='lbrack token'>[</span><span class='op identifier id'>op</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='this identifier id'>this</span><span class='lbrack token'>[</span><span class='op identifier id'>op</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="dearray_singular_values-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dearray_singular_values</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Any array values with one or no elements will be set to the element or nil.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:c=</span><span class='gt op'>&gt;</span><span class='integer val'>3</span><span class='comma token'>,</span> <span class='symbol val'>:d=</span><span class='gt op'>&gt;</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='dearray_singular_values identifier id'>dearray_singular_values</span>  <span class='comment val'>#=&gt; { :a=&gt;1, :b=&gt;[1,2], :c=&gt;3, :d=&gt;nil }</span>
</pre>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


32
33
34
35
36
37
38
39
40
41
42
43</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/dearray_values.rb', line 32</span>

<span class='def def kw'>def</span> <span class='dearray_singular_values identifier id'>dearray_singular_values</span>
  <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
    <span class='case case kw'>case</span> <span class='v identifier id'>v</span>
    <span class='when when kw'>when</span> <span class='Array constant id'>Array</span>
      <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='lt op'>&lt;</span> <span class='integer val'>2</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='v identifier id'>v</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span> <span class='colon op'>:</span> <span class='v identifier id'>v</span>
    <span class='else else kw'>else</span>
      <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='h identifier id'>h</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="dearray_values-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dearray_values</strong>(index = 0) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Any array values with be replaced with the first element of the array.
Arrays with no elements will be set to nil.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:c=</span><span class='gt op'>&gt;</span><span class='integer val'>3</span><span class='comma token'>,</span> <span class='symbol val'>:d=</span><span class='gt op'>&gt;</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='dearray_values identifier id'>dearray_values</span>  <span class='comment val'>#=&gt; { :a=&gt;1, :b=&gt;1, :c=&gt;3, :d=&gt;nil }</span>
</pre>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15
16
17
18
19
20
21
22</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/dearray_values.rb', line 11</span>

<span class='def def kw'>def</span> <span class='dearray_values identifier id'>dearray_values</span><span class='lparen token'>(</span><span class='index identifier id'>index</span><span class='assign token'>=</span><span class='integer val'>0</span><span class='rparen token'>)</span>
  <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
    <span class='case case kw'>case</span> <span class='v identifier id'>v</span>
    <span class='when when kw'>when</span> <span class='Array constant id'>Array</span>
      <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span><span class='lbrack token'>[</span><span class='index identifier id'>index</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='v identifier id'>v</span><span class='lbrack token'>[</span><span class='integer val'>-1</span><span class='rbrack token'>]</span>
    <span class='else else kw'>else</span>
      <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='h identifier id'>h</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="deep_merge-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>deep_merge</strong>(other) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Same as Hash#merge but recursively merges sub-hashes.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


5
6
7
8
9
10
11
12
13
14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/deep_merge.rb', line 5</span>

<span class='def def kw'>def</span> <span class='deep_merge identifier id'>deep_merge</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span>
  <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>
    <span class='myval identifier id'>myval</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span>
    <span class='if if kw'>if</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='myval identifier id'>myval</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='rparen token'>)</span>
      <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='myval identifier id'>myval</span><span class='dot token'>.</span><span class='deep_merge identifier id'>deep_merge</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='hash identifier id'>hash</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="deep_merge!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>deep_merge!</strong>(other) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Same as Hash#merge! but recursively merges sub-hashes.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


20
21
22
23
24
25
26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/deep_merge.rb', line 20</span>

<span class='def def kw'>def</span> <span class='deep_merge! fid id'>deep_merge!</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>
    <span class='myval identifier id'>myval</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span>
    <span class='if if kw'>if</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='rparen token'>)</span> <span class='andop op'>&amp;&amp;</span> <span class='myval identifier id'>myval</span><span class='dot token'>.</span><span class='is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='rparen token'>)</span>
      <span class='myval identifier id'>myval</span><span class='dot token'>.</span><span class='deep_merge! fid id'>deep_merge!</span><span class='lparen token'>(</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="delete_unless-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>delete_unless</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Inverse of #delete_if.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:a</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='symbol val'>:c</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>3</span> <span class='rbrace token'>}</span>
<span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='h identifier id'>h</span><span class='dot token'>.</span><span class='delete_unless identifier id'>delete_unless</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='v identifier id'>v</span> <span class='eq op'>==</span> <span class='integer val'>1</span><span class='rbrace token'>}</span>
<span class='r identifier id'>r</span>  <span class='comment val'>#=&gt; { :a =&gt; 1 }</span>
<span class='h identifier id'>h</span>  <span class='comment val'>#=&gt; { :a =&gt; 1 }</span>
</pre>

<p>CREDIT: Daniel Schierbeck</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/delete_unless.rb', line 12</span>

<span class='def def kw'>def</span> <span class='delete_unless identifier id'>delete_unless</span> 
  <span class='delete_if identifier id'>delete_if</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span> <span class='notop op'>!</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="delete_values-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>delete_values</strong>(*values) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Minor modification to Ruby’s Hash#delete method allowing it to take
multiple keys.</p>

<pre class="code"><span class='hsh identifier id'>hsh</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:a</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>2</span> <span class='rbrace token'>}</span>
<span class='hsh identifier id'>hsh</span><span class='dot token'>.</span><span class='delete_values identifier id'>delete_values</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span>
<span class='hsh identifier id'>hsh</span>  <span class='comment val'>#=&gt; { :b =&gt; 2 }</span>
</pre>

<p>CREDIT: Daniel Schierbeck</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/delete_values.rb', line 12</span>

<span class='def def kw'>def</span> <span class='delete_values identifier id'>delete_values</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='values identifier id'>values</span><span class='rparen token'>)</span>
  <span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span> <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="delete_values_at-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>delete_values_at</strong>(*keys, &amp;yld) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Minor modification to Ruby’s Hash#delete method allowing it to take
multiple keys.</p>

<pre class="code"><span class='hsh identifier id'>hsh</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='comma token'>,</span> <span class='symbol val'>:c=</span><span class='gt op'>&gt;</span><span class='integer val'>3</span><span class='rbrace token'>}</span>

<span class='a identifier id'>a</span><span class='comma token'>,</span> <span class='b identifier id'>b</span><span class='comma token'>,</span> <span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='hsh identifier id'>hsh</span><span class='dot token'>.</span><span class='delete_values_at identifier id'>delete_values_at</span><span class='lparen token'>(</span><span class='symbol val'>:a</span><span class='comma token'>,</span> <span class='symbol val'>:b</span><span class='comma token'>,</span> <span class='symbol val'>:c</span><span class='rparen token'>)</span>

<span class='lbrack token'>[</span><span class='a identifier id'>a</span><span class='comma token'>,</span> <span class='b identifier id'>b</span><span class='comma token'>,</span> <span class='c identifier id'>c</span><span class='rbrack token'>]</span>  <span class='comment val'>#=&gt; [1, 2, 3]</span>
<span class='hsh identifier id'>hsh</span>        <span class='comment val'>#=&gt; {}</span>
</pre>

<p>CREDIT: Daniel Schierbeck</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/delete_values.rb', line 28</span>

<span class='def def kw'>def</span> <span class='delete_values_at identifier id'>delete_values_at</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='keys identifier id'>keys</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span><span class='rparen token'>)</span>
  <span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span> <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="diff-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>diff</strong>(hash) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Difference comparison of two hashes.</p>

<pre class="code"><span class='h1 identifier id'>h1</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span>
<span class='h2 identifier id'>h2</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>3</span><span class='rbrace token'>}</span>

<span class='h1 identifier id'>h1</span><span class='dot token'>.</span><span class='diff identifier id'>diff</span><span class='lparen token'>(</span><span class='h2 identifier id'>h2</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; {:b=&gt;2}</span>
<span class='h2 identifier id'>h2</span><span class='dot token'>.</span><span class='diff identifier id'>diff</span><span class='lparen token'>(</span><span class='h1 identifier id'>h1</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; {:b=&gt;3}</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/diff.rb', line 11</span>

<span class='def def kw'>def</span> <span class='diff identifier id'>diff</span><span class='lparen token'>(</span><span class='hash identifier id'>hash</span><span class='rparen token'>)</span>
  <span class='h1 identifier id'>h1</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span><span class='dot token'>.</span><span class='delete_if identifier id'>delete_if</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='eq op'>==</span> <span class='v identifier id'>v</span> <span class='rbrace token'>}</span>
  <span class='h2 identifier id'>h2</span> <span class='assign token'>=</span> <span class='hash identifier id'>hash</span><span class='dot token'>.</span><span class='dup identifier id'>dup</span><span class='dot token'>.</span><span class='delete_if identifier id'>delete_if</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='h1 identifier id'>h1</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='h2 identifier id'>h2</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="each_with_key-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>each_with_key</strong>(&amp;yld) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Each with key is like each_pair but reverses the order the parameters to
[value,key] instead of [key,value].</p>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


40
41
42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/keys.rb', line 40</span>

<span class='def def kw'>def</span> <span class='each_with_key identifier id'>each_with_key</span><span class='lparen token'>(</span> <span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span> <span class='rparen token'>)</span>
  <span class='each_pair identifier id'>each_pair</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='yld identifier id'>yld</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='comma token'>,</span><span class='k identifier id'>k</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="except-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>except</strong>(*less_keys) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns a new hash less the given keys.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4
5
6
7
8</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/except.rb', line 4</span>

<span class='def def kw'>def</span> <span class='except identifier id'>except</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='less_keys identifier id'>less_keys</span><span class='rparen token'>)</span>
  <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='dup identifier id'>dup</span>
  <span class='less_keys identifier id'>less_keys</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='bitor op'>|</span> <span class='hash identifier id'>hash</span><span class='dot token'>.</span><span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='hash identifier id'>hash</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="except!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>except!</strong>(*rejected) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Replaces hash with new hash less the given keys. This returns the hash of
keys removed.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='comma token'>,</span> <span class='symbol val'>:c=</span><span class='gt op'>&gt;</span><span class='integer val'>3</span><span class='rbrace token'>}</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='except! fid id'>except!</span><span class='lparen token'>(</span><span class='symbol val'>:a</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; {:a=&gt;1}</span>
<span class='h identifier id'>h</span>              <span class='comment val'>#=&gt; {:b=&gt;2,:c=&gt;3}</span>
</pre>

<p>Returns a Hash of the removed pairs.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21
22</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/except.rb', line 18</span>

<span class='def def kw'>def</span> <span class='except! fid id'>except!</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='rejected identifier id'>rejected</span><span class='rparen token'>)</span>
  <span class='removed identifier id'>removed</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='rejected identifier id'>rejected</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='bitor op'>|</span> <span class='removed identifier id'>removed</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='removed identifier id'>removed</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="extractable_options?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>extractable_options?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>By default, only instances of Hash itself are extractable. Subclasses of
Hash may implement this method and return true to declare themselves as
extractable. If a Hash is extractable, Array#extract_options! pops it from
the Array when it is the last element of the Array.</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/array/extract_options.rb', line 7</span>

<span class='def def kw'>def</span> <span class='extractable_options? fid id'>extractable_options?</span>
  <span class='instance_of? fid id'>instance_of?</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="graph!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>graph!</strong>(&amp;yld) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='mash!-instance_method'>mash!</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>In place version of #graph.</p>

<p>NOTE: Hash#graph! is only useful for Hash. It is not generally applicable
to Enumerable.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/graph.rb', line 10</span>

<span class='def def kw'>def</span> <span class='graph! fid id'>graph!</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span><span class='rparen token'>)</span>
  <span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='graph identifier id'>graph</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="has_keys?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>has_keys?</strong>(*check_keys) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='keys?-instance_method'>keys?</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns true or false whether the hash contains the given keys.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:a</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>2</span> <span class='rbrace token'>}</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='has_keys? fid id'>has_keys?</span><span class='lparen token'>(</span> <span class='symbol val'>:a</span> <span class='rparen token'>)</span>   <span class='comment val'>#=&gt; true</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='has_keys? fid id'>has_keys?</span><span class='lparen token'>(</span> <span class='symbol val'>:c</span> <span class='rparen token'>)</span>   <span class='comment val'>#=&gt; false</span>
</pre>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/keys.rb', line 12</span>

<span class='def def kw'>def</span> <span class='has_keys? fid id'>has_keys?</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='check_keys identifier id'>check_keys</span><span class='rparen token'>)</span>
  <span class='unknown_keys identifier id'>unknown_keys</span> <span class='assign token'>=</span> <span class='check_keys identifier id'>check_keys</span> <span class='minus op'>-</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span>
  <span class='return return kw'>return</span> <span class='unknown_keys identifier id'>unknown_keys</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="has_only_keys?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>has_only_keys?</strong>(*check_keys) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='only_keys?-instance_method'>only_keys?</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns true if the hash contains <em>only</em> the given keys, otherwise
false.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:a</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>2</span> <span class='rbrace token'>}</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='has_only_keys? fid id'>has_only_keys?</span><span class='lparen token'>(</span> <span class='symbol val'>:a</span><span class='comma token'>,</span> <span class='symbol val'>:b</span> <span class='rparen token'>)</span>   <span class='comment val'>#=&gt; true</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='has_only_keys? fid id'>has_only_keys?</span><span class='lparen token'>(</span> <span class='symbol val'>:a</span> <span class='rparen token'>)</span>       <span class='comment val'>#=&gt; false</span>
</pre>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30
31</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/keys.rb', line 28</span>

<span class='def def kw'>def</span> <span class='has_only_keys? fid id'>has_only_keys?</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='check_keys identifier id'>check_keys</span><span class='rparen token'>)</span>
  <span class='unknown_keys identifier id'>unknown_keys</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span> <span class='minus op'>-</span> <span class='check_keys identifier id'>check_keys</span>
  <span class='return return kw'>return</span> <span class='unknown_keys identifier id'>unknown_keys</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="insert-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>insert</strong>(name, value) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>As with #store but only if the key isn’t already in the hash.</p>

<p>TODO: Would #store? be a better name?</p>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/insert.rb', line 10</span>

<span class='def def kw'>def</span> <span class='insert identifier id'>insert</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='key? fid id'>key?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
    <span class='false false kw'>false</span>
  <span class='else else kw'>else</span>
    <span class='store identifier id'>store</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
    <span class='true true kw'>true</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="inverse-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>inverse</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Create a “true” inverse hash by storing mutliple values in Arrays.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='string val'>&quot;a&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>3</span><span class='comma token'>,</span> <span class='string val'>&quot;b&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>3</span><span class='comma token'>,</span> <span class='string val'>&quot;c&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>3</span><span class='comma token'>,</span> <span class='string val'>&quot;d&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='comma token'>,</span> <span class='string val'>&quot;e&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>9</span><span class='comma token'>,</span> <span class='string val'>&quot;f&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>3</span><span class='comma token'>,</span> <span class='string val'>&quot;g&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>9</span><span class='rbrace token'>}</span>

<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='invert identifier id'>invert</span>           <span class='comment val'>#=&gt; {2=&gt;&quot;d&quot;, 3=&gt;&quot;f&quot;, 9=&gt;&quot;g&quot;}</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='inverse identifier id'>inverse</span>          <span class='comment val'>#=&gt; {2=&gt;&quot;d&quot;, 3=&gt;[&quot;f&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot;], 9=&gt;[&quot;g&quot;, &quot;e&quot;]}</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='inverse identifier id'>inverse</span><span class='dot token'>.</span><span class='inverse identifier id'>inverse</span>  <span class='comment val'>#=&gt; {&quot;a&quot;=&gt;3, &quot;b&quot;=&gt;3, &quot;c&quot;=&gt;3, &quot;d&quot;=&gt;2, &quot;e&quot;=&gt;9, &quot;f&quot;=&gt;3, &quot;g&quot;=&gt;9}</span>
</pre>

<p>Of course the inverse of the inverse should be the same.</p>

<pre class="code"><span class='lparen token'>(</span><span class='h identifier id'>h</span><span class='dot token'>.</span><span class='inverse identifier id'>inverse</span><span class='dot token'>.</span><span class='inverse identifier id'>inverse</span> <span class='eq op'>==</span> <span class='h identifier id'>h</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; true</span>
</pre>

<p>CREDIT: Tilo Sloboda</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19
20
21
22
23
24
25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/inverse.rb', line 17</span>

<span class='def def kw'>def</span> <span class='inverse identifier id'>inverse</span>
  <span class='i identifier id'>i</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='each_pair identifier id'>each_pair</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='lparen token'>(</span><span class='Array constant id'>Array</span> <span class='eqq op'>===</span> <span class='v identifier id'>v</span><span class='rparen token'>)</span>
      <span class='v identifier id'>v</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='i identifier id'>i</span><span class='lbrack token'>[</span><span class='x identifier id'>x</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lparen token'>(</span> <span class='i identifier id'>i</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='x identifier id'>x</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='i identifier id'>i</span><span class='lbrack token'>[</span><span class='x identifier id'>x</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span> <span class='colon op'>:</span> <span class='k identifier id'>k</span> <span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='else else kw'>else</span>
      <span class='i identifier id'>i</span><span class='lbrack token'>[</span><span class='v identifier id'>v</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lparen token'>(</span> <span class='i identifier id'>i</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='i identifier id'>i</span><span class='lbrack token'>[</span><span class='v identifier id'>v</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span> <span class='colon op'>:</span> <span class='k identifier id'>k</span> <span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='rbrace token'>}</span>
  <span class='return return kw'>return</span> <span class='i identifier id'>i</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="join-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>join</strong>(pair_divider = '', elem_divider = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Like Array#join but specialized to Hash.</p>

<p>NOTE: Without Ruby 1.9 this would be difficult to rely on becuase hashes
did not have a strict order.</p>

<p>CREDIT: Mauricio Fernandez</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/join.rb', line 10</span>

<span class='def def kw'>def</span> <span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='pair_divider identifier id'>pair_divider</span><span class='assign token'>=</span><span class='string val'>''</span><span class='comma token'>,</span> <span class='elem_divider identifier id'>elem_divider</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='elem_divider identifier id'>elem_divider</span> <span class='opasgn op'>||=</span> <span class='pair_divider identifier id'>pair_divider</span>
  <span class='s identifier id'>s</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='s identifier id'>s</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;#{k}#{pair_divider}#{v}&quot;</span> <span class='rbrace token'>}</span>
  <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='elem_divider identifier id'>elem_divider</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="object_state-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>object_state</strong>(data = nil) 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


61
62
63</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/object/object_state.rb', line 61</span>

<span class='def def kw'>def</span> <span class='object_state identifier id'>object_state</span><span class='lparen token'>(</span><span class='data identifier id'>data</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='data identifier id'>data</span> <span class='integer val'>? </span><span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='data identifier id'>data</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='dup identifier id'>dup</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="recurse-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>recurse</strong>(*types) {|h| ... }
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Apply a block to hash, and recursively apply that block to each sub-hash or
<tt>types</tt>.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='lbrace token'>{</span><span class='symbol val'>:b1=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b2=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span><span class='rbrace token'>}</span>
<span class='g identifier id'>g</span> <span class='assign token'>=</span> <span class='h identifier id'>h</span><span class='dot token'>.</span><span class='recurse identifier id'>recurse</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='h identifier id'>h</span><span class='bitor op'>|</span> <span class='h identifier id'>h</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='h identifier id'>h</span><span class='comma token'>,</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='rparen token'>)</span><span class='bitor op'>|</span> <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span><span class='semicolon token'>;</span> <span class='h identifier id'>h</span><span class='rbrace token'>}</span> <span class='rbrace token'>}</span>
<span class='g identifier id'>g</span>  <span class='comment val'>#=&gt; {&quot;a&quot;=&gt;1, &quot;b&quot;=&gt;{&quot;b1&quot;=&gt;1, &quot;b2&quot;=&gt;2}}</span>
</pre>


  </div>
</div>
<div class="tags">
  <h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
        <span class='type'>(<tt>h</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20
21
22</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/recurse.rb', line 10</span>

<span class='def def kw'>def</span> <span class='recurse identifier id'>recurse</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='types identifier id'>types</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='types identifier id'>types</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='types identifier id'>types</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
  <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='hash identifier id'>hash</span><span class='comma token'>,</span> <span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span><span class='bitor op'>|</span>
    <span class='case case kw'>case</span> <span class='value identifier id'>value</span>
    <span class='when when kw'>when</span> <span class='mult op'>*</span><span class='types identifier id'>types</span>
      <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='recurse identifier id'>recurse</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='types identifier id'>types</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='value identifier id'>value</span>
    <span class='end end kw'>end</span>
    <span class='hash identifier id'>hash</span>
  <span class='end end kw'>end</span>
  <span class='yield yield kw'>yield</span> <span class='h identifier id'>h</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="recurse!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>recurse!</strong>(&amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>In place form of #recurse.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/recurse.rb', line 25</span>

<span class='def def kw'>def</span> <span class='recurse! fid id'>recurse!</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='recurse identifier id'>recurse</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="recursively-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>recursively</strong>(*types, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Apply a block to a hash, and recursively apply that block to each sub-hash:</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='lbrace token'>{</span><span class='symbol val'>:x=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:y=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span><span class='rbrace token'>}</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='recursively identifier id'>recursively</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; [[&quot;a&quot;, 1], [&quot;b&quot;, [[&quot;y&quot;, 2], [&quot;x&quot;, 1]]]]</span>
</pre>

<p>The recursive iteration can be treated separately from the non-recursive
iteration by passing a block to the #recursive method:</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='lbrace token'>{</span><span class='symbol val'>:x=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:y=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span><span class='rbrace token'>}</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='recursively identifier id'>recursively</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='map identifier id'>map</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; [[&quot;a&quot;, &quot;1&quot;], [&quot;b&quot;, [[&quot;y&quot;, &quot;2&quot;], [&quot;x&quot;, &quot;1&quot;]]]]</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


20
21
22</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/recursively.rb', line 20</span>

<span class='def def kw'>def</span> <span class='recursively identifier id'>recursively</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='types identifier id'>types</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='Recursor constant id'>Recursor</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='types identifier id'>types</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="rekey-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>rekey</strong>(key_map = nil, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Rekey a hash, …</p>

<pre class="code"><span class='rekey identifier id'>rekey</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
<span class='rekey identifier id'>rekey</span><span class='lparen token'>(</span><span class='from_key identifier id'>from_key</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='to_key identifier id'>to_key</span><span class='comma token'>,</span> <span class='dot3 op'>...</span><span class='rparen token'>)</span>
<span class='rekey identifier id'>rekey</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='from_key identifier id'>from_key</span><span class='bitor op'>|</span> <span class='to_key identifier id'>to_key</span><span class='rbrace token'>}</span>
</pre>

<p>If a key map is given, then the first key is changed to the second key.</p>

<pre class="code"><span class='foo identifier id'>foo</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span> <span class='rbrace token'>}</span>
<span class='foo identifier id'>foo</span><span class='dot token'>.</span><span class='rekey identifier id'>rekey</span><span class='lparen token'>(</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='string val'>'a'</span><span class='rparen token'>)</span>       <span class='comment val'>#=&gt; { 'a'=&gt;1, :b=&gt;2 }</span>
<span class='foo identifier id'>foo</span><span class='dot token'>.</span><span class='rekey identifier id'>rekey</span><span class='lparen token'>(</span><span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='symbol val'>:x</span><span class='rparen token'>)</span>        <span class='comment val'>#=&gt; { :a =&gt;1, :x=&gt;2 }</span>
<span class='foo identifier id'>foo</span><span class='dot token'>.</span><span class='rekey identifier id'>rekey</span><span class='lparen token'>(</span><span class='string val'>'foo'</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='string val'>'bar'</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; { :a =&gt;1, :b=&gt;2 }</span>
</pre>

<p>If a block is given, converts all keys in the Hash accroding to the given
block procedure. If the block returns <tt>NA</tt> for a given key, then
that key will be left intact.</p>

<pre class="code"><span class='foo identifier id'>foo</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>'Gavin'</span><span class='comma token'>,</span> <span class='symbol val'>:wife=</span><span class='gt op'>&gt;</span><span class='symbol val'>:Lisa</span> <span class='rbrace token'>}</span>
<span class='foo identifier id'>foo</span><span class='dot token'>.</span><span class='rekey identifier id'>rekey</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='bitor op'>|</span> <span class='k identifier id'>k</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='rbrace token'>}</span>  <span class='comment val'>#=&gt;  { &quot;name&quot;=&gt;&quot;Gavin&quot;, &quot;wife&quot;=&gt;:Lisa }</span>
<span class='foo identifier id'>foo</span>                      <span class='comment val'>#=&gt;  { :name =&gt;&quot;Gavin&quot;, :wife=&gt;:Lisa }</span>
</pre>

<p>If no key map or block is given, then all keys are converted to Symbols.</p>

<p>Note that if both a <tt>key_map</tt> and a block are given, the
<tt>key_map</tt> is  applied first then the block.</p>

<p>CREDIT: Trans, Gavin Kistner</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/rekey.rb', line 35</span>

<span class='def def kw'>def</span> <span class='rekey identifier id'>rekey</span><span class='lparen token'>(</span><span class='key_map identifier id'>key_map</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='notop op'>!</span><span class='lparen token'>(</span><span class='key_map identifier id'>key_map</span> <span class='or or kw'>or</span> <span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='block identifier id'>block</span> <span class='assign token'>=</span> <span class='lambda identifier id'>lambda</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='bitor op'>|</span> <span class='k identifier id'>k</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>

  <span class='key_map identifier id'>key_map</span> <span class='opasgn op'>||=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span> 

  <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>

  <span class='lparen token'>(</span><span class='keys identifier id'>keys</span> <span class='minus op'>-</span> <span class='key_map identifier id'>key_map</span><span class='dot token'>.</span><span class='keys identifier id'>keys</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span>
    <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>

  <span class='key_map identifier id'>key_map</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='from identifier id'>from</span><span class='comma token'>,</span> <span class='to identifier id'>to</span><span class='bitor op'>|</span>
    <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='to identifier id'>to</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='from identifier id'>from</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='key? fid id'>key?</span><span class='lparen token'>(</span><span class='from identifier id'>from</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='hash2 identifier id'>hash2</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>

  <span class='if if kw'>if</span> <span class='block identifier id'>block</span>
    <span class='hash identifier id'>hash</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='bitor op'>|</span>
      <span class='nk identifier id'>nk</span> <span class='assign token'>=</span> <span class='block identifier id'>block</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span>
      <span class='nk identifier id'>nk</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='NA constant id'>NA</span> <span class='eq op'>==</span> <span class='nk identifier id'>nk</span> <span class='integer val'>? </span><span class='k identifier id'>k</span> <span class='colon op'>:</span> <span class='nk identifier id'>nk</span><span class='rparen token'>)</span>
      <span class='hash2 identifier id'>hash2</span><span class='lbrack token'>[</span><span class='nk identifier id'>nk</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='hash2 identifier id'>hash2</span> <span class='assign token'>=</span> <span class='hash identifier id'>hash</span>
  <span class='end end kw'>end</span>

  <span class='hash2 identifier id'>hash2</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="rekey!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>rekey!</strong>(key_map = nil, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Synonym for Hash#rekey, but modifies the receiver in place (and returns
it).</p>

<pre class="code"><span class='foo identifier id'>foo</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>'Gavin'</span><span class='comma token'>,</span> <span class='symbol val'>:wife=</span><span class='gt op'>&gt;</span><span class='symbol val'>:Lisa</span> <span class='rbrace token'>}</span>
<span class='foo identifier id'>foo</span><span class='dot token'>.</span><span class='rekey! fid id'>rekey!</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='bitor op'>|</span> <span class='k identifier id'>k</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='rbrace token'>}</span>  <span class='comment val'>#=&gt;  { &quot;name&quot;=&gt;&quot;Gavin&quot;, &quot;wife&quot;=&gt;:Lisa }</span>
<span class='foo identifier id'>foo</span>                       <span class='comment val'>#=&gt;  { &quot;name&quot;=&gt;&quot;Gavin&quot;, &quot;wife&quot;=&gt;:Lisa }</span>
</pre>

<p>CREDIT: Trans, Gavin Kistner</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


75
76
77</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/rekey.rb', line 75</span>

<span class='def def kw'>def</span> <span class='rekey! fid id'>rekey!</span><span class='lparen token'>(</span><span class='key_map identifier id'>key_map</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='rekey identifier id'>rekey</span><span class='lparen token'>(</span><span class='key_map identifier id'>key_map</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="replace_each-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>replace_each</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Same as #update_each, but deletes the key element first.</p>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9
10
11
12
13</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/replace_each.rb', line 7</span>

<span class='def def kw'>def</span> <span class='replace_each identifier id'>replace_each</span>  
  <span class='dup identifier id'>dup</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
    <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span>
    <span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="reverse_merge-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>reverse_merge</strong>(other) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Allows for reverse merging where its the keys in the calling hash that wins
over those in the <tt>other_hash</tt>. This is particularly useful for
initializing an incoming option hash with default values:</p>

<pre class="code"><span class='def def kw'>def</span> <span class='setup identifier id'>setup</span><span class='lparen token'>(</span><span class='options identifier id'>options</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='reverse_merge! fid id'>reverse_merge!</span> <span class='symbol val'>:size</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>25</span><span class='comma token'>,</span> <span class='symbol val'>:velocity</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>10</span>
<span class='end end kw'>end</span>
</pre>

<p>The default :size and :velocity is only set if the <tt>options</tt> passed
in doesn’t already have those keys set.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/reverse_merge.rb', line 15</span>

<span class='def def kw'>def</span> <span class='reverse_merge identifier id'>reverse_merge</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="reverse_merge!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>reverse_merge!</strong>(other) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='reverse_update-instance_method'>reverse_update</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>Inplace form of #reverse_merge.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/reverse_merge.rb', line 21</span>

<span class='def def kw'>def</span> <span class='reverse_merge! fid id'>reverse_merge!</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='reverse_merge identifier id'>reverse_merge</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="select!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>select!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>In-place version of Hash#select.  The opposite of the built-in
Hash#reject!.</p>

<p>CREDIT: Gavin Sinclair, Noah Gibbs</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/select.rb', line 10</span>

<span class='def def kw'>def</span> <span class='select! fid id'>select!</span>
  <span class='reject! fid id'>reject!</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='not not kw'>not</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="slice-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>slice</strong>(*keep_keys) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns a new hash with only the given keys.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='slice identifier id'>slice</span><span class='lparen token'>(</span><span class='symbol val'>:a</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; {:a=&gt;1}</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/slice.rb', line 8</span>

<span class='def def kw'>def</span> <span class='slice identifier id'>slice</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='keep_keys identifier id'>keep_keys</span><span class='rparen token'>)</span>
  <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='keep_keys identifier id'>keep_keys</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span>
    <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='hash identifier id'>hash</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="slice!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>slice!</strong>(*keep_keys) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Replaces hash with a new hash having only the given keys. This return the
hash of keys removed.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='slice! fid id'>slice!</span><span class='lparen token'>(</span><span class='symbol val'>:a</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; {:b=&gt;2}</span>
<span class='h identifier id'>h</span>             <span class='comment val'>#=&gt; {:a=&gt;1}</span>
</pre>

<p>Returns a Hash of the removed pairs.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


24
25
26
27
28
29</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/slice.rb', line 24</span>

<span class='def def kw'>def</span> <span class='slice! fid id'>slice!</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='keep_keys identifier id'>keep_keys</span><span class='rparen token'>)</span>
  <span class='rejected identifier id'>rejected</span> <span class='assign token'>=</span> <span class='keys identifier id'>keys</span> <span class='minus op'>-</span> <span class='keep_keys identifier id'>keep_keys</span>
  <span class='removed identifier id'>removed</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='rejected identifier id'>rejected</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='bitor op'>|</span> <span class='removed identifier id'>removed</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='removed identifier id'>removed</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="stringify_keys-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>stringify_keys</strong>(&amp;select) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Return a new hash with all keys converted to strings. Converts all keys in
the Hash to Strings, returning a new Hash. With a <tt>select</tt> block,
limits conversion to only a certain selection of keys.</p>

<pre class="code"><span class='foo identifier id'>foo</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>'Gavin'</span><span class='comma token'>,</span> <span class='symbol val'>:wife=</span><span class='gt op'>&gt;</span><span class='symbol val'>:Lisa</span> <span class='rbrace token'>}</span>
<span class='foo identifier id'>foo</span><span class='dot token'>.</span><span class='stringify_keys identifier id'>stringify_keys</span>    <span class='comment val'>#=&gt;  { &quot;name&quot;=&gt;&quot;Gavin&quot;, &quot;wife&quot;=&gt;:Lisa }</span>
<span class='foo identifier id'>foo</span>                   <span class='comment val'>#=&gt;  { :name =&gt;&quot;Gavin&quot;, :wife=&gt;:Lisa }</span>
</pre>

<p>This method is considered archaic. Use #rekey instead.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


61
62
63</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/symbolize_keys.rb', line 61</span>

<span class='def def kw'>def</span> <span class='stringify_keys identifier id'>stringify_keys</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='select identifier id'>select</span><span class='rparen token'>)</span>
  <span class='dup identifier id'>dup</span><span class='dot token'>.</span><span class='stringify_keys! fid id'>stringify_keys!</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='select identifier id'>select</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="stringify_keys!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>stringify_keys!</strong>(&amp;select) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Destructively convert all keys to strings. This is the same as
Hash#stringify_keys, but modifies the receiver in place and returns it.
With a <tt>select</tt> block, limits conversion to only certain keys.</p>

<pre class="code"><span class='foo identifier id'>foo</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>'Gavin'</span><span class='comma token'>,</span> <span class='symbol val'>:wife=</span><span class='gt op'>&gt;</span><span class='symbol val'>:Lisa</span> <span class='rbrace token'>}</span>
<span class='foo identifier id'>foo</span><span class='dot token'>.</span><span class='stringify_keys! fid id'>stringify_keys!</span>    <span class='comment val'>#=&gt;  { &quot;name&quot;=&gt;&quot;Gavin&quot;, &quot;wife&quot;=&gt;:Lisa }</span>
<span class='foo identifier id'>foo</span>                    <span class='comment val'>#=&gt;  { &quot;name&quot;=&gt;&quot;Gavin&quot;, &quot;wife&quot;=&gt;:Lisa }</span>
</pre>

<p>This method is considered archaic. Use #rekey instead.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


76
77
78
79
80
81
82
83
84
85
86
87
88
89</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/symbolize_keys.rb', line 76</span>

<span class='def def kw'>def</span> <span class='stringify_keys! fid id'>stringify_keys!</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='select identifier id'>select</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='select identifier id'>select</span>
    <span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='select identifier id'>select</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span>
        <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span>
      <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="subset-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>subset</strong>(keys = nil, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Take a subset of the hash, based on keys given or a block that evaluates to
true for each hash key.</p>

<pre class="code"><span class='lbrace token'>{</span><span class='string val'>'a'</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='string val'>'b'</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='subset identifier id'>subset</span><span class='lparen token'>(</span><span class='string val'>'a'</span><span class='rparen token'>)</span>            <span class='comment val'>#=&gt; {'a'=&gt;1}</span>
<span class='lbrace token'>{</span><span class='string val'>'a'</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='string val'>'b'</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='subset identifier id'>subset</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='bitor op'>|</span> <span class='k identifier id'>k</span> <span class='eq op'>==</span> <span class='string val'>'a'</span> <span class='rbrace token'>}</span>  <span class='comment val'>#=&gt; {'a'=&gt;1}</span>
</pre>

<p>CREDIT: Alexey Petrushin</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20
21
22</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/subset.rb', line 10</span>

<span class='def def kw'>def</span> <span class='subset identifier id'>subset</span><span class='lparen token'>(</span><span class='keys identifier id'>keys</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='if if kw'>if</span> <span class='keys identifier id'>keys</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='bitor op'>|</span>
      <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span> <span class='if if_mod kw'>if</span> <span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='bitor op'>|</span>
      <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span> <span class='if if_mod kw'>if</span> <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='h identifier id'>h</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="swap!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>swap!</strong>(key1, key2) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Swap the values of a pair of keys in place.</p>

<pre class="code"><span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='swap! fid id'>swap!</span><span class='lparen token'>(</span><span class='symbol val'>:a</span><span class='comma token'>,</span><span class='symbol val'>:b</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; {:a=&gt;2,:b=&gt;1}</span>
</pre>

<p>CREDIT: Gavin Sinclair</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/swap.rb', line 9</span>

<span class='def def kw'>def</span> <span class='swap! fid id'>swap!</span><span class='lparen token'>(</span><span class='key1 identifier id'>key1</span><span class='comma token'>,</span> <span class='key2 identifier id'>key2</span><span class='rparen token'>)</span>
  <span class='tmp identifier id'>tmp</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='key1 identifier id'>key1</span><span class='rbrack token'>]</span>
  <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='key1 identifier id'>key1</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='key2 identifier id'>key2</span><span class='rbrack token'>]</span>
  <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='key2 identifier id'>key2</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='tmp identifier id'>tmp</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="symbolize_keys-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>symbolize_keys</strong>(&amp;select) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Return a new hash with all keys converted to symbols. With a
<tt>select</tt> block, limits conversion to only a certain selection of
keys.</p>

<pre class="code"><span class='foo identifier id'>foo</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>'Gavin'</span><span class='comma token'>,</span> <span class='string val'>'wife'</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='symbol val'>:Lisa</span> <span class='rbrace token'>}</span>
<span class='foo identifier id'>foo</span><span class='dot token'>.</span><span class='symbolize_keys identifier id'>symbolize_keys</span>    <span class='comment val'>#=&gt;  { :name=&gt;&quot;Gavin&quot;, :wife=&gt;:Lisa }</span>
<span class='foo identifier id'>foo</span>                   <span class='comment val'>#=&gt;  { :name =&gt;&quot;Gavin&quot;, &quot;wife&quot;=&gt;:Lisa }</span>
</pre>

<p>If the key does not respond to #to_sym, then #to_s will be used first.</p>

<p>For a more versatile method, see #rekey instead.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/symbolize_keys.rb', line 18</span>

<span class='def def kw'>def</span> <span class='symbolize_keys identifier id'>symbolize_keys</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='select identifier id'>select</span><span class='rparen token'>)</span>
  <span class='dup identifier id'>dup</span><span class='dot token'>.</span><span class='symbolize_keys! fid id'>symbolize_keys!</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='select identifier id'>select</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="symbolize_keys!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>symbolize_keys!</strong>(&amp;select) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Destructively convert all keys to symbols. This is the same as
Hash#symbolize_keys, but modifies the receiver in place and returns it.
With a <tt>select</tt> block, limits conversion to only selected keys.</p>

<pre class="code"><span class='foo identifier id'>foo</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='string val'>'name'</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='string val'>'Gavin'</span><span class='comma token'>,</span> <span class='string val'>'wife'</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='symbol val'>:Lisa</span> <span class='rbrace token'>}</span>
<span class='foo identifier id'>foo</span><span class='dot token'>.</span><span class='symbolize_keys! fid id'>symbolize_keys!</span>    <span class='comment val'>#=&gt;  { :name=&gt;&quot;Gavin&quot;, :wife=&gt;:Lisa }</span>
<span class='foo identifier id'>foo</span>                    <span class='comment val'>#=&gt;  { :name=&gt;&quot;Gavin&quot;, :wife=&gt;:Lisa }</span>
</pre>

<p>If the key does not respond to #to_sym, then #to_s will be used first.</p>

<p>For a more versatile method, see #rekey instead.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/symbolize_keys.rb', line 34</span>

<span class='def def kw'>def</span> <span class='symbolize_keys! fid id'>symbolize_keys!</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='select identifier id'>select</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='select identifier id'>select</span>
    <span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='select identifier id'>select</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span>
        <span class='new_key identifier id'>new_key</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span> <span class='rescue rescue kw'>rescue</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rparen token'>)</span>
        <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='new_key identifier id'>new_key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>       
  <span class='else else kw'>else</span>
    <span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='bitor op'>|</span>
      <span class='new_key identifier id'>new_key</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span> <span class='rescue rescue kw'>rescue</span> <span class='key identifier id'>key</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='to_sym identifier id'>to_sym</span><span class='rparen token'>)</span>
      <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='new_key identifier id'>new_key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_b-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_b</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Boolean conversion for not empty?</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


117
118
119</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/boolean.rb', line 117</span>

<span class='def def kw'>def</span> <span class='to_b identifier id'>to_b</span>
  <span class='notop op'>!</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_h-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_h</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Return a rehashing of <em>self</em>.</p>

<pre class="code"><span class='lbrace token'>{</span><span class='string val'>&quot;a&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='string val'>&quot;b&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='to_h identifier id'>to_h</span>  <span class='comment val'>#=&gt; {&quot;b&quot;=&gt;2,&quot;a&quot;=&gt;1}</span>
</pre>

<p>CREDIT: Forian Gross</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


211</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/to_hash.rb', line 211</span>

<span class='def def kw'>def</span> <span class='to_h identifier id'>to_h</span><span class='semicolon token'>;</span> <span class='rehash identifier id'>rehash</span> <span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_hash-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_hash</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns <em>self</em>.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/to_hash.rb', line 215</span>

<span class='def def kw'>def</span> <span class='to_hash identifier id'>to_hash</span><span class='semicolon token'>;</span> <span class='self self kw'>self</span> <span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_mod-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_mod</strong>(&amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Convert a hash into a module.</p>

<pre class="code"><span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='to_mod identifier id'>to_mod</span>
</pre>

<p>Can take a block accepting key, value pairs which will be evaluated in the
context of the module.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span>
<span class='m identifier id'>m</span> <span class='assign token'>=</span> <span class='h identifier id'>h</span><span class='dot token'>.</span><span class='to_mod identifier id'>to_mod</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='module_function identifier id'>module_function</span> <span class='k identifier id'>k</span> <span class='rbrace token'>}</span>
<span class='m identifier id'>m</span><span class='dot token'>.</span><span class='a identifier id'>a</span> <span class='comment val'>#=&gt; 1</span>
<span class='m identifier id'>m</span><span class='dot token'>.</span><span class='b identifier id'>b</span> <span class='comment val'>#=&gt; 2</span>
</pre>

<p>CREDIT: Jay Fields – TODO: Consider #to_obj? ++</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


20
21
22
23
24
25
26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/to_mod.rb', line 20</span>

<span class='def def kw'>def</span> <span class='to_mod identifier id'>to_mod</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='self self kw'>self</span>
  <span class='Module constant id'>Module</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span>
    <span class='hash identifier id'>hash</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span>
      <span class='define_method identifier id'>define_method</span> <span class='key identifier id'>key</span> <span class='do do kw'>do</span>
        <span class='value identifier id'>value</span> <span class='comment val'>#.to_object</span>
      <span class='end end kw'>end</span>
      <span class='instance_exec identifier id'>instance_exec</span><span class='lparen token'>(</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='block identifier id'>block</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_proc-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_proc</strong>(response = false) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Constructs a Proc object from a hash such that the parameter of the Proc is
assigned the hash keys as attributes.</p>

<pre class="code"><span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='Class constant id'>Class</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span>
  <span class='attr_accessor identifier id'>attr_accessor</span> <span class='symbol val'>:a</span>
<span class='end end kw'>end</span>

<span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:a</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>1</span><span class='rbrace token'>}</span>
<span class='o identifier id'>o</span> <span class='assign token'>=</span> <span class='c identifier id'>c</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='to_proc identifier id'>to_proc</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='o identifier id'>o</span><span class='rparen token'>)</span>
<span class='o identifier id'>o</span><span class='dot token'>.</span><span class='a identifier id'>a</span>  <span class='comment val'>#=&gt; 1</span>
</pre>

<p>If <tt>response</tt> is set to <tt>true</tt>, then assignment will only
occur if receiver responds_to? the writer method.</p>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/to_proc.rb', line 20</span>

<span class='def def kw'>def</span> <span class='to_proc identifier id'>to_proc</span><span class='lparen token'>(</span><span class='response identifier id'>response</span><span class='assign token'>=</span><span class='false false kw'>false</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='response identifier id'>response</span>
    <span class='lambda identifier id'>lambda</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='o identifier id'>o</span><span class='bitor op'>|</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
        <span class='ke identifier id'>ke</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{k}=&quot;</span>
        <span class='o identifier id'>o</span><span class='dot token'>.</span><span class='__send__ identifier id'>__send__</span><span class='lparen token'>(</span><span class='ke identifier id'>ke</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='ke identifier id'>ke</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='lambda identifier id'>lambda</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='o identifier id'>o</span><span class='bitor op'>|</span>
      <span class='self self kw'>self</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
        <span class='ke identifier id'>ke</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{k}=&quot;</span>
        <span class='o identifier id'>o</span><span class='dot token'>.</span><span class='__send__ identifier id'>__send__</span><span class='lparen token'>(</span><span class='ke identifier id'>ke</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_struct-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_struct</strong>(struct_name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>A method to convert a Hash into a Struct.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Dan&quot;</span><span class='comma token'>,</span><span class='string val'>&quot;age&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>33</span><span class='comma token'>,</span><span class='string val'>&quot;rank&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;SrA&quot;</span><span class='comma token'>,</span><span class='string val'>&quot;grade&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;E4&quot;</span><span class='rbrace token'>}</span>
<span class='s identifier id'>s</span> <span class='assign token'>=</span> <span class='h identifier id'>h</span><span class='dot token'>.</span><span class='to_struct identifier id'>to_struct</span><span class='lparen token'>(</span><span class='string val'>&quot;Foo&quot;</span><span class='rparen token'>)</span>
</pre>

<p>TODO: Is this robust enough considerd hashes aren’t ordered?</p>

<p>CREDIT: Daniel Berger</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/to_struct.rb', line 12</span>

<span class='def def kw'>def</span> <span class='to_struct identifier id'>to_struct</span><span class='lparen token'>(</span><span class='struct_name identifier id'>struct_name</span><span class='rparen token'>)</span>
  <span class='Struct constant id'>Struct</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='struct_name identifier id'>struct_name</span><span class='comma token'>,</span><span class='mult op'>*</span><span class='keys identifier id'>keys</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='values identifier id'>values</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="traverse-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>traverse</strong>(&amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns a new hash created by traversing the hash and its subhashes,
executing the given block on the key and value. The block should return a
2-element array of the form <tt>[key, value]</tt>.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='string val'>&quot;A&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;A&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;B&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;B&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;C&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='lbrace token'>{</span><span class='string val'>&quot;X&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;X&quot;</span><span class='rbrace token'>}</span><span class='rbrace token'>}</span>

<span class='g identifier id'>g</span> <span class='assign token'>=</span> <span class='h identifier id'>h</span><span class='dot token'>.</span><span class='traverse identifier id'>traverse</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>

<span class='g identifier id'>g</span>  <span class='comment val'>#=&gt; {&quot;a&quot;=&gt;&quot;A&quot;, &quot;b&quot;=&gt;&quot;B&quot;, &quot;c&quot;=&gt;{&quot;x&quot;=&gt;&quot;X&quot;}}</span>
</pre>

<p>NOTE: Hash#traverse is the same as `recursive.graph` and might be
deprecated in the future (if it ever works!)</p>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21
22
23
24
25
26
27
28
29</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/traverse.rb', line 18</span>

<span class='def def kw'>def</span> <span class='traverse identifier id'>traverse</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='h identifier id'>h</span><span class='comma token'>,</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='rparen token'>)</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='Hash constant id'>Hash</span> <span class='eqq op'>===</span> <span class='v identifier id'>v</span>
      <span class='v identifier id'>v</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span><span class='dot token'>.</span><span class='traverse identifier id'>traverse</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='elsif elsif kw'>elsif</span> <span class='v identifier id'>v</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:to_hash</span><span class='rparen token'>)</span>
      <span class='v identifier id'>v</span> <span class='assign token'>=</span> <span class='v identifier id'>v</span><span class='dot token'>.</span><span class='to_hash identifier id'>to_hash</span><span class='dot token'>.</span><span class='traverse identifier id'>traverse</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='nk identifier id'>nk</span><span class='comma token'>,</span> <span class='nv identifier id'>nv</span> <span class='assign token'>=</span> <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='rparen token'>)</span>
    <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='nk identifier id'>nk</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='nv identifier id'>nv</span>
    <span class='h identifier id'>h</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="traverse!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>traverse!</strong>(&amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>In place version of traverse, which traverses the hash and its subhashes,
executing the given block on the key and value.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='string val'>&quot;A&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;A&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;B&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;B&quot;</span> <span class='rbrace token'>}</span>

<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='traverse! fid id'>traverse!</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='comma token'>,</span> <span class='v identifier id'>v</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>

<span class='h identifier id'>h</span>  <span class='comment val'>#=&gt; { &quot;a&quot;=&gt;&quot;A&quot;, &quot;b&quot;=&gt;&quot;B&quot; }</span>
</pre>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/traverse.rb', line 42</span>

<span class='def def kw'>def</span> <span class='traverse! fid id'>traverse!</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='replace identifier id'>replace</span><span class='lparen token'>(</span><span class='traverse identifier id'>traverse</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="update_each-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>update_each</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Iterates through each pair and updates a the hash in place. This is
formally equivalent to #mash! But does not use #mash to accomplish the
task. Hence #update_each is probably a touch faster.</p>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/update_each.rb', line 10</span>

<span class='def def kw'>def</span> <span class='update_each identifier id'>update_each</span>  
  <span class='dup identifier id'>dup</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
   <span class='update identifier id'>update</span><span class='lparen token'>(</span><span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='rparen token'>)</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="update_keys-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>update_keys</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Iterate over hash updating just the keys.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='update_keys identifier id'>update_keys</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='bitor op'>|</span> <span class='dstring node'>&quot;#{k}!&quot;</span> <span class='rbrace token'>}</span>
<span class='h identifier id'>h</span>  <span class='comment val'>#=&gt; { &quot;a!&quot;=&gt;1, &quot;b!&quot;=&gt;2 }</span>
</pre>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/update_keys.rb', line 11</span>

<span class='def def kw'>def</span> <span class='update_keys identifier id'>update_keys</span> 
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='keys identifier id'>keys</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='old_key identifier id'>old_key</span><span class='bitor op'>|</span> <span class='store identifier id'>store</span><span class='lparen token'>(</span><span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='old_key identifier id'>old_key</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='delete identifier id'>delete</span><span class='lparen token'>(</span><span class='old_key identifier id'>old_key</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='else else kw'>else</span>
    <span class='to_enum identifier id'>to_enum</span><span class='lparen token'>(</span><span class='symbol val'>:update_keys</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="update_values-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>update_values</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Iterate over hash updating just the values.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='update_values identifier id'>update_values</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='v identifier id'>v</span> <span class='plus op'>+</span> <span class='integer val'>1</span> <span class='rbrace token'>}</span>
<span class='h identifier id'>h</span>  <span class='comment val'>#=&gt; { :a=&gt;2, :b=&gt;3 }</span>
</pre>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/update_values.rb', line 11</span>

<span class='def def kw'>def</span> <span class='update_values identifier id'>update_values</span> 
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='store identifier id'>store</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='comma token'>,</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='else else kw'>else</span>
    <span class='to_enum identifier id'>to_enum</span><span class='lparen token'>(</span><span class='symbol val'>:update_values</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="weave-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>weave</strong>(h) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Weave is a very uniqe hash operator. I is designed to merge to complex
hashes in according to sensible, regular pattern. The effect is akin to
inheritance.</p>

<p>Two hashes are weaved together to produce a new hash. The two hashes need
to be compatible according to the following rules for each node: …</p>

<pre class="code"><span class='hash identifier id'>hash</span><span class='comma token'>,</span>   <span class='hash identifier id'>hash</span>    <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='hash identifier id'>hash</span> <span class='lparen token'>(</span><span class='recursive identifier id'>recursive</span> <span class='plus op'>+</span><span class='rparen token'>)</span>
<span class='hash identifier id'>hash</span><span class='comma token'>,</span>   <span class='array identifier id'>array</span>   <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='error identifier id'>error</span>
<span class='hash identifier id'>hash</span><span class='comma token'>,</span>   <span class='value identifier id'>value</span>   <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='error identifier id'>error</span>
<span class='array identifier id'>array</span><span class='comma token'>,</span>  <span class='hash identifier id'>hash</span>    <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='error identifier id'>error</span>
<span class='array identifier id'>array</span><span class='comma token'>,</span>  <span class='array identifier id'>array</span>   <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='array identifier id'>array</span> <span class='plus op'>+</span> <span class='array identifier id'>array</span>
<span class='array identifier id'>array</span><span class='comma token'>,</span>  <span class='value identifier id'>value</span>   <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='array identifier id'>array</span> <span class='lshft op'>&lt;&lt;</span> <span class='value identifier id'>value</span>
<span class='value identifier id'>value</span><span class='comma token'>,</span>  <span class='hash identifier id'>hash</span>    <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='error identifier id'>error</span>
<span class='value identifier id'>value</span><span class='comma token'>,</span>  <span class='array identifier id'>array</span>   <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='array identifier id'>array</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span><span class='valueB identifier id'>valueB</span><span class='rparen token'>)</span>
<span class='value1 identifier id'>value1</span><span class='comma token'>,</span> <span class='value2 identifier id'>value2</span>  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='value2 identifier id'>value2</span>
</pre>

<p>Here is a basic example:</p>

<pre class="code"><span class='h1 identifier id'>h1</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:a</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span> <span class='integer val'>1</span> <span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:c</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span> <span class='symbol val'>:x</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>1</span> <span class='rbrace token'>}</span> <span class='rbrace token'>}</span>
<span class='h2 identifier id'>h2</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='symbol val'>:a</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='symbol val'>:b</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span> <span class='integer val'>2</span> <span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='symbol val'>:c</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span> <span class='symbol val'>:x</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>2</span> <span class='rbrace token'>}</span> <span class='rbrace token'>}</span>

<span class='h1 identifier id'>h1</span><span class='dot token'>.</span><span class='weave identifier id'>weave</span><span class='lparen token'>(</span><span class='h2 identifier id'>h2</span><span class='rparen token'>)</span>
<span class='comment val'>#=&gt; {:b=&gt;[1, 2], :c=&gt;{:x=&gt;2}, :a=&gt;2}</span>
</pre>

<p>Weave follows the most expected pattern of unifying two complex hashes. It
is especially useful for implementing overridable configuration schemes.</p>

<p>CREDIT: Thomas Sawyer</p>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/weave.rb', line 35</span>

<span class='def def kw'>def</span> <span class='weave identifier id'>weave</span><span class='lparen token'>(</span><span class='h identifier id'>h</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;Hash expected&quot;</span> <span class='unless unless_mod kw'>unless</span> <span class='h identifier id'>h</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='rparen token'>)</span>
  <span class='s identifier id'>s</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='clone identifier id'>clone</span>
  <span class='h identifier id'>h</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='node identifier id'>node</span><span class='bitor op'>|</span>
    <span class='node_is_hash identifier id'>node_is_hash</span> <span class='assign token'>=</span> <span class='node identifier id'>node</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='rparen token'>)</span>
    <span class='node_is_array identifier id'>node_is_array</span> <span class='assign token'>=</span> <span class='node identifier id'>node</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='s identifier id'>s</span><span class='dot token'>.</span><span class='has_key? fid id'>has_key?</span><span class='lparen token'>(</span><span class='k identifier id'>k</span><span class='rparen token'>)</span>
      <span class='self_node_is_hash identifier id'>self_node_is_hash</span> <span class='assign token'>=</span> <span class='s identifier id'>s</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='rparen token'>)</span>
      <span class='self_node_is_array identifier id'>self_node_is_array</span> <span class='assign token'>=</span> <span class='s identifier id'>s</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='kind_of? fid id'>kind_of?</span><span class='lparen token'>(</span><span class='Array constant id'>Array</span><span class='rparen token'>)</span>
      <span class='if if kw'>if</span> <span class='self_node_is_hash identifier id'>self_node_is_hash</span>
        <span class='if if kw'>if</span> <span class='node_is_hash identifier id'>node_is_hash</span>
          <span class='s identifier id'>s</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='s identifier id'>s</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='weave identifier id'>weave</span><span class='lparen token'>(</span><span class='node identifier id'>node</span><span class='rparen token'>)</span>
        <span class='elsif elsif kw'>elsif</span> <span class='node_is_array identifier id'>node_is_array</span>
          <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>'Incompatible hash addition'</span> <span class='comment val'>#self[k] = node</span>
        <span class='else else kw'>else</span>
          <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>'Incompatible hash addition'</span> <span class='comment val'>#self[k] = node</span>
        <span class='end end kw'>end</span>
      <span class='elsif elsif kw'>elsif</span> <span class='self_node_is_array identifier id'>self_node_is_array</span>
        <span class='if if kw'>if</span> <span class='node_is_hash identifier id'>node_is_hash</span>
          <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>'Incompatible hash addition'</span> <span class='comment val'>#self[k] = node</span>
        <span class='elsif elsif kw'>elsif</span> <span class='node_is_array identifier id'>node_is_array</span>
          <span class='s identifier id'>s</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='node identifier id'>node</span>
        <span class='else else kw'>else</span>
          <span class='s identifier id'>s</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='node identifier id'>node</span>
        <span class='end end kw'>end</span>
      <span class='else else kw'>else</span>
        <span class='if if kw'>if</span> <span class='node_is_hash identifier id'>node_is_hash</span>
          <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>'Incompatible hash addition'</span> <span class='comment val'>#self[k] = node</span>
        <span class='elsif elsif kw'>elsif</span> <span class='node_is_array identifier id'>node_is_array</span>
          <span class='s identifier id'>s</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='unshift identifier id'>unshift</span><span class='lparen token'>(</span> <span class='node identifier id'>node</span> <span class='rparen token'>)</span>
        <span class='else else kw'>else</span>
          <span class='s identifier id'>s</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='node identifier id'>node</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
      <span class='s identifier id'>s</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='node identifier id'>node</span>
    <span class='end end kw'>end</span>
  <span class='rbrace token'>}</span>
  <span class='s identifier id'>s</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="|-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>|</strong>(other) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Operator for #reverse_merge.</p>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/hash/op_or.rb', line 7</span>

<span class='def def kw'>def</span> <span class='bitor op'>|</span><span class='lparen token'>(</span><span class='other identifier id'>other</span><span class='rparen token'>)</span>
  <span class='other identifier id'>other</span><span class='dot token'>.</span><span class='merge identifier id'>merge</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Tue May 17 02:26:34 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.7 (ruby-1.8.7).
</div>

  </body>
</html>