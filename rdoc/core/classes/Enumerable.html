<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

  <title>Module: Enumerable</title>

  
    <link rel="SHORTCUT ICON" href="../assets/icon/module.png">
  

  <link type="text/css" rel="stylesheet" href="../assets/rdoc.css" media="screen" />
  <link type="text/css" rel="stylesheet" href="../assets/highlight/styles/github.css" title="GitHub" />

  <script type="text/javascript" charset="utf-8" src="../assets/jquery.js"></script>
  <script type="text/javascript" charset="utf-8" src="../assets/highlight/highlight.pack.js"></script>
  <script type="text/javascript" charset="utf-8" src="../assets/quicksearch.js"></script>
  <script type="text/javascript" charset="utf-8" src="../assets/main.js"></script>

  <script type="text/javascript">
    $(document).ready( function() {
      hookHighlightSyntax();
	    hookSourceViews();
	    hookDebuggingToggle();
	    hookQuickSearch();
	    highlightLocationTarget();

	    $('ul.link-list a').bind("click", highlightClickTarget);
    });
  </script>
</head>
<body class="module">
<div id="main">

  <div class="head">
    <h1>
      
        <img src="../assets/icon/module.png" align="absmiddle">&nbsp;
      
      <a href="../index.html">Facets Core API</a>&nbsp;
      <a href="/">Enumerable</a>
    </h1>
  </div>

  <div id="metadata">
    <div id="project-metadata">

      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li class="file"><a href="../files/lib/core/facets/to_hash_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/to_hash.rb">lib/core/facets/to_hash.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/take_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/take.rb">lib/core/facets/enumerable/take.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/one_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/one.rb">lib/core/facets/enumerable/one.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/cluster_by_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/cluster_by.rb">lib/core/facets/enumerable/cluster_by.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/group_by_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/group_by.rb">lib/core/facets/enumerable/group_by.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/sum_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/sum.rb">lib/core/facets/enumerable/sum.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/map_detect_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/map_detect.rb">lib/core/facets/enumerable/map_detect.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/mode_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/mode.rb">lib/core/facets/enumerable/mode.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/commonality_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/commonality.rb">lib/core/facets/enumerable/commonality.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/ewise_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/ewise.rb">lib/core/facets/enumerable/ewise.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/occur_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/occur.rb">lib/core/facets/enumerable/occur.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/frequency_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/frequency.rb">lib/core/facets/enumerable/frequency.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/divide_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/divide.rb">lib/core/facets/enumerable/divide.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/inject_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/inject.rb">lib/core/facets/enumerable/inject.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/duplicates_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/duplicates.rb">lib/core/facets/enumerable/duplicates.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/per_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/per.rb">lib/core/facets/enumerable/per.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/none_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/none.rb">lib/core/facets/enumerable/none.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/defer_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/defer.rb">lib/core/facets/enumerable/defer.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/uniq_by_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/uniq_by.rb">lib/core/facets/enumerable/uniq_by.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/accumulate_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/accumulate.rb">lib/core/facets/enumerable/accumulate.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/mash_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/mash.rb">lib/core/facets/enumerable/mash.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/modulate_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/modulate.rb">lib/core/facets/enumerable/modulate.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/entropy_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/entropy.rb">lib/core/facets/enumerable/entropy.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/filter_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/filter.rb">lib/core/facets/enumerable/filter.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/split_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/split.rb">lib/core/facets/enumerable/split.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/map_send_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/map_send.rb">lib/core/facets/enumerable/map_send.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/probability_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/probability.rb">lib/core/facets/enumerable/probability.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/map_with_index_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/map_with_index.rb">lib/core/facets/enumerable/map_with_index.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/count_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/count.rb">lib/core/facets/enumerable/count.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/every_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/every.rb">lib/core/facets/enumerable/every.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/compact_map_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/compact_map.rb">lib/core/facets/enumerable/compact_map.rb</a></li>
          
            <li class="file"><a href="../files/lib/core/facets/enumerable/each_by_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/core/facets/enumerable/each_by.rb">lib/core/facets/enumerable/each_by.rb</a></li>
          
          </ul>
        </div>
      </div>

      <!-- What about Git info, or Hg info? This seems almost silly, albeit kind of cool. -->
      <!-- TODO: generalize this for all SCMs -->

      
    </div>

    <div id="class-metadata">

      <!-- Parent Class -->
      

      <!-- Namespace Contents -->
      
      <div id="namespace-list-section" class="section">
        <h3 class="section-header">Namespace</h3>
        <ul class="link-list">
          
          <li class="class"><a href="Enumerable/Permeator.html">Enumerable::Permeator</a></li>
          
        </ul>
      </div>
      

      <!-- Method Quickref -->
      
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
            
            <li class="method">
              <a href="#M001046">#accumulate</a>
            </li>
          
            
            <li class="method">
              <a href="#M001027">#cluster_by</a>
            </li>
          
            
            <li class="method">
              <a href="#M001057">#collect_with_index</a>
            </li>
          
            
            <li class="method">
              <a href="#M001033">#commonality</a>
            </li>
          
            
            <li class="method">
              <a href="#M001063">#compact_collect</a>
            </li>
          
            
            <li class="method">
              <a href="#M001061">#compact_map</a>
            </li>
          
            
            <li class="method">
              <a href="#M001060">#count</a>
            </li>
          
            
            <li class="method">
              <a href="#M001044">#defer</a>
            </li>
          
            
            <li class="method">
              <a href="#M001038">#divide</a>
            </li>
          
            
            <li class="method">
              <a href="#M001042">#duplicates</a>
            </li>
          
            
            <li class="method">
              <a href="#M001062">#each_by</a>
            </li>
          
            
            <li class="method">
              <a href="#M001034">#elementwise</a>
            </li>
          
            
            <li class="method">
              <a href="#M001050">#entropy</a>
            </li>
          
            
            <li class="method">
              <a href="#M001058">#every</a>
            </li>
          
            
            <li class="method">
              <a href="#M001059">#every!</a>
            </li>
          
            
            <li class="method">
              <a href="#M001036">#ewise</a>
            </li>
          
            
            <li class="method">
              <a href="#M001052">#filter</a>
            </li>
          
            
            <li class="method">
              <a href="#M001037">#frequency</a>
            </li>
          
            
            <li class="method">
              <a href="#M001048">#graph</a>
            </li>
          
            
            <li class="method">
              <a href="#M001029">#group_by</a>
            </li>
          
            
            <li class="method">
              <a href="#M001051">#ideal_entropy</a>
            </li>
          
            
            <li class="method">
              <a href="#M001039">#inject!</a>
            </li>
          
            
            <li class="method">
              <a href="#M001032">#map_detect</a>
            </li>
          
            
            <li class="method">
              <a href="#M001054">#map_send</a>
            </li>
          
            
            <li class="method">
              <a href="#M001056">#map_with_index</a>
            </li>
          
            
            <li class="method">
              <a href="#M001047">#mash</a>
            </li>
          
            
            <li class="method">
              <a href="#M001031">#mode</a>
            </li>
          
            
            <li class="method">
              <a href="#M001049">#modulate</a>
            </li>
          
            
            <li class="method">
              <a href="#M001043">#none?</a>
            </li>
          
            
            <li class="method">
              <a href="#M001040">#nonuniq</a>
            </li>
          
            
            <li class="method">
              <a href="#M001035">#occur</a>
            </li>
          
            
            <li class="method">
              <a href="#M001028">#one?</a>
            </li>
          
            
            <li class="method">
              <a href="#M001041">#per</a>
            </li>
          
            
            <li class="method">
              <a href="#M001055">#probability</a>
            </li>
          
            
            <li class="method">
              <a href="#M001053">#split</a>
            </li>
          
            
            <li class="method">
              <a href="#M001030">#sum</a>
            </li>
          
            
            <li class="method">
              <a href="#M001026">#take</a>
            </li>
          
            
            <li class="method">
              <a href="#M000756">#to_h</a>
            </li>
          
            
            <li class="method">
              <a href="#M000760">#to_h_assoc</a>
            </li>
          
            
            <li class="method">
              <a href="#M000757">#to_h_auto</a>
            </li>
          
            
            <li class="method">
              <a href="#M000759">#to_h_flat</a>
            </li>
          
            
            <li class="method">
              <a href="#M000761">#to_h_multi</a>
            </li>
          
            
            <li class="method">
              <a href="#M000758">#to_h_splat</a>
            </li>
          
            
            <li class="method">
              <a href="#M001045">#uniq_by</a>
            </li>
          
        </ul>
      </div>
      

      <!-- Included Modules -->
      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Information</h3>
        <ul>
        
          <li class="file"><a href="../files/doc/README_core.html">README.core</a></li>
        
          <li class="file"><a href="../files/README_rdoc.html">README.rdoc</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class Index
          <span class="search-toggle"><img src="../assets/icon/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <!-- classpage.html : classes -->
        <ul class="link-list">
        
          <li class="module"><a href="../classes/Lazy.html">Lazy</a></li>
        
          <li class="class"><a href="../classes/Lazy/Future.html">Lazy::Future</a></li>
        
          <li class="class"><a href="../classes/Lazy/Promise.html">Lazy::Promise</a></li>
        
          <li class="class"><a href="../classes/Lazy/PromiseSafe.html">Lazy::PromiseSafe</a></li>
        
          <li class="module"><a href="../classes/Enumerable.html">Enumerable</a></li>
        
          <li class="class"><a href="../classes/Object.html">Object</a></li>
        
          <li class="class"><a href="../classes/Array.html">Array</a></li>
        
          <li class="class"><a href="../classes/Binding.html">Binding</a></li>
        
          <li class="class"><a href="../classes/Class.html">Class</a></li>
        
          <li class="module"><a href="../classes/Comparable.html">Comparable</a></li>
        
          <li class="module"><a href="../classes/Denumerable.html">Denumerable</a></li>
        
          <li class="class"><a href="../classes/Denumerator.html">Denumerator</a></li>
        
          <li class="class"><a href="../classes/Dir.html">Dir</a></li>
        
          <li class="class"><a href="../classes/Enumerator.html">Enumerator</a></li>
        
          <li class="class"><a href="../classes/Exception.html">Exception</a></li>
        
          <li class="class"><a href="../classes/FalseClass.html">FalseClass</a></li>
        
          <li class="class"><a href="../classes/File.html">File</a></li>
        
          <li class="module"><a href="../classes/FileTest.html">FileTest</a></li>
        
          <li class="class"><a href="../classes/Float.html">Float</a></li>
        
          <li class="class"><a href="../classes/Functor.html">Functor</a></li>
        
          <li class="class"><a href="../classes/Hash.html">Hash</a></li>
        
          <li class="module"><a href="../classes/Indexable.html">Indexable</a></li>
        
          <li class="class"><a href="../classes/InstanceVariables.html">InstanceVariables</a></li>
        
          <li class="class"><a href="../classes/Integer.html">Integer</a></li>
        
          <li class="module"><a href="../classes/Kernel.html">Kernel</a></li>
        
          <li class="class"><a href="../classes/MatchData.html">MatchData</a></li>
        
          <li class="class"><a href="../classes/Module.html">Module</a></li>
        
          <li class="class"><a href="../classes/NilClass.html">NilClass</a></li>
        
          <li class="class"><a href="../classes/Numeric.html">Numeric</a></li>
        
          <li class="module"><a href="../classes/ObjectSpace.html">ObjectSpace</a></li>
        
          <li class="class"><a href="../classes/Proc.html">Proc</a></li>
        
          <li class="class"><a href="../classes/Range.html">Range</a></li>
        
          <li class="class"><a href="../classes/Regexp.html">Regexp</a></li>
        
          <li class="module"><a href="../classes/Stackable.html">Stackable</a></li>
        
          <li class="class"><a href="../classes/String.html">String</a></li>
        
          <li class="class"><a href="../classes/Struct.html">Struct</a></li>
        
          <li class="class"><a href="../classes/Symbol.html">Symbol</a></li>
        
          <li class="class"><a href="../classes/Time.html">Time</a></li>
        
          <li class="class"><a href="../classes/TrueClass.html">TrueClass</a></li>
        
          <li class="class"><a href="../classes/UnboundMethod.html">UnboundMethod</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>
    </div>

    <div id="validator-badges">
      
      <div style="float: right; margin-right: 5px;">
        <a href="http://validator.w3.org/check/referer"><img src="../assets/icon/check.png" alt="[Validate]" height="16" width="16" /></a>
      </div>
      Generated with <a href="http://github.com/proutils/webri">WebRI Redfish</a> 1.0.0
      <br/><br/>
    </div>
  </div>

  <div id="documentation">

    <div id="description">
      
        <h1>Enumerable</h1>
      

      
    </div>

    <!-- Constants -->
    

    <!-- Attributes -->
    

    <!-- Methods -->
    
    <div id="public-instance-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="accumulate-method" class="method-detail ">
        <a name="M001046"></a>

        <div class="method-heading">
        
          <span class="method-name">accumulate</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Accumulate a set of a set.
</p>
<p>
For example, in an ORM design if Group has_many User then
</p>
<pre>
  groups.accumulate.users
</pre>
<p>
will return a list of users from all groups.
</p>
<p>
CREDIT: George Moshchovitis
</p>
          

          
          <div class="method-source-code"
            id="accumulate-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/accumulate.rb, line 16</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">accumulate</span>
    <span class="ruby-ivar">@_accumulate</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Functor</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">op</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">inject</span>([]) { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>, <span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">op</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>) }.<span class="ruby-identifier">flatten</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="cluster-by-method" class="method-detail ">
        <a name="M001027"></a>

        <div class="method-heading">
        
          <span class="method-name">cluster_by</span><span
            class="method-args">(&b)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Similar to <a href="Enumerable.html#M001029">group_by</a> but returns an
array of the groups. Returned elements are sorted by block.
</p>
<pre>
   %w{this is a test}.cluster_by {|x| x[0]}
</pre>
<p>
<em>produces</em>
</p>
<pre>
   [ ['a'], ['is'], ['this', 'test'] ]
</pre>
<p>
CREDIT: Erik Veenstra
</p>
          

          
          <div class="method-source-code"
            id="cluster-by-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/cluster_by.rb, line 16</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cluster_by</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>)
    <span class="ruby-identifier">group_by</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>).<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">transpose</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">||</span> []   <span class="ruby-comment cmt"># group_by(&amp;b).values ?</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="collect-with-index-method" class="method-detail method-alias">
        <a name="M001057"></a>

        <div class="method-heading">
        
          <span class="method-name">collect_with_index</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Enumerable.html#M001056">map_with_index</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="commonality-method" class="method-detail ">
        <a name="M001033"></a>

        <div class="method-heading">
        
          <span class="method-name">commonality</span><span
            class="method-args">( &block )</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns all items that are equal in terms of the supplied block. If no
block is given objects are considered to be equal if they return the same
value for Object#hash and if obj1 == obj2.
</p>
<pre>
  [1, 2, 2, 3, 4, 4].commonality # =&gt; { 2 =&gt; [2], 4 =&gt; [4] }

  [&quot;foo&quot;, &quot;bar&quot;, &quot;a&quot;].commonality { |str| str.length }
  # =&gt; { 3 =&gt; [&quot;foo, &quot;bar&quot;] }

  # Returns all persons that share their last name with another person.
  persons.collisions { |person| person.last_name }
</pre>
<p>
CREDIT: Florian Gross
</p>
          

          
          <div class="method-source-code"
            id="commonality-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/commonality.rb, line 17</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commonality</span>( <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> )
    <span class="ruby-identifier">had_no_block</span> = <span class="ruby-operator">!</span><span class="ruby-identifier">block</span>
    <span class="ruby-identifier">block</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">lambda</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span> <span class="ruby-identifier">item</span> }
    <span class="ruby-identifier">result</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
    <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">key</span> = <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">item</span>)
      <span class="ruby-identifier">result</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">result</span>.<span class="ruby-identifier">reject!</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">values</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">1</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-comment cmt">#return had_no_block ? result.values.flatten : result</span>
    <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">result</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="compact-collect-method" class="method-detail method-alias">
        <a name="M001063"></a>

        <div class="method-heading">
        
          <span class="method-name">compact_collect</span><span
            class="method-args">(trash=nil, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Enumerable.html#M001061">compact_map</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="compact-map-method" class="method-detail ">
        <a name="M001061"></a>

        <div class="method-heading">
        
          <span class="method-name">compact_map</span><span
            class="method-args">(trash=nil, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
A more versitle compact method. It can be used to collect and filter items
out in one single step.
</p>
<pre>
  [1,2,3].compact_map do |n|
    n &lt; 1 ? nil : n
  end
</pre>
<p>
<em>produces</em>
</p>
<pre>
  [2,3]
</pre>
<p>
NOTE: Perhaps nicer to have as added functionality for compact.
</p>
<p>
CREDIT: Trans
</p>
          

          
          <div class="method-source-code"
            id="compact-map-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/compact_map.rb, line 18</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">compact_map</span>(<span class="ruby-identifier">trash</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-identifier">y</span> = []
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">r</span> = <span class="ruby-keyword kw">yield</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">a</span>)
        <span class="ruby-identifier">y</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">r</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">trash</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">r</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">y</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">r</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">trash</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">r</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">y</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Enumerable.html#M001063">compact_collect</a>
        </div>
        
      </div>

    
      <div id="count-method" class="method-detail ">
        <a name="M001060"></a>

        <div class="method-heading">
        
          <span class="method-name">count</span><span
            class="method-args">(*items, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Count the number of items in an enumerable equal (==) to the given
object(s).
</p>
<pre>
  e = [ 'a', '1', 'a' ]
  e.count('1')     #=&gt; 1
  e.count('a')     #=&gt; 2
  e.count('a', 1)  #=&gt; 3
</pre>
<p>
Note that <a href="Hash.html#M000922">Hash#count</a> only considers values.
</p>
<pre>
  e = { 'a' =&gt; 2, 'x' =&gt; 2, 'b' =&gt; 1 }
  e.count(1) #=&gt; 1
  e.count(2) #=&gt; 2
</pre>
<p>
CREDIT: Trans
</p>
          

          
          <div class="method-source-code"
            id="count-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/count.rb, line 23</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">count</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">items</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span> <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">items</span>.<span class="ruby-identifier">empty?</span>
        <span class="ruby-identifier">r</span> = <span class="ruby-keyword kw">self</span>
        <span class="ruby-identifier">r</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">select</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
        <span class="ruby-identifier">r</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">select</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">items</span>.<span class="ruby-identifier">any?</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">x</span> } } <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">items</span>.<span class="ruby-identifier">empty?</span>
        <span class="ruby-identifier">r</span>.<span class="ruby-identifier">size</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-keyword kw">begin</span>
          <span class="ruby-identifier">size</span>
        <span class="ruby-keyword kw">rescue</span>
          <span class="ruby-identifier">i</span>=<span class="ruby-value">0</span>; <span class="ruby-identifier">each</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">i</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span> }; <span class="ruby-identifier">i</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="defer-method" class="method-detail ">
        <a name="M001044"></a>

        <div class="method-heading">
        
          <span class="method-name">defer</span><span
            class="method-args">(&blk)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Without a block: wrap the <a href="Enumerable.html">Enumerable</a> object
in such a way that map, select and similar operations are performed
&#8220;horizontally&#8221; across a series of blocks, instead of building
an array of results at each step. This reduces memory usage, allows partial
results to be provided early, and permits working with infinite series.
</p>
<pre>
  a = (1..1_000_000_000).defer.select{ |i| i % 2 == 0 }.
                               map{ |i| i + 100 }.
                               take(10).to_a
</pre>
<p>
With a block: the block acts as an arbitrary filter on the data. Unlike
map, it can choose to drop elements from the result, and/or add additional
ones. The first object passed to the block is the receiver of the output.
</p>
<pre>
  (1..1_000_000_000).
    defer { |out,i| out &lt;&lt; i if i % 2 == 0 }.  # like select
    defer { |out,i| out &lt;&lt; i + 100 }.          # like map
    take(10).
    each { |i| puts i }
</pre>
<p>
Using with a block, defer(&amp;b), is equivalent to:
</p>
<pre>
  defer.filter(&amp;b)
</pre>
<p>
Use a method like to_a or <a href="Enumerable.html#M000756">to_h</a> at the
end of the chain when you want an <a href="Array.html">Array</a> or <a
href="Hash.html">Hash</a> built with the results, or each{&#8230;} if you
just want to output each result and discard it.
</p>
          

          
          <div class="method-source-code"
            id="defer-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/defer.rb, line 34</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">defer</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-constant">Denumerator</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">output</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">input</span><span class="ruby-operator">|</span>
          <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">output</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">input</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-constant">Denumerator</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">output</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">input</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">output</span>.<span class="ruby-identifier">yield</span> <span class="ruby-operator">*</span><span class="ruby-identifier">input</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="divide-method" class="method-detail ">
        <a name="M001038"></a>

        <div class="method-heading">
        
          <span class="method-name">divide</span><span
            class="method-args">(pattern)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Divide on matching pattern.
</p>
<pre>
  ['a1','b1','a2','b2'].divide(/^a/)
  =&gt; [['a1,'b1'],['a2','b2']]
</pre>
<p>
CREDIT: Trans
</p>
          

          
          <div class="method-source-code"
            id="divide-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/divide.rb, line 10</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">divide</span>(<span class="ruby-identifier">pattern</span>)
    <span class="ruby-identifier">memo</span> = []
    <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">obj</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">memo</span>.<span class="ruby-identifier">push</span> [] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pattern</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">obj</span>
      <span class="ruby-identifier">memo</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">obj</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">memo</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="duplicates-method" class="method-detail method-alias">
        <a name="M001042"></a>

        <div class="method-heading">
        
          <span class="method-name">duplicates</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Enumerable.html#M001040">nonuniq</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="each-by-method" class="method-detail ">
        <a name="M001062"></a>

        <div class="method-heading">
        
          <span class="method-name">each_by</span><span
            class="method-args">(steps=nil, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Iterate through slices. If slice <tt>steps</tt> is not given, the arity of
the block is used.
</p>
<pre>
  x = []
  [1,2,3,4].each_by{ |a,b| x &lt;&lt; [a,b] }
  x  #=&gt; [ [1,2], [3,4] ]

  x = []
  [1,2,3,4,5,6].each_by(3){ |a| x &lt;&lt; a }
  x  #=&gt; [ [1,2,3], [4,5,6] ]
</pre>
<p>
This is just like each_slice, except that it will check the arity of the
block. If each_slice ever suppots this this method can be deprecated.
</p>
<p>
CREDIT: Trans
</p>
          

          
          <div class="method-source-code"
            id="each-by-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/each_by.rb, line 22</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_by</span>(<span class="ruby-identifier">steps</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">steps</span>
      <span class="ruby-identifier">each_slice</span>(<span class="ruby-identifier">steps</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">steps</span> = <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span>.<span class="ruby-identifier">abs</span>
      <span class="ruby-identifier">each_slice</span>(<span class="ruby-identifier">steps</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-comment cmt">#each_slice(steps) {|i| block.call(*i)}</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="elementwise-method" class="method-detail ">
        <a name="M001034"></a>

        <div class="method-heading">
        
          <span class="method-name">elementwise</span><span
            class="method-args">(count=1)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns an elementwise <a href="Functor.html">Functor</a> designed to make
R-like elementwise operations possible.
</p>
<pre>
  [1,2].elementwise + 3          #=&gt; [4,5]
  [1,2].elementwise + [4,5]      #=&gt; [5,7]
  [1,2].elementwise + [[4,5],3]  #=&gt; [[5,7],[4,5]
</pre>
          

          
          <div class="method-source-code"
            id="elementwise-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/ewise.rb, line 16</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">elementwise</span>(<span class="ruby-identifier">count</span>=<span class="ruby-value">1</span>)
    <span class="ruby-ivar">@_elementwise_functor</span> <span class="ruby-operator">||=</span> []
    <span class="ruby-ivar">@_elementwise_functor</span>[<span class="ruby-identifier">count</span>] <span class="ruby-operator">||=</span> <span class="ruby-constant">Functor</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">op</span>,<span class="ruby-operator">*</span><span class="ruby-identifier">args</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>
        <span class="ruby-identifier">r</span> = <span class="ruby-keyword kw">self</span>
        <span class="ruby-identifier">count</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span>
          <span class="ruby-identifier">r</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">collect</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">op</span>) }
        <span class="ruby-keyword kw">end</span>
        <span class="ruby-identifier">r</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">r</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">arg</span><span class="ruby-operator">|</span>
          <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">arg</span> <span class="ruby-comment cmt">#arg.kind_of?(Enumerable)</span>
            <span class="ruby-identifier">x</span> = <span class="ruby-keyword kw">self</span>
            <span class="ruby-identifier">count</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span>
              <span class="ruby-identifier">ln</span> = (<span class="ruby-identifier">arg</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">length</span> <span class="ruby-value">? </span><span class="ruby-identifier">length</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">length</span> )
              <span class="ruby-identifier">x</span> = <span class="ruby-identifier">x</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">ln</span>).<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">arg</span>[<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">ln</span>]).<span class="ruby-identifier">collect</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">op</span>,<span class="ruby-identifier">b</span>) }
              <span class="ruby-comment cmt">#slice(0...ln).zip(arg[0...1n]).collect{ |a,b| b ? a.send(op,b) : nil }</span>
            <span class="ruby-keyword kw">end</span>
            <span class="ruby-identifier">x</span>
          <span class="ruby-keyword kw">else</span>
            <span class="ruby-identifier">x</span> = <span class="ruby-keyword kw">self</span>
            <span class="ruby-identifier">count</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span>
              <span class="ruby-identifier">x</span> = <span class="ruby-identifier">x</span>.<span class="ruby-identifier">collect</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">op</span>,<span class="ruby-identifier">arg</span>) }
            <span class="ruby-keyword kw">end</span>
            <span class="ruby-identifier">x</span>
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">end</span>
        <span class="ruby-identifier">r</span>.<span class="ruby-identifier">flatten!</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
        <span class="ruby-identifier">r</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Enumerable.html#M001036">ewise</a>
        </div>
        
      </div>

    
      <div id="entropy-method" class="method-detail ">
        <a name="M001050"></a>

        <div class="method-heading">
        
          <span class="method-name">entropy</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Shannon&#8217;s entropy for an array - returns the average bits per symbol
required to encode the array. Lower values mean less &#8220;entropy&#8221;
- i.e. less unique information in the array.
</p>
<pre>
  %w{ a b c d e e e }.entropy  #=&gt;
</pre>
<p>
CREDIT: Derek
</p>
          

          
          <div class="method-source-code"
            id="entropy-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/entropy.rb, line 14</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">entropy</span>
    <span class="ruby-identifier">arr</span> = <span class="ruby-identifier">to_a</span>
    <span class="ruby-identifier">probHash</span> = <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">probability</span>
    <span class="ruby-comment cmt"># h is the Shannon entropy of the array</span>
    <span class="ruby-identifier">h</span> = <span class="ruby-value">-1</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">probHash</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>.<span class="ruby-identifier">to_f</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">sum</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">probHash</span>[<span class="ruby-identifier">i</span>] <span class="ruby-operator">*</span> (<span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-identifier">probHash</span>[<span class="ruby-identifier">i</span>])<span class="ruby-operator">/</span><span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-value">2</span>.<span class="ruby-identifier">to_f</span>)))
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">h</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="every-method" class="method-detail ">
        <a name="M001058"></a>

        <div class="method-heading">
        
          <span class="method-name">every</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns an elemental object. This allows you to map a method on to every
element.
</p>
<pre>
  r = [1,2,3].every + 3  #=&gt; [4,5,6]
</pre>
          

          
          <div class="method-source-code"
            id="every-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/every.rb, line 10</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">every</span>
    <span class="ruby-ivar">@_every</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">per</span>(<span class="ruby-identifier">:map</span>)
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="every--method" class="method-detail ">
        <a name="M001059"></a>

        <div class="method-heading">
        
          <span class="method-name">every!</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
In place version of <a href="Enumerable.html#M001058">every</a>.
</p>
          

          
          <div class="method-source-code"
            id="every--source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/every.rb, line 16</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">every!</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">NoMethodError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:map!</span>)
    <span class="ruby-ivar">@_every_inplace</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">per</span>(<span class="ruby-identifier">:map!</span>)
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="ewise-method" class="method-detail method-alias">
        <a name="M001036"></a>

        <div class="method-heading">
        
          <span class="method-name">ewise</span><span
            class="method-args">(count=1)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Enumerable.html#M001034">elementwise</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="filter-method" class="method-detail ">
        <a name="M001052"></a>

        <div class="method-heading">
        
          <span class="method-name">filter</span><span
            class="method-args">(output=[])</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
The block acts as an arbitrary filter on the data. Unlike map, it can
choose to drop elements from the result, and/or add additional ones. The
first object passed to the block is the receiver of the output.
</p>
<pre>
  (1..1_000_000_000).
    filter { |out,i| out &lt;&lt; i if i % 2 == 0 }.  # like select
    filter { |out,i| out &lt;&lt; i + 100 }.          # like map
    take(10).each { |i| puts i }
</pre>
          

          
          <div class="method-source-code"
            id="filter-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/filter.rb, line 13</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">filter</span>(<span class="ruby-identifier">output</span>=[])
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">input</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">output</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">input</span>)
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-identifier">output</span>
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">to_enum</span>(<span class="ruby-identifier">:filter</span>)
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="frequency-method" class="method-detail ">
        <a name="M001037"></a>

        <div class="method-heading">
        
          <span class="method-name">frequency</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Generates a hash mapping each unique symbol in the array to the absolute
frequency it appears.
</p>
<p>
CREDIT: Brian Schröder
</p>
          

          
          <div class="method-source-code"
            id="frequency-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/frequency.rb, line 8</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">frequency</span>
    <span class="ruby-comment cmt">#probs = Hash.new(0)</span>
    <span class="ruby-comment cmt">#each do |e|</span>
    <span class="ruby-comment cmt">#  probs[e] += 1</span>
    <span class="ruby-comment cmt">#end</span>
    <span class="ruby-comment cmt">#probs</span>
    <span class="ruby-identifier">inject</span>(<span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">0</span>)){<span class="ruby-operator">|</span><span class="ruby-identifier">h</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">v</span>]<span class="ruby-operator">+=</span><span class="ruby-value">1</span>; <span class="ruby-identifier">h</span>}
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="graph-method" class="method-detail method-alias">
        <a name="M001048"></a>

        <div class="method-heading">
        
          <span class="method-name">graph</span><span
            class="method-args">(&yld)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Alias for <a href="Enumerable.html#M001047">mash</a>
</p>
          

          
        </div>

        
      </div>

    
      <div id="group-by-method" class="method-detail ">
        <a name="M001029"></a>

        <div class="method-heading">
        
          <span class="method-name">group_by</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
<a href="Enumerable.html#M001029">group_by</a> is used to group items in a
collection by something they have in common. The common factor is the key
in the resulting hash, the array of like elements is the value.
</p>
<pre>
  (1..5).group_by { |n| n % 3 }
       #=&gt; { 0 =&gt; [3], 1 =&gt; [1, 4], 2 =&gt; [2,5] }

  [&quot;I had&quot;, 1, &quot;dollar and&quot;, 50, &quot;cents&quot;].group_by { |e| e.class }
       #=&gt; { String =&gt; [&quot;I had&quot;,&quot;dollar and&quot;,&quot;cents&quot;], Fixnum =&gt; [1,50] }
</pre>
<p>
CREDIT: Erik Veenstra
</p>
          

          
          <div class="method-source-code"
            id="group-by-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/group_by.rb, line 17</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">group_by</span> <span class="ruby-comment cmt">#:yield:</span>
      <span class="ruby-comment cmt">#h = k = e = nil</span>
      <span class="ruby-identifier">r</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
      <span class="ruby-identifier">each</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> (<span class="ruby-identifier">r</span>[<span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">e</span>)] <span class="ruby-operator">||=</span> []) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span> }
      <span class="ruby-identifier">r</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="ideal-entropy-method" class="method-detail ">
        <a name="M001051"></a>

        <div class="method-heading">
        
          <span class="method-name">ideal_entropy</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns the maximum possible Shannon entropy of the array with given size
assuming that it is an &#8220;order-0&#8221; source (each element is
selected independently of the next).
</p>
<p>
CREDIT: Derek
</p>
          

          
          <div class="method-source-code"
            id="ideal-entropy-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/entropy.rb, line 30</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ideal_entropy</span>
    <span class="ruby-identifier">arr</span> = <span class="ruby-identifier">to_a</span>
    <span class="ruby-identifier">unitProb</span> = <span class="ruby-value">1.0</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">to_f</span>
    (<span class="ruby-value">-1</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">unitProb</span> <span class="ruby-operator">*</span> <span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-identifier">unitProb</span>)<span class="ruby-operator">/</span><span class="ruby-constant">Math</span>.<span class="ruby-identifier">log</span>(<span class="ruby-value">2</span>.<span class="ruby-identifier">to_f</span>))
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="inject--method" class="method-detail ">
        <a name="M001039"></a>

        <div class="method-heading">
        
          <span class="method-name">inject!</span><span
            class="method-args">(s)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
A small variation of Inject that save one from having to return the
aggregating or memo argument.
</p>
<p>
Say you want to count letters.
</p>
<pre>
   some_text.inject!(Hash.new(0)) {|h,l| h[l] += 1}
</pre>
<p>
vs
</p>
<pre>
   some_text.inject(Hash.new(0)) {|h,l| h[l] +=1; h}
</pre>
<p>
CREDIT: David Black, Louis J Scoras
</p>
          

          
          <div class="method-source-code"
            id="inject--source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/inject.rb, line 16</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inject!</span>(<span class="ruby-identifier">s</span>)
    <span class="ruby-identifier">k</span> = <span class="ruby-identifier">s</span>
    <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">k</span>, <span class="ruby-identifier">i</span>) }
    <span class="ruby-identifier">k</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="map-detect-method" class="method-detail ">
        <a name="M001032"></a>

        <div class="method-heading">
        
          <span class="method-name">map_detect</span><span
            class="method-args">(value_for_none_matching = nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Yield each element to the block. Returns the result of the block when the
block is true, terminating early as detect does.
</p>
<pre>
  obj1.foo? #=&gt; false
  obj2.foo? #=&gt; true

  obj2.foo  #=&gt; &quot;a value&quot;

  [obj1, obj2].map_detect { |obj| obj.foo if obj.foo? } #=&gt; &quot;a value&quot;
</pre>
<p>
If the block is never true, return the object given in the first parameter,
or nil if none specified.
</p>
<pre>
  [1,2,3].map_detect { |_| false }    #=&gt; nil
  [false].map_detect(1) { |_| false } #=&gt; 1
</pre>
          

          
          <div class="method-source-code"
            id="map-detect-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/map_detect.rb, line 19</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">map_detect</span>(<span class="ruby-identifier">value_for_none_matching</span> = <span class="ruby-keyword kw">nil</span>)
    <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">member</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">result</span> = <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">member</span>)
        <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">result</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
    
    <span class="ruby-identifier">value_for_none_matching</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="map-send-method" class="method-detail ">
        <a name="M001054"></a>

        <div class="method-heading">
        
          <span class="method-name">map_send</span><span
            class="method-args">(meth, *args, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Send a message to each element and collect the result.
</p>
<p>
CREDIT: Sean O&#8217;Halpin
</p>
          

          
          <div class="method-source-code"
            id="map-send-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/map_send.rb, line 7</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">map_send</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)}
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="map-with-index-method" class="method-detail ">
        <a name="M001056"></a>

        <div class="method-heading">
        
          <span class="method-name">map_with_index</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Same as collect but with an iteration counter.
</p>
<pre>
  a = [1,2,3].collect_with_index { |e,i| e*i }
  a  #=&gt; [0,2,6]
</pre>
<p>
CREDIT: Gavin Sinclair
</p>
          

          
          <div class="method-source-code"
            id="map-with-index-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/map_with_index.rb, line 10</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">map_with_index</span>
    <span class="ruby-identifier">r</span> = []
    <span class="ruby-identifier">each_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">r</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">i</span>], <span class="ruby-identifier">i</span>)
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">r</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Enumerable.html#M001057">collect_with_index</a>
        </div>
        
      </div>

    
      <div id="mash-method" class="method-detail ">
        <a name="M001047"></a>

        <div class="method-heading">
        
          <span class="method-name">mash</span><span
            class="method-args">(&yld)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Like <tt>map</tt>/<tt>collect</tt>, but generates a <a
href="Hash.html">Hash</a>. The block is expected to return two values: the
key and the value for the new hash.
</p>
<pre>
  numbers  = (1..3)
  squares  = numbers.mash { |n| [n, n*n] }   # { 1=&gt;1, 2=&gt;4, 3=&gt;9 }
  sq_roots = numbers.mash { |n| [n*n, n] }   # { 1=&gt;1, 4=&gt;2, 9=&gt;3 }
</pre>
<p>
The name &#8220;mash&#8221; stands for &#8220;map hash&#8221;.
</p>
<p>
CREDIT: Andrew Dudzik (adudzik), Trans
</p>
          

          
          <div class="method-source-code"
            id="mash-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/mash.rb, line 14</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mash</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">yld</span>)
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">yld</span>
      <span class="ruby-identifier">h</span> = {}
      <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">kv</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">r</span> = <span class="ruby-identifier">yld</span>[<span class="ruby-operator">*</span><span class="ruby-identifier">kv</span>]
        <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">r</span>
        <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Hash</span>
          <span class="ruby-identifier">nk</span>, <span class="ruby-identifier">nv</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">r</span>.<span class="ruby-identifier">to_a</span>[<span class="ruby-value">0</span>]
        <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Range</span>
          <span class="ruby-identifier">nk</span>, <span class="ruby-identifier">nv</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">first</span>, <span class="ruby-identifier">r</span>.<span class="ruby-identifier">last</span>
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-identifier">nk</span>, <span class="ruby-identifier">nv</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">r</span>
        <span class="ruby-keyword kw">end</span>
        <span class="ruby-identifier">h</span>[<span class="ruby-identifier">nk</span>] = <span class="ruby-identifier">nv</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-identifier">h</span>
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-constant">Enumerator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>,<span class="ruby-identifier">:mash</span>)
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Enumerable.html#M001048">graph</a>
        </div>
        
      </div>

    
      <div id="mode-method" class="method-detail ">
        <a name="M001031"></a>

        <div class="method-heading">
        
          <span class="method-name">mode</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
In Statistics mode is the value that occurs most frequently in a given set
of data.
</p>
<p>
CREDIT: Robert Klemme
</p>
          

          
          <div class="method-source-code"
            id="mode-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/mode.rb, line 8</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mode</span>
    <span class="ruby-identifier">max</span> = <span class="ruby-value">0</span>
    <span class="ruby-identifier">c</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">cc</span> = <span class="ruby-identifier">c</span>[<span class="ruby-identifier">x</span>] <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>; <span class="ruby-identifier">max</span> = <span class="ruby-identifier">cc</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">cc</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">max</span>}
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">select</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">max</span>}.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>}
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="modulate-method" class="method-detail ">
        <a name="M001049"></a>

        <div class="method-heading">
        
          <span class="method-name">modulate</span><span
            class="method-args">(modulo)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Modulate. Divide an array into groups by modulo of the index.
</p>
<p>
[2,4,6,8].modulate(2) #=> [[2,6],[4,8]]
</p>
<p>
CREDIT: Trans
</p>
<p>
NOTE: Would the better name for this be &#8216;collate&#8217;?
</p>
          

          
          <div class="method-source-code"
            id="modulate-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/modulate.rb, line 11</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">modulate</span>(<span class="ruby-identifier">modulo</span>)
    <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">to_a</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">modulo</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">'bad modulo'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">modulo</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">r</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">modulo</span>, [])
    (<span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">size</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">r</span>[<span class="ruby-identifier">i</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">modulo</span>] <span class="ruby-operator">+=</span> [<span class="ruby-keyword kw">self</span>[<span class="ruby-identifier">i</span>]]
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">r</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="none--method" class="method-detail ">
        <a name="M001043"></a>

        <div class="method-heading">
        
          <span class="method-name">none?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
<a href="Enumerable.html#M001043">Enumerable#none?</a> is the logical
opposite of the builtin method Enumerable#any?. It returns <tt>true</tt> if
and only if <em>none</em> of the elements in the collection satisfy the
predicate.
</p>
<p>
If no predicate is provided, <a
href="Enumerable.html#M001043">Enumerable#none?</a> returns <tt>true</tt>
if and only if <em>none</em> of the elements have a true value (i.e. not
<tt>nil</tt> or <tt>false</tt>).
</p>
<pre>
  [].none?                      # true
  [nil].none?                   # true
  [5,8,9].none?                 # false
  (1...10).none? { |n| n &lt; 0 }  # true
  (1...10).none? { |n| n &gt; 0 }  # false
</pre>
<p>
CREDIT: Gavin Sinclair
</p>
          

          
          <div class="method-source-code"
            id="none--source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/none.rb, line 21</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">none?</span>  <span class="ruby-comment cmt"># :yield: e</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
        <span class="ruby-keyword kw">not</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">e</span> }
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-keyword kw">not</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">any?</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="nonuniq-method" class="method-detail ">
        <a name="M001040"></a>

        <div class="method-heading">
        
          <span class="method-name">nonuniq</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns a list on non-unique,
</p>
<pre>
  [1,1,2,2,3,4,5].nonuniq  #=&gt; [1,2]
</pre>
<p>
CREDIT: Martin DeMello
</p>
          

          
          <div class="method-source-code"
            id="nonuniq-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/duplicates.rb, line 9</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">nonuniq</span>
    <span class="ruby-identifier">h1</span> = {}
    <span class="ruby-identifier">h2</span> = {}
    <span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">h2</span>[<span class="ruby-identifier">i</span>] = <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">h1</span>[<span class="ruby-identifier">i</span>]
      <span class="ruby-identifier">h1</span>[<span class="ruby-identifier">i</span>] = <span class="ruby-keyword kw">true</span>
    }
    <span class="ruby-identifier">h2</span>.<span class="ruby-identifier">keys</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Enumerable.html#M001042">duplicates</a>
        </div>
        
      </div>

    
      <div id="occur-method" class="method-detail ">
        <a name="M001035"></a>

        <div class="method-heading">
        
          <span class="method-name">occur</span><span
            class="method-args">(n=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Returns an array of elements for the elements that occur n times. Or
according to the results of a given block.
</p>
<pre>
  [1,1,2,3,3,4,5,5].occur(1)             #=&gt; [2,4]
  [1,1,2,3,3,4,5,5].occur(2)             #=&gt; [1,3,5]
  [1,1,2,3,3,4,5,5].occur(3)             #=&gt; []

  [1,2,2,3,3,3].occur(1..1)              #=&gt; [1]
  [1,2,2,3,3,3].occur(2..3)              #=&gt; [2,3]

  [1,1,2,3,3,4,5,5].occur { |n| n == 1 } #=&gt; [2,4]
  [1,1,2,3,3,4,5,5].occur { |n| n &gt; 1 }  #=&gt; [1,3,5]
</pre>
          

          
          <div class="method-source-code"
            id="occur-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/occur.rb, line 16</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">occur</span>(<span class="ruby-identifier">n</span>=<span class="ruby-keyword kw">nil</span>) <span class="ruby-comment cmt">#:yield:</span>
    <span class="ruby-identifier">result</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span> }
    <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">key</span> = <span class="ruby-identifier">item</span>
      <span class="ruby-identifier">result</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-identifier">result</span>.<span class="ruby-identifier">reject!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">values</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span>) }
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">n</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Range</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">n</span>
        <span class="ruby-identifier">result</span>.<span class="ruby-identifier">reject!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">values</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span> <span class="ruby-identifier">n</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span>) }
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">result</span>.<span class="ruby-identifier">reject!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">values</span><span class="ruby-operator">|</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">n</span> }
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="one--method" class="method-detail ">
        <a name="M001028"></a>

        <div class="method-heading">
        
          <span class="method-name">one?</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
<a href="Enumerable.html#M001028">Enumerable#one?</a> returns <tt>true</tt>
if and only if <em>exactly one</em> element in the collection satisfies the
given predicate.
</p>
<p>
If no predicate is provided, <a
href="Enumerable.html#M001028">Enumerable#one?</a> returns <tt>true</tt> if
and only if <em>exactly one</em> element has a true value (i.e. not
<tt>nil</tt> or <tt>false</tt>).
</p>
<pre>
  [].one?                      # false
  [nil].one?                   # false
  [5].one?                     # true
  [5,8,9].one?                 # false
  (1...10).one? { |n| n == 5 } # true
  (1...10).one? { |n| n &lt; 5 }  # false
</pre>
<p>
CREDIT: Gavin Sinclair
</p>
          

          
          <div class="method-source-code"
            id="one--source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/one.rb, line 21</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">one?</span>  <span class="ruby-comment cmt"># :yield: e</span>
      <span class="ruby-identifier">matches</span> = <span class="ruby-value">0</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
        <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
          <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">e</span>)
            <span class="ruby-identifier">matches</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
            <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">matches</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">return</span> (<span class="ruby-identifier">matches</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>)
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">one?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span> }
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="per-method" class="method-detail ">
        <a name="M001041"></a>

        <div class="method-heading">
        
          <span class="method-name">per</span><span
            class="method-args">(enum_method=nil, *enum_args)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Per element meta-functor.
</p>
<pre>
  [1,2,3].per + 3             #=&gt; [4,5,6]
  [1,2,3].per(:map) + 3       #=&gt; [4,5,6]
  [1,2,3].per(:select) &gt; 1    #=&gt; [2,3]

  [1,2,3].per.map + 3       #=&gt; [4,5,6]
  [1,2,3].per.select &gt; 1    #=&gt; [2,3]
</pre>
          

          
          <div class="method-source-code"
            id="per-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/per.rb, line 18</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">per</span>(<span class="ruby-identifier">enum_method</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">enum_args</span>)
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">enum_method</span>
      <span class="ruby-constant">Permeator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">enum_method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">enum_args</span>)
      <span class="ruby-comment cmt">#Functor.new do |op, *args|</span>
      <span class="ruby-comment cmt">#  __send__(enum_method, *enum_args){ |x| x.__send__(op, *args) } #, &amp;blk) }</span>
      <span class="ruby-comment cmt">#end</span>
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-ivar">@__per__</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Functor</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">enum_method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">enum_args</span><span class="ruby-operator">|</span>
        <span class="ruby-constant">Permeator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">enum_method</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">enum_args</span>)
        <span class="ruby-comment cmt">#Functor.new do |op, *args|</span>
        <span class="ruby-comment cmt">#  __send__(enum_method, *enum_args){ |x| x.__send__(op, *args) } #, &amp;blk) }</span>
        <span class="ruby-comment cmt">#end</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="probability-method" class="method-detail ">
        <a name="M001055"></a>

        <div class="method-heading">
        
          <span class="method-name">probability</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Generates a hash mapping each unique element in the array to the relative
frequency, i.e. the probablity, of it appearence.
</p>
<p>
CREDIT: Brian Schröder
</p>
          

          
          <div class="method-source-code"
            id="probability-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/probability.rb, line 9</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">probability</span>
    <span class="ruby-identifier">probs</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">0</span><span class="ruby-value">.0</span>)
    <span class="ruby-identifier">size</span> = <span class="ruby-value">0</span><span class="ruby-value">.0</span>
    <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span> <span class="ruby-identifier">e</span> <span class="ruby-operator">|</span>
      <span class="ruby-identifier">probs</span>[<span class="ruby-identifier">e</span>] <span class="ruby-operator">+=</span> <span class="ruby-value">1.0</span>
      <span class="ruby-identifier">size</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1.0</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">probs</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">probs</span>[<span class="ruby-identifier">e</span>] <span class="ruby-operator">/=</span> <span class="ruby-identifier">size</span> }
    <span class="ruby-identifier">probs</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="split-method" class="method-detail ">
        <a name="M001053"></a>

        <div class="method-heading">
        
          <span class="method-name">split</span><span
            class="method-args">(pattern)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Split on matching pattern. Unlike <a
href="Enumerable.html#M001038">divide</a> this does not include matching
elements.
</p>
<pre>
  ['a1','a2','b1','a3','b2','a4'].split(/^b/)
  =&gt; [['a1','a2'],['a3'],['a4']]
</pre>
<p>
CREDIT: Trans
</p>
          

          
          <div class="method-source-code"
            id="split-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/split.rb, line 10</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">split</span>(<span class="ruby-identifier">pattern</span>)
    <span class="ruby-identifier">memo</span> = []
    <span class="ruby-identifier">sect</span> = []
    <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">obj</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pattern</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">obj</span>
        <span class="ruby-identifier">memo</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sect</span>
        <span class="ruby-identifier">sect</span> = []
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">sect</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">obj</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">memo</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sect</span>
    <span class="ruby-identifier">memo</span>.<span class="ruby-identifier">pop</span> <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">memo</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">==</span> []
    <span class="ruby-identifier">memo</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="sum-method" class="method-detail ">
        <a name="M001030"></a>

        <div class="method-heading">
        
          <span class="method-name">sum</span><span
            class="method-args">(identity = 0, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Uses #+ to sum the enumerated elements.
</p>
<pre>
  [1,2,3].sum  #=&gt; 6
  [3,3,3].sum  #=&gt; 9
</pre>
          

          
          <div class="method-source-code"
            id="sum-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/sum.rb, line 8</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sum</span>(<span class="ruby-identifier">identity</span> = <span class="ruby-value">0</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>).<span class="ruby-identifier">sum</span>
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">inject</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">element</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">element</span> } <span class="ruby-operator">||</span> <span class="ruby-identifier">identity</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="take-method" class="method-detail ">
        <a name="M001026"></a>

        <div class="method-heading">
        
          <span class="method-name">take</span><span
            class="method-args">(n)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Return the first n items from the collection
</p>
          

          
          <div class="method-source-code"
            id="take-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/take.rb, line 7</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">take</span>(<span class="ruby-identifier">n</span>)
      <span class="ruby-identifier">res</span> = []
      <span class="ruby-identifier">count</span> = <span class="ruby-value">0</span>
      <span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">count</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-identifier">n</span>
        <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span>
        <span class="ruby-identifier">count</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-identifier">res</span>
    <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="to-h-method" class="method-detail ">
        <a name="M000756"></a>

        <div class="method-heading">
        
          <span class="method-name">to_h</span><span
            class="method-args">(mode=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Convert an <a href="Enumerable.html">Enumerable</a> object into a hash by
first turning it into an array.
</p>
<p>
CREDIT: Trans
</p>
          

          
          <div class="method-source-code"
            id="to-h-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/to_hash.rb, line 225</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_h</span>(<span class="ruby-identifier">mode</span>=<span class="ruby-keyword kw">nil</span>)
    <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">to_h</span>(<span class="ruby-identifier">mode</span>)
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="to-h-assoc-method" class="method-detail ">
        <a name="M000760"></a>

        <div class="method-heading">
        
          <span class="method-name">to_h_assoc</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p class="missing-docs">(Not documented)</p>
          

          
          <div class="method-source-code"
            id="to-h-assoc-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/to_hash.rb, line 241</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_h_assoc</span>
    <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">to_h_assoc</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="to-h-auto-method" class="method-detail ">
        <a name="M000757"></a>

        <div class="method-heading">
        
          <span class="method-name">to_h_auto</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p class="missing-docs">(Not documented)</p>
          

          
          <div class="method-source-code"
            id="to-h-auto-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/to_hash.rb, line 229</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_h_auto</span>
    <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">to_h_auto</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="to-h-flat-method" class="method-detail ">
        <a name="M000759"></a>

        <div class="method-heading">
        
          <span class="method-name">to_h_flat</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p class="missing-docs">(Not documented)</p>
          

          
          <div class="method-source-code"
            id="to-h-flat-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/to_hash.rb, line 237</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_h_flat</span>
    <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">to_h_flat</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="to-h-multi-method" class="method-detail ">
        <a name="M000761"></a>

        <div class="method-heading">
        
          <span class="method-name">to_h_multi</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p class="missing-docs">(Not documented)</p>
          

          
          <div class="method-source-code"
            id="to-h-multi-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/to_hash.rb, line 245</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_h_multi</span>
    <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">to_h_multi</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="to-h-splat-method" class="method-detail ">
        <a name="M000758"></a>

        <div class="method-heading">
        
          <span class="method-name">to_h_splat</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p class="missing-docs">(Not documented)</p>
          

          
          <div class="method-source-code"
            id="to-h-splat-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/to_hash.rb, line 233</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_h_splat</span>
    <span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">to_h_splat</span>
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
      <div id="uniq-by-method" class="method-detail ">
        <a name="M001045"></a>

        <div class="method-heading">
        
          <span class="method-name">uniq_by</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        
        </div>

        <div class="method-description">
          
          <p>
Like uniq, but determines uniqueness based on a given block.
</p>
<pre>
  (-5..5).to_a.uniq_by {|i| i*i }
</pre>
<p>
produces
</p>
<pre>
  [-5, -4, -3, -2, -1, 0]
</pre>
          

          
          <div class="method-source-code"
            id="uniq-by-source">
<pre>
<span class="ruby-comment cmt"># File lib/core/facets/enumerable/uniq_by.rb, line 11</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">uniq_by</span> <span class="ruby-comment cmt">#:yield:</span>
    <span class="ruby-identifier">h</span> = {}; <span class="ruby-identifier">inject</span>([]) {<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">x</span>)] <span class="ruby-operator">||=</span> <span class="ruby-identifier">a</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">x</span>}
  <span class="ruby-keyword kw">end</span></pre>
          </div>
          
        </div>

        
      </div>

    
    </div>
  

  </div>


  <div id="rdoc-debugging-section-dump" class="debugging-section">
  
    <p>Disabled; run with --debug to generate this.</p>
  
  </div>

</main>
</body>
</html>

