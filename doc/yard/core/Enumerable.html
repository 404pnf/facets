<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf8" />
<title>Module: Enumerable</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (E)</a> &raquo; 
    
    
    <span class="title">Enumerable</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: Enumerable
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="Instance.html" title="Instance (class)">Instance</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/core/facets/enumerable/per.rb<span class="defines">,<br />
  lib/core/facets/to_hash.rb,<br /> lib/core/facets/enumerable/one.rb,<br /> lib/core/facets/enumerable/sum.rb,<br /> lib/core/facets/enumerable/take.rb,<br /> lib/core/facets/enumerable/none.rb,<br /> lib/core/facets/enumerable/defer.rb,<br /> lib/core/facets/enumerable/occur.rb,<br /> lib/core/facets/enumerable/ewise.rb,<br /> lib/core/facets/enumerable/graph.rb,<br /> lib/core/facets/enumerable/visit.rb,<br /> lib/core/facets/enumerable/count.rb,<br /> lib/core/facets/enumerable/every.rb,<br /> lib/core/facets/enumerable/purge.rb,<br /> lib/core/facets/enumerable/map_by.rb,<br /> lib/core/facets/enumerable/filter.rb,<br /> lib/core/facets/enumerable/expand.rb,<br /> lib/core/facets/enumerable/uniq_by.rb,<br /> lib/core/facets/enumerable/exclude.rb,<br /> lib/core/facets/enumerable/each_by.rb,<br /> lib/core/facets/enumerable/group_by.rb,<br /> lib/core/facets/enumerable/map_send.rb,<br /> lib/core/facets/enumerable/modulate.rb,<br /> lib/core/facets/enumerable/frequency.rb,<br /> lib/core/facets/enumerable/find_yield.rb,<br /> lib/core/facets/enumerable/cluster_by.rb,<br /> lib/core/facets/enumerable/accumulate.rb,<br /> lib/core/facets/enumerable/recursively.rb,<br /> lib/core/facets/enumerable/compact_map.rb,<br /> lib/core/facets/enumerable/map_with_index.rb,<br /> lib/core/facets/enumerable/each_with_object.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>– TODO: Consider Enumerator methods. ++</p>


  </div>
</div>
<div class="tags">
  
</div><h2>Defined Under Namespace</h2>
<p class="children">
   
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Enumerable/Permeator.html" title="Enumerable::Permeator (class)">Permeator</a></span>, <span class='object_link'><a href="Enumerable/Recursor.html" title="Enumerable::Recursor (class)">Recursor</a></span>
    
  
</p>



  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#accumulate-instance_method" title="#accumulate (instance method)">- (Object) <strong>accumulate</strong>(iterations = 1) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Accumulate a set of a set.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#accumulate_all-instance_method" title="#accumulate_all (instance method)">- (Object) <strong>accumulate_all</strong>(iterations = 1) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Same as #accumulate, but does not apply #uniq to final result.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cluster_by-instance_method" title="#cluster_by (instance method)">- (Object) <strong>cluster_by</strong>(&amp;b) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Similar to #group_by but returns an array of the groups.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#compact_map-instance_method" title="#compact_map (instance method)">- (Object) <strong>compact_map</strong>(&amp;block) </a>
    

    
      (also: #compact_collect)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A more versitle #compact method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#count-instance_method" title="#count (instance method)">- (Object) <strong>count</strong>(*items, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Count the number of items in an enumerable equal (==) to the given
object(s).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#defer-instance_method" title="#defer (instance method)">- (Object) <strong>defer</strong>(&amp;blk) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Without a block: wrap the Enumerable object in such a way that map, select
and similar operations are performed “horizontally” across a series of
blocks, instead of building an array of results at each step.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_by-instance_method" title="#each_by (instance method)">- (Object) <strong>each_by</strong>(steps = nil, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Iterate through slices.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_with_object-instance_method" title="#each_with_object (instance method)">- (Object) <strong>each_with_object</strong>(memo) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A variation of #inject that saves one from having to return the
aggregate/memo argument.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#every-instance_method" title="#every (instance method)">- (Object) <strong>every</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an elemental object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#every%21-instance_method" title="#every! (instance method)">- (Object) <strong>every!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>In place version of #every.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ewise-instance_method" title="#ewise (instance method)">- (Object) <strong>ewise</strong>(count = 1) </a>
    

    
      (also: #elementwise)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an elementwise Functor designed to make R-like elementwise
operations possible.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exclude%3F-instance_method" title="#exclude? (instance method)">- (Boolean) <strong>exclude?</strong>(object) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The inverse of #include?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#expand-instance_method" title="#expand (instance method)">- (Object) <strong>expand</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Expand all elements of an Enumerable object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#filter-instance_method" title="#filter (instance method)">- (Object) <strong>filter</strong>(output = []) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The block acts as an arbitrary filter on the data.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_yield-instance_method" title="#find_yield (instance method)">- (Object) <strong>find_yield</strong>(fallback = nil) </a>
    

    
      (also: #map_detect)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Yield each element to the block and return the result of the block when
that result evaluates as true, terminating early like #detect and #find.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#frequency-instance_method" title="#frequency (instance method)">- (Object) <strong>frequency</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates a hash mapping each unique symbol in the array to the absolute
frequency it appears.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#graph-instance_method" title="#graph (instance method)">- (Object) <strong>graph</strong>(&amp;yld) </a>
    

    
      (also: #mash)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Like `#map`/`#collect`, but generates a Hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#group_by-instance_method" title="#group_by (instance method)">- (Object) <strong>group_by</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Enumerable#group_by is used to group items in a collection by something
they have in common.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#map_by-instance_method" title="#map_by (instance method)">- (Object) <strong>map_by</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Like #group_by, but maps the second value returned from the block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#map_send-instance_method" title="#map_send (instance method)">- (Object) <strong>map_send</strong>(meth, *args, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Send a message to each element and collect the result.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#map_with_index-instance_method" title="#map_with_index (instance method)">- (Object) <strong>map_with_index</strong> </a>
    

    
      (also: #collect_with_index)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Same as #collect but with an iteration counter.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#modulate-instance_method" title="#modulate (instance method)">- (Object) <strong>modulate</strong>(modulo) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Modulate.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#none%3F-instance_method" title="#none? (instance method)">- (Boolean) <strong>none?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Enumerable#none? is the logical opposite of the builtin method
Enumerable#any?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#occur-instance_method" title="#occur (instance method)">- (Object) <strong>occur</strong>(n = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array of elements for the elements that occur n times.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#one%3F-instance_method" title="#one? (instance method)">- (Boolean) <strong>one?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Enumerable#one? returns <tt>true</tt> if and only if <em>exactly one</em>
element in the collection satisfies the given predicate.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#per-instance_method" title="#per (instance method)">- (Object) <strong>per</strong>(enum_method = nil, *enum_args) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Per element meta-functor.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#purge-instance_method" title="#purge (instance method)">- (Object) <strong>purge</strong>(*trash, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A versitle compaction method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#recursively-instance_method" title="#recursively (instance method)">- (Object) <strong>recursively</strong>(*types, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a recursive functor, that allows enumerable methods to iterate
through enumerable sub-elements.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sum-instance_method" title="#sum (instance method)">- (Object) <strong>sum</strong>(identity = 0, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Uses #+ to sum the enumerated elements.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#take-instance_method" title="#take (instance method)">- (Object) <strong>take</strong>(n) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return the first n items from the collection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_h-instance_method" title="#to_h (instance method)">- (Object) <strong>to_h</strong>(mode = nil) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Convert an Enumerable object into a hash by first turning it into an array.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_h_assoc-instance_method" title="#to_h_assoc (instance method)">- (Object) <strong>to_h_assoc</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_h_auto-instance_method" title="#to_h_auto (instance method)">- (Object) <strong>to_h_auto</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_h_flat-instance_method" title="#to_h_flat (instance method)">- (Object) <strong>to_h_flat</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_h_multi-instance_method" title="#to_h_multi (instance method)">- (Object) <strong>to_h_multi</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_h_splat-instance_method" title="#to_h_splat (instance method)">- (Object) <strong>to_h_splat</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#uniq_by-instance_method" title="#uniq_by (instance method)">- (Object) <strong>uniq_by</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Like #uniq, but determines uniqueness based on a given block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#visit-instance_method" title="#visit (instance method)">- (Object) <strong>visit</strong>(opts = {}, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Recursively iterate over all Enumerable elements, or subset given
:type=&gt;[type1, type2, …].</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="accumulate-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>accumulate</strong>(iterations = 1) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Accumulate a set of a set. For example, in an ORM design where `Group
has_many User` we might have something equivalent to the following.</p>

<pre class="code"><span class='Group constant id'>Group</span> <span class='assign token'>=</span> <span class='Struct constant id'>Struct</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:users</span><span class='rparen token'>)</span>
<span class='User constant id'>User</span>  <span class='assign token'>=</span> <span class='Struct constant id'>Struct</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='symbol val'>:name</span><span class='comma token'>,</span> <span class='symbol val'>:friends</span><span class='rparen token'>)</span>

<span class='user1 identifier id'>user1</span> <span class='assign token'>=</span> <span class='User constant id'>User</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'John'</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
<span class='user2 identifier id'>user2</span> <span class='assign token'>=</span> <span class='User constant id'>User</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'Jane'</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>'Jill'</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
<span class='user3 identifier id'>user3</span> <span class='assign token'>=</span> <span class='User constant id'>User</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'Joe'</span> <span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='string val'>'Jack'</span><span class='comma token'>,</span> <span class='string val'>'Jim'</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>

<span class='group1 identifier id'>group1</span> <span class='assign token'>=</span> <span class='Group constant id'>Group</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='user1 identifier id'>user1</span><span class='comma token'>,</span> <span class='user2 identifier id'>user2</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
<span class='group2 identifier id'>group2</span> <span class='assign token'>=</span> <span class='Group constant id'>Group</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='user2 identifier id'>user2</span><span class='comma token'>,</span> <span class='user3 identifier id'>user3</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>

<span class='groups identifier id'>groups</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='group1 identifier id'>group1</span><span class='comma token'>,</span> <span class='group2 identifier id'>group2</span><span class='rbrack token'>]</span>
</pre>

<p>Now we can <b>accumulate</b> the users of all groups.</p>

<pre class="code"><span class='groups identifier id'>groups</span><span class='dot token'>.</span><span class='accumulate identifier id'>accumulate</span><span class='dot token'>.</span><span class='users identifier id'>users</span>  <span class='comment val'>#=&gt; [user1, user2, user3]</span>
</pre>

<p>You may pass an argument to perform chains, e.g. the following returns the
names of users from all groups.</p>

<pre class="code"><span class='groups identifier id'>groups</span><span class='dot token'>.</span><span class='accumulate identifier id'>accumulate</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='users identifier id'>users</span><span class='dot token'>.</span><span class='name identifier id'>name</span>  <span class='comment val'>#=&gt; ['John','Jane','Joe']</span>
</pre>

<p>Or we can gather all the friends of all users in groups.</p>

<pre class="code"><span class='groups identifier id'>groups</span><span class='dot token'>.</span><span class='accumulate identifier id'>accumulate</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='users identifier id'>users</span><span class='dot token'>.</span><span class='friends identifier id'>friends</span>  <span class='comment val'>#=&gt; ['Jill','Jack','Jim']</span>
</pre>

<p>This is more convenient then the equivalent.</p>

<pre class="code"><span class='groups identifier id'>groups</span><span class='dot token'>.</span><span class='accumulate identifier id'>accumulate</span><span class='dot token'>.</span><span class='users identifier id'>users</span><span class='dot token'>.</span><span class='accumulate identifier id'>accumulate</span><span class='dot token'>.</span><span class='friends identifier id'>friends</span>  <span class='comment val'>#=&gt; ['Jill','Jack','Jim']</span>
</pre>

<p>CREDIT: George Moshchovitis, Daniel Emirikol</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


40
41
42
43
44
45
46</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/accumulate.rb', line 40</span>

<span class='def def kw'>def</span> <span class='accumulate identifier id'>accumulate</span><span class='lparen token'>(</span><span class='iterations identifier id'>iterations</span><span class='assign token'>=</span><span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='self self kw'>self</span> <span class='if if_mod kw'>if</span> <span class='iterations identifier id'>iterations</span> <span class='eq op'>==</span> <span class='integer val'>0</span>
  <span class='Functor constant id'>Functor</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='bitor op'>|</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='comma token'>,</span> <span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span> <span class='lshft op'>&lt;&lt;</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span>
    <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='accumulate identifier id'>accumulate</span><span class='lparen token'>(</span><span class='iterations identifier id'>iterations</span> <span class='minus op'>-</span> <span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="accumulate_all-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>accumulate_all</strong>(iterations = 1) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Same as #accumulate, but does not apply #uniq to final result.</p>

<pre class="code"><span class='groups identifier id'>groups</span><span class='dot token'>.</span><span class='accumulate_all identifier id'>accumulate_all</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='users identifier id'>users</span><span class='dot token'>.</span><span class='friends identifier id'>friends</span>  <span class='comment val'>#=&gt; ['Jill', 'Jill','Jack','Jim']</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54
55
56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/accumulate.rb', line 52</span>

<span class='def def kw'>def</span> <span class='accumulate_all identifier id'>accumulate_all</span><span class='lparen token'>(</span><span class='iterations identifier id'>iterations</span><span class='assign token'>=</span><span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='self self kw'>self</span> <span class='if if_mod kw'>if</span> <span class='iterations identifier id'>iterations</span> <span class='eq op'>==</span> <span class='integer val'>0</span>
  <span class='Functor constant id'>Functor</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='bitor op'>|</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='comma token'>,</span> <span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span> <span class='lshft op'>&lt;&lt;</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span>
    <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='accumulate_all identifier id'>accumulate_all</span><span class='lparen token'>(</span><span class='iterations identifier id'>iterations</span> <span class='minus op'>-</span> <span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="cluster_by-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>cluster_by</strong>(&amp;b) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Similar to #group_by but returns an array of the groups. Returned elements
are sorted by block.</p>

<pre class="code"><span class='dstring node'>%w{this is a test}</span><span class='dot token'>.</span><span class='cluster_by identifier id'>cluster_by</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span><span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; [ ['a'], ['is'], ['this', 'test'] ]</span>
</pre>

<p>CREDIT: Erik Veenstra</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/cluster_by.rb', line 13</span>

<span class='def def kw'>def</span> <span class='cluster_by identifier id'>cluster_by</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='b identifier id'>b</span><span class='rparen token'>)</span>
  <span class='group_by identifier id'>group_by</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='b identifier id'>b</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span><span class='dot token'>.</span><span class='transpose identifier id'>transpose</span><span class='dot token'>.</span><span class='pop identifier id'>pop</span> <span class='orop op'>||</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>   <span class='comment val'># group_by(&amp;b).values ?</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="compact_map-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>compact_map</strong>(&amp;block) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='compact_collect-instance_method'>compact_collect</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>A more versitle #compact method. It can be used to collect and filter items
out in one single step.</p>

<pre class="code"><span class='c identifier id'>c</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='compact_map identifier id'>compact_map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span>
  <span class='n identifier id'>n</span> <span class='lt op'>&lt;</span> <span class='integer val'>2</span> <span class='question op'>?</span> <span class='nil nil kw'>nil</span> <span class='colon op'>:</span> <span class='n identifier id'>n</span>
<span class='end end kw'>end</span>

<span class='c identifier id'>c</span>  <span class='comment val'>#=&gt; [2,3]</span>
</pre>

<p>CREDIT: Trans</p>

<p>DEPRECATE: This method should probably be removed b/c #purge does almost
the same thing and enum.map{}.compact works too.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/compact_map.rb', line 17</span>

<span class='def def kw'>def</span> <span class='compact_map identifier id'>compact_map</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='y identifier id'>y</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='mult op'>*</span><span class='a identifier id'>a</span><span class='bitor op'>|</span>
      <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='a identifier id'>a</span><span class='rparen token'>)</span>
      <span class='y identifier id'>y</span> <span class='lshft op'>&lt;&lt;</span> <span class='r identifier id'>r</span> <span class='unless unless_mod kw'>unless</span> <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='r identifier id'>r</span><span class='bitor op'>|</span>
      <span class='y identifier id'>y</span> <span class='lshft op'>&lt;&lt;</span> <span class='r identifier id'>r</span> <span class='unless unless_mod kw'>unless</span> <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='y identifier id'>y</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="count-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>count</strong>(*items, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Count the number of items in an enumerable equal (==) to the given
object(s).</p>

<pre class="code"><span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span> <span class='string val'>'a'</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='string val'>'a'</span> <span class='rbrack token'>]</span>

<span class='e identifier id'>e</span><span class='dot token'>.</span><span class='count identifier id'>count</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span>       <span class='comment val'>#=&gt; 1</span>
<span class='e identifier id'>e</span><span class='dot token'>.</span><span class='count identifier id'>count</span><span class='lparen token'>(</span><span class='string val'>'a'</span><span class='rparen token'>)</span>     <span class='comment val'>#=&gt; 2</span>
</pre>

<p>The method can count more than one item by supplying additional arguments.</p>

<pre class="code"><span class='e identifier id'>e</span><span class='dot token'>.</span><span class='count identifier id'>count</span><span class='lparen token'>(</span><span class='string val'>'a'</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; 3</span>
</pre>

<p>A block may also be used to select countable entries.</p>

<pre class="code"><span class='e identifier id'>e</span><span class='dot token'>.</span><span class='count identifier id'>count</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='String constant id'>String</span> <span class='eqq op'>===</span> <span class='x identifier id'>x</span> <span class='rbrace token'>}</span>  <span class='comment val'>#=&gt; 2</span>
</pre>

<p>Note that Hash#count only considers values.</p>

<pre class="code"><span class='e identifier id'>e</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> <span class='string val'>'a'</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='string val'>'x'</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='string val'>'b'</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>1</span> <span class='rbrace token'>}</span>

<span class='e identifier id'>e</span><span class='dot token'>.</span><span class='count identifier id'>count</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; 1</span>
<span class='e identifier id'>e</span><span class='dot token'>.</span><span class='count identifier id'>count</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; 2</span>
</pre>

<p>NOTE: This is one of the few method overrides in Facets.</p>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/count.rb', line 33</span>

<span class='def def kw'>def</span> <span class='count identifier id'>count</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='items identifier id'>items</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='block identifier id'>block</span> <span class='orop op'>||</span> <span class='notop op'>!</span><span class='items identifier id'>items</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='self self kw'>self</span>
    <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='select identifier id'>select</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='block identifier id'>block</span>
    <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='select identifier id'>select</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='items identifier id'>items</span><span class='dot token'>.</span><span class='any? fid id'>any?</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='i identifier id'>i</span> <span class='eq op'>==</span> <span class='x identifier id'>x</span> <span class='rbrace token'>}</span> <span class='rbrace token'>}</span> <span class='if if_mod kw'>if</span> <span class='notop op'>!</span><span class='items identifier id'>items</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
    <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='size identifier id'>size</span>
  <span class='else else kw'>else</span>
    <span class='begin begin kw'>begin</span>
      <span class='size identifier id'>size</span>
    <span class='rescue rescue kw'>rescue</span>
      <span class='i identifier id'>i</span><span class='assign token'>=</span><span class='integer val'>0</span><span class='semicolon token'>;</span> <span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='i identifier id'>i</span><span class='opasgn op'>+=</span><span class='integer val'>1</span> <span class='rbrace token'>}</span><span class='semicolon token'>;</span> <span class='i identifier id'>i</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="defer-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>defer</strong>(&amp;blk) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Without a block: wrap the Enumerable object in such a way that map, select
and similar operations are performed “horizontally” across a series of
blocks, instead of building an array of results at each step. This reduces
memory usage, allows partial results to be provided early, and permits
working with infinite series.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>1_000_000_000</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='defer identifier id'>defer</span><span class='dot token'>.</span><span class='select identifier id'>select</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='i identifier id'>i</span> <span class='mod op'>%</span> <span class='integer val'>2</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='rbrace token'>}</span><span class='dot token'>.</span>
                             <span class='map identifier id'>map</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='i identifier id'>i</span> <span class='plus op'>+</span> <span class='integer val'>100</span> <span class='rbrace token'>}</span><span class='dot token'>.</span>
                             <span class='take identifier id'>take</span><span class='lparen token'>(</span><span class='integer val'>10</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span>
</pre>

<p>With a block: the block acts as an arbitrary filter on the data. Unlike
map, it can choose to drop elements from the result, and/or add additional
ones. The first object passed to the block is the receiver of the output.</p>

<pre class="code"><span class='lparen token'>(</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>1_000_000_000</span><span class='rparen token'>)</span><span class='dot token'>.</span>
  <span class='defer identifier id'>defer</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='out identifier id'>out</span><span class='comma token'>,</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='out identifier id'>out</span> <span class='lshft op'>&lt;&lt;</span> <span class='i identifier id'>i</span> <span class='if if_mod kw'>if</span> <span class='i identifier id'>i</span> <span class='mod op'>%</span> <span class='integer val'>2</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='rbrace token'>}</span><span class='dot token'>.</span>  <span class='comment val'># like select</span>
  <span class='defer identifier id'>defer</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='out identifier id'>out</span><span class='comma token'>,</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='out identifier id'>out</span> <span class='lshft op'>&lt;&lt;</span> <span class='i identifier id'>i</span> <span class='plus op'>+</span> <span class='integer val'>100</span> <span class='rbrace token'>}</span><span class='dot token'>.</span>          <span class='comment val'># like map</span>
  <span class='take identifier id'>take</span><span class='lparen token'>(</span><span class='integer val'>10</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span>
</pre>

<p>Use a method like to_a or to_h at the end of the chain when you want an
Array or Hash built with the results, or each… if you just want to
output each result and discard it.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31
32
33
34
35
36
37
38
39
40
41
42
43</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/defer.rb', line 29</span>

<span class='def def kw'>def</span> <span class='defer identifier id'>defer</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='blk identifier id'>blk</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='Denumerator constant id'>Denumerator</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='output identifier id'>output</span><span class='bitor op'>|</span>
      <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='mult op'>*</span><span class='input identifier id'>input</span><span class='bitor op'>|</span>
        <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='output identifier id'>output</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='input identifier id'>input</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='Denumerator constant id'>Denumerator</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='output identifier id'>output</span><span class='bitor op'>|</span>
      <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='mult op'>*</span><span class='input identifier id'>input</span><span class='bitor op'>|</span>
        <span class='output identifier id'>output</span><span class='dot token'>.</span><span class='yield identifier id'>yield</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='input identifier id'>input</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="each_by-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>each_by</strong>(steps = nil, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Iterate through slices. If slice <tt>steps</tt> is not given, the arity of
the block is used.</p>

<pre class="code"><span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
<span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each_by identifier id'>each_by</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='comma token'>,</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span> <span class='lshft op'>&lt;&lt;</span> <span class='lbrack token'>[</span><span class='a identifier id'>a</span><span class='comma token'>,</span><span class='b identifier id'>b</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
<span class='x identifier id'>x</span>  <span class='comment val'>#=&gt; [ [1,2], [3,4] ]</span>

<span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
<span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='comma token'>,</span><span class='integer val'>6</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='each_by identifier id'>each_by</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span> <span class='lshft op'>&lt;&lt;</span> <span class='a identifier id'>a</span> <span class='rbrace token'>}</span>
<span class='x identifier id'>x</span>  <span class='comment val'>#=&gt; [ [1,2,3], [4,5,6] ]</span>
</pre>

<p>This is just like each_slice, except that it will check the arity of the
block. If each_slice ever suppots this this method can be deprecated.</p>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24
25
26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/each_by.rb', line 22</span>

<span class='def def kw'>def</span> <span class='each_by identifier id'>each_by</span><span class='lparen token'>(</span><span class='steps identifier id'>steps</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='steps identifier id'>steps</span>
    <span class='each_slice identifier id'>each_slice</span><span class='lparen token'>(</span><span class='steps identifier id'>steps</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='steps identifier id'>steps</span> <span class='assign token'>=</span> <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='arity identifier id'>arity</span><span class='dot token'>.</span><span class='abs identifier id'>abs</span>
    <span class='each_slice identifier id'>each_slice</span><span class='lparen token'>(</span><span class='steps identifier id'>steps</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='comment val'>#each_slice(steps) {|i| block.call(*i)}</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="each_with_object-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>each_with_object</strong>(memo) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>A variation of #inject that saves one from having to return the
aggregate/memo argument.</p>

<p>Say we want to count characters in a string. Using the #each_with_object
method we have:</p>

<pre class="code"><span class='string val'>&quot;string&quot;</span><span class='dot token'>.</span><span class='each_with_object identifier id'>each_with_object</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='c identifier id'>c</span><span class='comma token'>,</span> <span class='h identifier id'>h</span><span class='bitor op'>|</span>
  <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='c identifier id'>c</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
<span class='end end kw'>end</span>
</pre>

<p>versus using #inject which would be:</p>

<pre class="code"><span class='string val'>&quot;string&quot;</span><span class='dot token'>.</span><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='h identifier id'>h</span><span class='comma token'>,</span> <span class='c identifier id'>c</span><span class='bitor op'>|</span>
  <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='c identifier id'>c</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span><span class='integer val'>1</span>
  <span class='h identifier id'>h</span>
<span class='end end kw'>end</span>
</pre>

<p>Notice that the order of the block parameters is reversed.</p>

<p>This method used be called #injecting and had the same parameter order as
#inject, but Ruby 1.9 has adopted this method, so we support it instead.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30
31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/each_with_object.rb', line 28</span>

<span class='def def kw'>def</span> <span class='each_with_object identifier id'>each_with_object</span><span class='lparen token'>(</span><span class='memo identifier id'>memo</span><span class='rparen token'>)</span> <span class='comment val'>#:yield:</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='element identifier id'>element</span><span class='bitor op'>|</span>
    <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='element identifier id'>element</span><span class='comma token'>,</span> <span class='memo identifier id'>memo</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='memo identifier id'>memo</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="every-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>every</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns an elemental object. This allows you to map a method on to every
element.</p>

<pre class="code"><span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='every identifier id'>every</span> <span class='plus op'>+</span> <span class='integer val'>3</span>
<span class='r identifier id'>r</span>  <span class='comment val'>#=&gt; [4,5,6]</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/every.rb', line 11</span>

<span class='def def kw'>def</span> <span class='every identifier id'>every</span>
  <span class='per identifier id'>per</span><span class='lparen token'>(</span><span class='symbol val'>:map</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="every!-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>every!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>In place version of #every.</p>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt>NoMethodError</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/every.rb', line 17</span>

<span class='def def kw'>def</span> <span class='every! fid id'>every!</span>
  <span class='raise identifier id'>raise</span> <span class='NoMethodError constant id'>NoMethodError</span> <span class='unless unless_mod kw'>unless</span> <span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:map!</span><span class='rparen token'>)</span>
  <span class='per identifier id'>per</span><span class='lparen token'>(</span><span class='symbol val'>:map!</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="ewise-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>ewise</strong>(count = 1) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='elementwise-instance_method'>elementwise</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns an elementwise Functor designed to make R-like elementwise
operations possible. This is very much like the #every method, but it
treats array argument specially.</p>

<pre class="code"><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='ewise identifier id'>ewise</span> <span class='plus op'>+</span> <span class='integer val'>3</span><span class='rparen token'>)</span>          <span class='comment val'>#=&gt; [4,5]</span>
</pre>

<p>Vector to vector</p>

<pre class="code"><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='ewise identifier id'>ewise</span> <span class='plus op'>+</span> <span class='lbrack token'>[</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>      <span class='comment val'>#=&gt; [5,7]</span>
</pre>

<p>Special thanks to Martin DeMello for helping to develop this.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/ewise.rb', line 17</span>

<span class='def def kw'>def</span> <span class='ewise identifier id'>ewise</span><span class='lparen token'>(</span><span class='count identifier id'>count</span><span class='assign token'>=</span><span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='Functor constant id'>Functor</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='op identifier id'>op</span><span class='comma token'>,</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
      <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='self self kw'>self</span>
      <span class='count identifier id'>count</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='do do kw'>do</span>
        <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
      <span class='end end kw'>end</span>
      <span class='r identifier id'>r</span>
    <span class='else else kw'>else</span>
      <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='arg identifier id'>arg</span><span class='bitor op'>|</span>
        <span class='if if kw'>if</span> <span class='Array constant id'>Array</span> <span class='eqq op'>===</span> <span class='arg identifier id'>arg</span> <span class='comment val'>#arg.kind_of?(Enumerable)</span>
          <span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='self self kw'>self</span>
          <span class='count identifier id'>count</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='do do kw'>do</span>
            <span class='ln identifier id'>ln</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='gt op'>&gt;</span> <span class='length identifier id'>length</span> <span class='integer val'>? </span><span class='length identifier id'>length</span> <span class='colon op'>:</span> <span class='arg identifier id'>arg</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='rparen token'>)</span>
            <span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='slice identifier id'>slice</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='ln identifier id'>ln</span><span class='rparen token'>)</span>
            <span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='zip identifier id'>zip</span><span class='lparen token'>(</span><span class='arg identifier id'>arg</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='ln identifier id'>ln</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
            <span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='comma token'>,</span><span class='b identifier id'>b</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span><span class='b identifier id'>b</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>  <span class='comment val'>#x = x.collect{ |a,b| b ? a.send(op,b) : nil }</span>
          <span class='end end kw'>end</span>
          <span class='x identifier id'>x</span>
        <span class='else else kw'>else</span>
          <span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='self self kw'>self</span>
          <span class='count identifier id'>count</span><span class='dot token'>.</span><span class='times identifier id'>times</span> <span class='do do kw'>do</span>
            <span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='collect identifier id'>collect</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span> <span class='a identifier id'>a</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='op identifier id'>op</span><span class='comma token'>,</span><span class='arg identifier id'>arg</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
          <span class='end end kw'>end</span>
          <span class='x identifier id'>x</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
      <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='flatten! fid id'>flatten!</span> <span class='if if_mod kw'>if</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='eq op'>==</span> <span class='integer val'>1</span>
      <span class='r identifier id'>r</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="exclude?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>exclude?</strong>(object) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>The inverse of #include?.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span> <span class='symbol val'>:b</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='exclude? fid id'>exclude?</span><span class='lparen token'>(</span><span class='symbol val'>:c</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; true</span>
<span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span> <span class='symbol val'>:b</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='exclude? fid id'>exclude?</span><span class='lparen token'>(</span><span class='symbol val'>:a</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; false</span>
</pre>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/exclude.rb', line 10</span>

<span class='def def kw'>def</span> <span class='exclude? fid id'>exclude?</span><span class='lparen token'>(</span><span class='object identifier id'>object</span><span class='rparen token'>)</span>
  <span class='notop op'>!</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='object identifier id'>object</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="expand-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>expand</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Expand all elements of an Enumerable object.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='comma token'>,</span> <span class='float val'>2</span><span class='dot2 op'>..</span><span class='integer val'>3</span><span class='comma token'>,</span> <span class='float val'>5</span><span class='dot2 op'>..</span><span class='integer val'>7</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='expand identifier id'>expand</span>  <span class='comment val'>#=&gt; [0,[2, 3],[5,6,7]]</span>
</pre>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/expand.rb', line 8</span>

<span class='def def kw'>def</span> <span class='expand identifier id'>expand</span>
  <span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span>
   <span class='lparen token'>(</span><span class='Enumerable constant id'>Enumerable</span> <span class='eqq op'>===</span> <span class='x identifier id'>x</span> <span class='integer val'>? </span><span class='x identifier id'>x</span><span class='dot token'>.</span><span class='expand identifier id'>expand</span> <span class='colon op'>:</span> <span class='x identifier id'>x</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="filter-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>filter</strong>(output = []) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>The block acts as an arbitrary filter on the data. Unlike map, it can
choose to drop elements from the result and/or add additional elements. The
first object passed to the block is the receiver of the output.</p>

<pre class="code"><span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>10000</span><span class='rparen token'>)</span>
<span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='filter identifier id'>filter</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='out identifier id'>out</span><span class='comma token'>,</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='out identifier id'>out</span> <span class='lshft op'>&lt;&lt;</span> <span class='i identifier id'>i</span> <span class='if if_mod kw'>if</span> <span class='i identifier id'>i</span> <span class='mod op'>%</span> <span class='integer val'>2</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='rbrace token'>}</span>   <span class='comment val'># like select</span>
<span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='filter identifier id'>filter</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='out identifier id'>out</span><span class='comma token'>,</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='out identifier id'>out</span> <span class='lshft op'>&lt;&lt;</span> <span class='i identifier id'>i</span> <span class='plus op'>+</span> <span class='integer val'>100</span> <span class='rbrace token'>}</span>           <span class='comment val'># like map</span>
<span class='x identifier id'>x</span> <span class='assign token'>=</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='take identifier id'>take</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span>

<span class='x identifier id'>x</span>  <span class='comment val'>#=&gt; [102, 104, 106]</span>
</pre>

<p>This is very similar to #each_with_object, but #filter handles argument
better by reversing their order and using the splat operator. (This was
also once known as #injecting.)</p>

<p>CREDIT: David Black, Louis J Scoras</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/filter.rb', line 21</span>

<span class='def def kw'>def</span> <span class='filter identifier id'>filter</span><span class='lparen token'>(</span><span class='output identifier id'>output</span><span class='assign token'>=</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='comment val'>#:yeild:</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='mult op'>*</span><span class='input identifier id'>input</span><span class='bitor op'>|</span>
      <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='output identifier id'>output</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='input identifier id'>input</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
    <span class='output identifier id'>output</span>
  <span class='else else kw'>else</span>
    <span class='to_enum identifier id'>to_enum</span><span class='lparen token'>(</span><span class='symbol val'>:filter</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="find_yield-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>find_yield</strong>(fallback = nil) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='map_detect-instance_method'>map_detect</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>Yield each element to the block and return the result of the block when
that result evaluates as true, terminating early like #detect and #find.</p>

<pre class="code"><span class='obj1 identifier id'>obj1</span> <span class='assign token'>=</span> <span class='Object constant id'>Object</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
<span class='obj2 identifier id'>obj2</span> <span class='assign token'>=</span> <span class='Object constant id'>Object</span><span class='dot token'>.</span><span class='new identifier id'>new</span>

<span class='def def kw'>def</span> <span class='obj1 identifier id'>obj1</span><span class='dot token'>.</span><span class='foo? fid id'>foo?</span><span class='semicolon token'>;</span> <span class='false false kw'>false</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
<span class='def def kw'>def</span> <span class='obj2 identifier id'>obj2</span><span class='dot token'>.</span><span class='foo? fid id'>foo?</span><span class='semicolon token'>;</span> <span class='true true kw'>true</span> <span class='semicolon token'>;</span> <span class='end end kw'>end</span>

<span class='def def kw'>def</span> <span class='obj1 identifier id'>obj1</span><span class='dot token'>.</span><span class='foo identifier id'>foo</span> <span class='semicolon token'>;</span> <span class='string val'>&quot;foo1&quot;</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>
<span class='def def kw'>def</span> <span class='obj2 identifier id'>obj2</span><span class='dot token'>.</span><span class='foo identifier id'>foo</span> <span class='semicolon token'>;</span> <span class='string val'>&quot;foo2&quot;</span><span class='semicolon token'>;</span> <span class='end end kw'>end</span>

<span class='lbrack token'>[</span><span class='obj1 identifier id'>obj1</span><span class='comma token'>,</span> <span class='obj2 identifier id'>obj2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='find_yield identifier id'>find_yield</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='obj identifier id'>obj</span><span class='bitor op'>|</span> <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='foo identifier id'>foo</span> <span class='if if_mod kw'>if</span> <span class='obj identifier id'>obj</span><span class='dot token'>.</span><span class='foo? fid id'>foo?</span> <span class='rbrace token'>}</span>  <span class='comment val'>#=&gt; &quot;foo2&quot;</span>
</pre>

<p>Another example.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='find_yield identifier id'>find_yield</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='j identifier id'>j</span> <span class='assign token'>=</span> <span class='i identifier id'>i</span><span class='plus op'>+</span><span class='integer val'>1</span><span class='semicolon token'>;</span> <span class='j identifier id'>j</span> <span class='if if_mod kw'>if</span> <span class='j identifier id'>j</span> <span class='mod op'>%</span> <span class='integer val'>4</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='rbrace token'>}</span>  <span class='comment val'>#=&gt; 4</span>
</pre>

<p>If the block is never true, return the object given in the first parameter,
or nil if none specified.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='find_yield identifier id'>find_yield</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='_ identifier id'>_</span><span class='bitor op'>|</span> <span class='false false kw'>false</span> <span class='rbrace token'>}</span>    <span class='comment val'>#=&gt; nil</span>
<span class='lbrack token'>[</span><span class='false false kw'>false</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='find_yield identifier id'>find_yield</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='_ identifier id'>_</span><span class='bitor op'>|</span> <span class='false false kw'>false</span> <span class='rbrace token'>}</span> <span class='comment val'>#=&gt; 1</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30
31
32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/find_yield.rb', line 28</span>

<span class='def def kw'>def</span> <span class='find_yield identifier id'>find_yield</span><span class='lparen token'>(</span><span class='fallback identifier id'>fallback</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span> <span class='comment val'>#:yield:</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='member identifier id'>member</span><span class='bitor op'>|</span>
    <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='member identifier id'>member</span><span class='rparen token'>)</span>
    <span class='return return kw'>return</span> <span class='result identifier id'>result</span> <span class='if if_mod kw'>if</span> <span class='result identifier id'>result</span> 
  <span class='end end kw'>end</span>
  <span class='fallback identifier id'>fallback</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="frequency-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>frequency</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Generates a hash mapping each unique symbol in the array to the absolute
frequency it appears.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='symbol val'>:a</span><span class='comma token'>,</span><span class='symbol val'>:a</span><span class='comma token'>,</span><span class='symbol val'>:b</span><span class='comma token'>,</span><span class='symbol val'>:c</span><span class='comma token'>,</span><span class='symbol val'>:c</span><span class='comma token'>,</span><span class='symbol val'>:c</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='frequency identifier id'>frequency</span>  <span class='comment val'>#=&gt; {:a=&gt;2,:b=&gt;1,:c=&gt;3}</span>
</pre>

<p>CREDIT: Brian Schröder</p>

<p>– NOTE: So why not use #inject here? e.g. …</p>

<pre class="code"><span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='p identifier id'>p</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='p identifier id'>p</span><span class='lbrack token'>[</span><span class='v identifier id'>v</span><span class='rbrack token'>]</span><span class='opasgn op'>+=</span><span class='integer val'>1</span><span class='semicolon token'>;</span> <span class='p identifier id'>p</span><span class='rbrace token'>}</span>
</pre>

<p>Because it is a fair bit slower than the traditional definition. ++</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/frequency.rb', line 18</span>

<span class='def def kw'>def</span> <span class='frequency identifier id'>frequency</span>
  <span class='p identifier id'>p</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='semicolon token'>;</span> <span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='p identifier id'>p</span><span class='lbrack token'>[</span><span class='v identifier id'>v</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span> <span class='rbrace token'>}</span><span class='semicolon token'>;</span> <span class='p identifier id'>p</span>

<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="graph-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>graph</strong>(&amp;yld) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='mash-instance_method'>mash</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>Like `#map`/`#collect`, but generates a Hash. The block is expected to
return two values: the key and the value for the new hash.</p>

<pre class="code"><span class='numbers identifier id'>numbers</span>  <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>3</span><span class='rparen token'>)</span>
<span class='squares identifier id'>squares</span>  <span class='assign token'>=</span> <span class='numbers identifier id'>numbers</span><span class='dot token'>.</span><span class='graph identifier id'>graph</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span> <span class='lbrack token'>[</span><span class='n identifier id'>n</span><span class='comma token'>,</span> <span class='n identifier id'>n</span><span class='mult op'>*</span><span class='n identifier id'>n</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>   <span class='comment val'># { 1=&gt;1, 2=&gt;4, 3=&gt;9 }</span>
<span class='sq_roots identifier id'>sq_roots</span> <span class='assign token'>=</span> <span class='numbers identifier id'>numbers</span><span class='dot token'>.</span><span class='graph identifier id'>graph</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span> <span class='lbrack token'>[</span><span class='n identifier id'>n</span><span class='mult op'>*</span><span class='n identifier id'>n</span><span class='comma token'>,</span> <span class='n identifier id'>n</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>   <span class='comment val'># { 1=&gt;1, 4=&gt;2, 9=&gt;3 }</span>
</pre>

<p>CREDIT: Andrew Dudzik (adudzik), Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/graph.rb', line 12</span>

<span class='def def kw'>def</span> <span class='graph identifier id'>graph</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='yld identifier id'>yld</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='yld identifier id'>yld</span>
    <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
    <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='mult op'>*</span><span class='kv identifier id'>kv</span><span class='bitor op'>|</span>
      <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='yld identifier id'>yld</span><span class='lbrack token'>[</span><span class='mult op'>*</span><span class='kv identifier id'>kv</span><span class='rbrack token'>]</span>
      <span class='case case kw'>case</span> <span class='r identifier id'>r</span>
      <span class='when when kw'>when</span> <span class='Hash constant id'>Hash</span>
        <span class='nk identifier id'>nk</span><span class='comma token'>,</span> <span class='nv identifier id'>nv</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='r identifier id'>r</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='rbrack token'>]</span>
      <span class='when when kw'>when</span> <span class='Range constant id'>Range</span>
        <span class='nk identifier id'>nk</span><span class='comma token'>,</span> <span class='nv identifier id'>nv</span> <span class='assign token'>=</span> <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='first identifier id'>first</span><span class='comma token'>,</span> <span class='r identifier id'>r</span><span class='dot token'>.</span><span class='last identifier id'>last</span>
      <span class='else else kw'>else</span>
        <span class='nk identifier id'>nk</span><span class='comma token'>,</span> <span class='nv identifier id'>nv</span> <span class='assign token'>=</span> <span class='mult op'>*</span><span class='r identifier id'>r</span>
      <span class='end end kw'>end</span>
      <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='nk identifier id'>nk</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='nv identifier id'>nv</span>
    <span class='end end kw'>end</span>
    <span class='h identifier id'>h</span>
  <span class='else else kw'>else</span>
    <span class='Enumerator constant id'>Enumerator</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span><span class='symbol val'>:graph</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="group_by-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>group_by</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Enumerable#group_by is used to group items in a collection by something
they have in common.  The common factor is the key in the resulting hash,
the array of like elements is the value.</p>

<pre class="code"><span class='lparen token'>(</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>5</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='group_by identifier id'>group_by</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span> <span class='n identifier id'>n</span> <span class='mod op'>%</span> <span class='integer val'>3</span> <span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; { 0 =&gt; [3], 1 =&gt; [1, 4], 2 =&gt; [2,5] }</span>
</pre>

<p>Applied to an array.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='string val'>&quot;I had&quot;</span><span class='comma token'>,</span> <span class='integer val'>1</span><span class='comma token'>,</span> <span class='string val'>&quot;dollar and&quot;</span><span class='comma token'>,</span> <span class='integer val'>50</span><span class='comma token'>,</span> <span class='string val'>&quot;cents&quot;</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='group_by identifier id'>group_by</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='class identifier id'>class</span> <span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; { String =&gt; [&quot;I had&quot;,&quot;dollar and&quot;,&quot;cents&quot;], Fixnum =&gt; [1,50] }</span>
</pre>

<p>Applied to a hash:</p>

<pre class="code"><span class='lbrace token'>{</span><span class='symbol val'>:a=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='symbol val'>:b=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='comma token'>,</span> <span class='symbol val'>:c=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='group_by identifier id'>group_by</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='v identifier id'>v</span> <span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; { 1=&gt;[[:c,1], [:a,1]], 2=&gt;[[:b,2]] }</span>
</pre>

<p>CREDIT: Erik Veenstra</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


24
25
26
27
28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/group_by.rb', line 24</span>

<span class='def def kw'>def</span> <span class='group_by identifier id'>group_by</span> 
  <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span>
  <span class='each identifier id'>each</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='lparen token'>(</span><span class='r identifier id'>r</span><span class='lbrack token'>[</span><span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='rparen token'>)</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='e identifier id'>e</span> <span class='rbrace token'>}</span>
  <span class='r identifier id'>r</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="map_by-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>map_by</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Like #group_by, but maps the second value returned from the block.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='map_by identifier id'>map_by</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='lbrack token'>[</span><span class='e identifier id'>e</span> <span class='mod op'>%</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='e identifier id'>e</span> <span class='plus op'>+</span> <span class='integer val'>1</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; { 0=&gt;[3,5], 1=&gt;[2,4,6] }</span>
</pre>

<p>Works well with a hash too.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='string val'>&quot;A&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='string val'>&quot;B&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='string val'>&quot;C&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='string val'>&quot;D&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='comma token'>,</span> <span class='string val'>&quot;E&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='map_by identifier id'>map_by</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='lbrack token'>[</span><span class='v identifier id'>v</span><span class='comma token'>,</span> <span class='k identifier id'>k</span><span class='dot token'>.</span><span class='downcase identifier id'>downcase</span><span class='rbrack token'>]</span> <span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; {1=&gt;[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], 2=&gt;[&quot;d&quot;, &quot;e&quot;]}</span>
</pre>

<p>If a second value is not returned, #map_by acts like #group_by.</p>

<pre class="code"><span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='string val'>&quot;A&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='string val'>&quot;B&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='string val'>&quot;C&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='string val'>&quot;D&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='comma token'>,</span> <span class='string val'>&quot;E&quot;</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='integer val'>2</span><span class='rbrace token'>}</span>
<span class='h identifier id'>h</span><span class='dot token'>.</span><span class='map_by identifier id'>map_by</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span><span class='bitor op'>|</span> <span class='v identifier id'>v</span> <span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; {1=&gt;[[&quot;A&quot;,1], [&quot;B&quot;,1], [&quot;C&quot;,1]], 2=&gt;[[&quot;D&quot;,2], [&quot;E&quot;,2]]}</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30
31
32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/map_by.rb', line 21</span>

<span class='def def kw'>def</span> <span class='map_by identifier id'>map_by</span> 
  <span class='res identifier id'>res</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='bitor op'>|</span>
    <span class='k identifier id'>k</span><span class='comma token'>,</span><span class='v identifier id'>v</span> <span class='assign token'>=</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='a identifier id'>a</span><span class='rparen token'>)</span>
    <span class='if if kw'>if</span> <span class='v identifier id'>v</span>
      <span class='lparen token'>(</span><span class='res identifier id'>res</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='v identifier id'>v</span>
    <span class='else else kw'>else</span>
      <span class='lparen token'>(</span><span class='res identifier id'>res</span><span class='lbrack token'>[</span><span class='k identifier id'>k</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='lshft op'>&lt;&lt;</span> <span class='a identifier id'>a</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='res identifier id'>res</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="map_send-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>map_send</strong>(meth, *args, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Send a message to each element and collect the result.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='map_send identifier id'>map_send</span><span class='lparen token'>(</span><span class='symbol val'>:+</span><span class='comma token'>,</span> <span class='integer val'>3</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; [4,5,6]</span>
</pre>

<p>CREDIT: Sean O’Halpin</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/map_send.rb', line 9</span>

<span class='def def kw'>def</span> <span class='map_send identifier id'>map_send</span><span class='lparen token'>(</span><span class='meth identifier id'>meth</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='map identifier id'>map</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='e identifier id'>e</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='meth identifier id'>meth</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='args identifier id'>args</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="map_with_index-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>map_with_index</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='collect_with_index-instance_method'>collect_with_index</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>Same as #collect but with an iteration counter.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='collect_with_index identifier id'>collect_with_index</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='comma token'>,</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='e identifier id'>e</span><span class='mult op'>*</span><span class='i identifier id'>i</span> <span class='rbrace token'>}</span>
<span class='a identifier id'>a</span>  <span class='comment val'>#=&gt; [0,2,6]</span>
</pre>

<p>CREDIT: Gavin Sinclair</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/map_with_index.rb', line 10</span>

<span class='def def kw'>def</span> <span class='map_with_index identifier id'>map_with_index</span>
  <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='each_with_index identifier id'>each_with_index</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='comma token'>,</span> <span class='i identifier id'>i</span><span class='bitor op'>|</span>
    <span class='r identifier id'>r</span> <span class='lshft op'>&lt;&lt;</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='comma token'>,</span> <span class='i identifier id'>i</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
  <span class='r identifier id'>r</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="modulate-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>modulate</strong>(modulo) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Modulate. Divide an array into groups by modulo of the index.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>6</span><span class='comma token'>,</span><span class='integer val'>8</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='modulate identifier id'>modulate</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; [[2,6],[4,8]]</span>
</pre>

<p>CREDIT: Trans</p>

<p>NOTE: Would the better name for this be ‘collate’?</p>


  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15
16
17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/modulate.rb', line 11</span>

<span class='def def kw'>def</span> <span class='modulate identifier id'>modulate</span><span class='lparen token'>(</span><span class='modulo identifier id'>modulo</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='to_a identifier id'>to_a</span> <span class='if if_mod kw'>if</span> <span class='modulo identifier id'>modulo</span> <span class='eq op'>==</span> <span class='integer val'>1</span>
  <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>'bad modulo'</span> <span class='if if_mod kw'>if</span> <span class='size identifier id'>size</span> <span class='mod op'>%</span> <span class='modulo identifier id'>modulo</span> <span class='neq op'>!=</span> <span class='integer val'>0</span>
  <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='modulo identifier id'>modulo</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='lparen token'>(</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='size identifier id'>size</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>
    <span class='r identifier id'>r</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span> <span class='mod op'>%</span> <span class='modulo identifier id'>modulo</span><span class='rbrack token'>]</span> <span class='opasgn op'>+=</span> <span class='lbrack token'>[</span><span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>
  <span class='r identifier id'>r</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="none?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>none?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Enumerable#none? is the logical opposite of the builtin method
Enumerable#any?.  It returns <tt>true</tt> if and only if <em>none</em> of
the elements in the collection satisfy the predicate.</p>

<p>If no predicate is provided, Enumerable#none? returns <tt>true</tt> if and
only if <em>none</em> of the elements have a true value (i.e. not
<tt>nil</tt> or <tt>false</tt>).</p>

<pre class="code"><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='none? fid id'>none?</span>                      <span class='comment val'># =&gt; true</span>
<span class='lbrack token'>[</span><span class='nil nil kw'>nil</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='none? fid id'>none?</span>                   <span class='comment val'># =&gt; true</span>
<span class='lbrack token'>[</span><span class='integer val'>5</span><span class='comma token'>,</span><span class='integer val'>8</span><span class='comma token'>,</span><span class='integer val'>9</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='none? fid id'>none?</span>                 <span class='comment val'># =&gt; false</span>
<span class='lparen token'>(</span><span class='float val'>1</span><span class='dot3 op'>...</span><span class='integer val'>10</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='none? fid id'>none?</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span> <span class='n identifier id'>n</span> <span class='lt op'>&lt;</span> <span class='integer val'>0</span> <span class='rbrace token'>}</span>  <span class='comment val'># =&gt; true</span>
<span class='lparen token'>(</span><span class='float val'>1</span><span class='dot3 op'>...</span><span class='integer val'>10</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='none? fid id'>none?</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span> <span class='n identifier id'>n</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span> <span class='rbrace token'>}</span>  <span class='comment val'># =&gt; false</span>
</pre>

<p>CREDIT: Gavin Sinclair</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/none.rb', line 21</span>

<span class='def def kw'>def</span> <span class='none? fid id'>none?</span>  
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='not not kw'>not</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='any? fid id'>any?</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='yield yield kw'>yield</span> <span class='e identifier id'>e</span> <span class='rbrace token'>}</span>
  <span class='else else kw'>else</span>
    <span class='not not kw'>not</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='any? fid id'>any?</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="occur-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>occur</strong>(n = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns an array of elements for the elements that occur n times. Or
according to the results of a given block.</p>

<pre class="code"><span class='a identifier id'>a</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='comma token'>,</span><span class='integer val'>5</span><span class='rbrack token'>]</span>

<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='occur identifier id'>occur</span><span class='lparen token'>(</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span>               <span class='comment val'>#=&gt; [2,4]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='occur identifier id'>occur</span><span class='lparen token'>(</span><span class='integer val'>2</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span>               <span class='comment val'>#=&gt; [1,3,5]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='occur identifier id'>occur</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span>               <span class='comment val'>#=&gt; []</span>

<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='occur identifier id'>occur</span><span class='lparen token'>(</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>1</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span>            <span class='comment val'>#=&gt; [2,4]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='occur identifier id'>occur</span><span class='lparen token'>(</span><span class='float val'>2</span><span class='dot2 op'>..</span><span class='integer val'>3</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span>            <span class='comment val'>#=&gt; [1,3,5]</span>

<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='occur identifier id'>occur</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span> <span class='n identifier id'>n</span> <span class='eq op'>==</span> <span class='integer val'>1</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span>   <span class='comment val'>#=&gt; [2,4]</span>
<span class='a identifier id'>a</span><span class='dot token'>.</span><span class='occur identifier id'>occur</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span> <span class='n identifier id'>n</span> <span class='gt op'>&gt;</span> <span class='integer val'>1</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='sort identifier id'>sort</span>    <span class='comment val'>#=&gt; [1,3,5]</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/occur.rb', line 18</span>

<span class='def def kw'>def</span> <span class='occur identifier id'>occur</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span> <span class='comment val'>#:yield:</span>
  <span class='result identifier id'>result</span> <span class='assign token'>=</span> <span class='Hash constant id'>Hash</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='hash identifier id'>hash</span><span class='comma token'>,</span> <span class='key identifier id'>key</span><span class='bitor op'>|</span> <span class='hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='Array constant id'>Array</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='rbrace token'>}</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='item identifier id'>item</span><span class='bitor op'>|</span>
    <span class='key identifier id'>key</span> <span class='assign token'>=</span> <span class='item identifier id'>item</span>
    <span class='result identifier id'>result</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span> <span class='lshft op'>&lt;&lt;</span> <span class='item identifier id'>item</span>
  <span class='end end kw'>end</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='reject! fid id'>reject!</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='bitor op'>|</span> <span class='notop op'>!</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='values identifier id'>values</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
  <span class='else else kw'>else</span>
    <span class='raise identifier id'>raise</span> <span class='ArgumentError constant id'>ArgumentError</span> <span class='unless unless_mod kw'>unless</span> <span class='n identifier id'>n</span>
    <span class='if if kw'>if</span> <span class='Range constant id'>Range</span> <span class='eqq op'>===</span> <span class='n identifier id'>n</span>
      <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='reject! fid id'>reject!</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='bitor op'>|</span> <span class='notop op'>!</span> <span class='n identifier id'>n</span><span class='dot token'>.</span><span class='include? fid id'>include?</span><span class='lparen token'>(</span><span class='values identifier id'>values</span><span class='dot token'>.</span><span class='size identifier id'>size</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span>
    <span class='else else kw'>else</span>
      <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='reject! fid id'>reject!</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='values identifier id'>values</span><span class='bitor op'>|</span> <span class='values identifier id'>values</span><span class='dot token'>.</span><span class='size identifier id'>size</span> <span class='neq op'>!=</span> <span class='n identifier id'>n</span> <span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='return return kw'>return</span> <span class='result identifier id'>result</span><span class='dot token'>.</span><span class='values identifier id'>values</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="one?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>one?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Enumerable#one? returns <tt>true</tt> if and only if <em>exactly one</em>
element in the collection satisfies the given predicate.</p>

<p>If no predicate is provided, Enumerable#one? returns <tt>true</tt> if and
only if <em>exactly one</em> element has a true value (i.e. not
<tt>nil</tt> or <tt>false</tt>).</p>

<pre class="code"><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='one? fid id'>one?</span>                      <span class='comment val'># =&gt; false</span>
<span class='lbrack token'>[</span><span class='nil nil kw'>nil</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='one? fid id'>one?</span>                   <span class='comment val'># =&gt; false</span>
<span class='lbrack token'>[</span><span class='integer val'>5</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='one? fid id'>one?</span>                     <span class='comment val'># =&gt; true</span>
<span class='lbrack token'>[</span><span class='integer val'>5</span><span class='comma token'>,</span><span class='integer val'>8</span><span class='comma token'>,</span><span class='integer val'>9</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='one? fid id'>one?</span>                 <span class='comment val'># =&gt; false</span>
<span class='lparen token'>(</span><span class='float val'>1</span><span class='dot3 op'>...</span><span class='integer val'>10</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='one? fid id'>one?</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span> <span class='n identifier id'>n</span> <span class='eq op'>==</span> <span class='integer val'>5</span> <span class='rbrace token'>}</span> <span class='comment val'># =&gt; true</span>
<span class='lparen token'>(</span><span class='float val'>1</span><span class='dot3 op'>...</span><span class='integer val'>10</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='one? fid id'>one?</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span> <span class='n identifier id'>n</span> <span class='lt op'>&lt;</span> <span class='integer val'>5</span> <span class='rbrace token'>}</span>  <span class='comment val'># =&gt; false</span>
</pre>

<p>CREDIT: Gavin Sinclair</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/one.rb', line 21</span>

<span class='def def kw'>def</span> <span class='one? fid id'>one?</span>  
  <span class='matches identifier id'>matches</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='self self kw'>self</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span>
      <span class='if if kw'>if</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='rparen token'>)</span>
        <span class='matches identifier id'>matches</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
        <span class='return return kw'>return</span> <span class='false false kw'>false</span> <span class='if if_mod kw'>if</span> <span class='matches identifier id'>matches</span> <span class='gt op'>&gt;</span> <span class='integer val'>1</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
    <span class='return return kw'>return</span> <span class='lparen token'>(</span><span class='matches identifier id'>matches</span> <span class='eq op'>==</span> <span class='integer val'>1</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='one? fid id'>one?</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span> <span class='e identifier id'>e</span> <span class='rbrace token'>}</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="per-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>per</strong>(enum_method = nil, *enum_args) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Per element meta-functor.</p>

<pre class="code"><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='per identifier id'>per</span><span class='lparen token'>(</span><span class='symbol val'>:map</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='integer val'>3</span><span class='rparen token'>)</span>     <span class='comment val'>#=&gt; [4,5,6]</span>
<span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='per identifier id'>per</span><span class='lparen token'>(</span><span class='symbol val'>:select</span><span class='rparen token'>)</span> <span class='gt op'>&gt;</span> <span class='integer val'>1</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; [2,3]</span>
</pre>

<p>Using fluid notation.</p>

<pre class="code"><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='per identifier id'>per</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='plus op'>+</span> <span class='integer val'>3</span><span class='rparen token'>)</span>       <span class='comment val'>#=&gt; [4,5,6]</span>
<span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='per identifier id'>per</span><span class='dot token'>.</span><span class='select identifier id'>select</span> <span class='gt op'>&gt;</span> <span class='integer val'>1</span><span class='rparen token'>)</span>    <span class='comment val'>#=&gt; [2,3]</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


19
20
21
22
23
24
25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/per.rb', line 19</span>

<span class='def def kw'>def</span> <span class='per identifier id'>per</span><span class='lparen token'>(</span><span class='enum_method identifier id'>enum_method</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='enum_args identifier id'>enum_args</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='enum_method identifier id'>enum_method</span>
    <span class='Permeator constant id'>Permeator</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='enum_method identifier id'>enum_method</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='enum_args identifier id'>enum_args</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='Functor constant id'>Functor</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='enumr_method identifier id'>enumr_method</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='enumr_args identifier id'>enumr_args</span><span class='bitor op'>|</span>
      <span class='Permeator constant id'>Permeator</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='enumr_method identifier id'>enumr_method</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='enumr_args identifier id'>enumr_args</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="purge-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>purge</strong>(*trash, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>A versitle compaction method. Like #map but used to filter out multiple
items in a single step.</p>

<p>Without <tt>trash</tt> arguments <tt>nil</tt> is assumed.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='purge identifier id'>purge</span>  <span class='comment val'>#=&gt; [1,2]</span>
</pre>

<p>If <tt>trash</tt> arguments are given, each argument is compared for a
match using #==.</p>

<pre class="code"><span class='lparen token'>(</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>6</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='purge identifier id'>purge</span><span class='lparen token'>(</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='rparen token'>)</span>  <span class='comment val'>#=&gt; [1,2,5,6]</span>
</pre>

<p>If a block is given, the yield is used in the matching condition instead of
the element itsef.</p>

<pre class="code"><span class='lparen token'>(</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='integer val'>6</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='purge identifier id'>purge</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='n identifier id'>n</span><span class='bitor op'>|</span> <span class='n identifier id'>n</span> <span class='mod op'>%</span> <span class='integer val'>2</span> <span class='rbrace token'>}</span>  <span class='comment val'>#=&gt; [1,3,5]</span>
</pre>

<p>NOTE: This could just as well be an override of the core #compact method,
but to avoid potential issues associated with overriding core methods we
use the alternate name #purge.</p>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29
30
31
32
33
34
35
36
37
38
39
40
41</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/purge.rb', line 27</span>

<span class='def def kw'>def</span> <span class='purge identifier id'>purge</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='trash identifier id'>trash</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='trash identifier id'>trash</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='nil nil kw'>nil</span><span class='rbrack token'>]</span> <span class='if if_mod kw'>if</span> <span class='trash identifier id'>trash</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span>
  <span class='r identifier id'>r</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span>
      <span class='y identifier id'>y</span> <span class='assign token'>=</span> <span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='e identifier id'>e</span><span class='rparen token'>)</span>
      <span class='r identifier id'>r</span> <span class='lshft op'>&lt;&lt;</span> <span class='e identifier id'>e</span> <span class='unless unless_mod kw'>unless</span> <span class='trash identifier id'>trash</span><span class='dot token'>.</span><span class='any? fid id'>any?</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span> <span class='eq op'>==</span> <span class='y identifier id'>y</span><span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
  <span class='else else kw'>else</span>
    <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span>
      <span class='r identifier id'>r</span> <span class='lshft op'>&lt;&lt;</span> <span class='e identifier id'>e</span> <span class='unless unless_mod kw'>unless</span> <span class='trash identifier id'>trash</span><span class='dot token'>.</span><span class='any? fid id'>any?</span><span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='t identifier id'>t</span><span class='bitor op'>|</span> <span class='t identifier id'>t</span> <span class='eq op'>==</span> <span class='e identifier id'>e</span><span class='rbrace token'>}</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='r identifier id'>r</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="recursively-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>recursively</strong>(*types, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns a recursive functor, that allows enumerable methods to iterate
through enumerable sub-elements. By default it only recurses over elements
of the same type.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/recursively.rb', line 7</span>

<span class='def def kw'>def</span> <span class='recursively identifier id'>recursively</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='types identifier id'>types</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='Recursor constant id'>Recursor</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='types identifier id'>types</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="sum-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>sum</strong>(identity = 0, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Uses #+ to sum the enumerated elements.</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='sum identifier id'>sum</span>  <span class='comment val'>#=&gt; 6</span>
<span class='lbrack token'>[</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='comma token'>,</span><span class='integer val'>3</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='sum identifier id'>sum</span>  <span class='comment val'>#=&gt; 9</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10
11
12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/sum.rb', line 8</span>

<span class='def def kw'>def</span> <span class='sum identifier id'>sum</span><span class='lparen token'>(</span><span class='identity identifier id'>identity</span> <span class='assign token'>=</span> <span class='integer val'>0</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='block_given? fid id'>block_given?</span>
    <span class='map identifier id'>map</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='sum identifier id'>sum</span>
  <span class='else else kw'>else</span>
    <span class='inject identifier id'>inject</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='sum identifier id'>sum</span><span class='comma token'>,</span> <span class='element identifier id'>element</span><span class='bitor op'>|</span> <span class='sum identifier id'>sum</span> <span class='plus op'>+</span> <span class='element identifier id'>element</span> <span class='rbrace token'>}</span> <span class='orop op'>||</span> <span class='identity identifier id'>identity</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="take-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>take</strong>(n) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Return the first n items from the collection</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


5
6
7
8
9
10
11
12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/take.rb', line 5</span>

<span class='def def kw'>def</span> <span class='take identifier id'>take</span><span class='lparen token'>(</span><span class='n identifier id'>n</span><span class='rparen token'>)</span>
  <span class='res identifier id'>res</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
  <span class='count identifier id'>count</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='e identifier id'>e</span><span class='bitor op'>|</span>
    <span class='break break kw'>break</span> <span class='if if_mod kw'>if</span> <span class='count identifier id'>count</span> <span class='geq op'>&gt;=</span> <span class='n identifier id'>n</span>
    <span class='res identifier id'>res</span> <span class='lshft op'>&lt;&lt;</span> <span class='e identifier id'>e</span>
    <span class='count identifier id'>count</span> <span class='opasgn op'>+=</span> <span class='integer val'>1</span>
  <span class='end end kw'>end</span>
  <span class='res identifier id'>res</span>
<span class='end end kw'>end</span> <span class='unless unless_mod kw'>unless</span> <span class='method_defined? fid id'>method_defined?</span><span class='lparen token'>(</span><span class='symbol val'>:take</span><span class='rparen token'>)</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_h-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_h</strong>(mode = nil) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Convert an Enumerable object into a hash by first turning it into an array.</p>

<p>CREDIT: Trans</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


227
228
229</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/to_hash.rb', line 227</span>

<span class='def def kw'>def</span> <span class='to_h identifier id'>to_h</span><span class='lparen token'>(</span><span class='mode identifier id'>mode</span><span class='assign token'>=</span><span class='nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='to_h identifier id'>to_h</span><span class='lparen token'>(</span><span class='mode identifier id'>mode</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_h_assoc-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_h_assoc</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


243
244
245</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/to_hash.rb', line 243</span>

<span class='def def kw'>def</span> <span class='to_h_assoc identifier id'>to_h_assoc</span>
  <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='to_h_assoc identifier id'>to_h_assoc</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_h_auto-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_h_auto</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


231
232
233</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/to_hash.rb', line 231</span>

<span class='def def kw'>def</span> <span class='to_h_auto identifier id'>to_h_auto</span>
  <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='to_h_auto identifier id'>to_h_auto</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_h_flat-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_h_flat</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


239
240
241</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/to_hash.rb', line 239</span>

<span class='def def kw'>def</span> <span class='to_h_flat identifier id'>to_h_flat</span>
  <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='to_h_flat identifier id'>to_h_flat</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_h_multi-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_h_multi</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


247
248
249</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/to_hash.rb', line 247</span>

<span class='def def kw'>def</span> <span class='to_h_multi identifier id'>to_h_multi</span>
  <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='to_h_multi identifier id'>to_h_multi</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_h_splat-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_h_splat</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


235
236
237</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/to_hash.rb', line 235</span>

<span class='def def kw'>def</span> <span class='to_h_splat identifier id'>to_h_splat</span>
  <span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='to_h_splat identifier id'>to_h_splat</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="uniq_by-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>uniq_by</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Like #uniq, but determines uniqueness based on a given block.</p>

<pre class="code"><span class='lparen token'>(</span><span class='float val'>-5</span><span class='dot2 op'>..</span><span class='integer val'>5</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_a identifier id'>to_a</span><span class='dot token'>.</span><span class='uniq_by identifier id'>uniq_by</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span> <span class='i identifier id'>i</span><span class='mult op'>*</span><span class='i identifier id'>i</span> <span class='rbrace token'>}</span>
<span class='comment val'>#=&gt; [-5, -4, -3, -2, -1, 0]</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/uniq_by.rb', line 8</span>

<span class='def def kw'>def</span> <span class='uniq_by identifier id'>uniq_by</span> 
  <span class='h identifier id'>h</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='semicolon token'>;</span> <span class='inject identifier id'>inject</span><span class='lparen token'>(</span><span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='a identifier id'>a</span><span class='comma token'>,</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='h identifier id'>h</span><span class='lbrack token'>[</span><span class='yield yield kw'>yield</span><span class='lparen token'>(</span><span class='x identifier id'>x</span><span class='rparen token'>)</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='a identifier id'>a</span> <span class='lshft op'>&lt;&lt;</span> <span class='x identifier id'>x</span><span class='rbrace token'>}</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="visit-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>visit</strong>(opts = {}, &amp;block) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Recursively iterate over all Enumerable elements, or subset given
:type=&gt;[type1, type2, …].</p>

<pre class="code"><span class='lbrack token'>[</span><span class='integer val'>1</span><span class='comma token'>,</span> <span class='integer val'>2</span><span class='comma token'>,</span> <span class='float val'>8</span><span class='dot2 op'>..</span><span class='integer val'>9</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='visit identifier id'>visit</span><span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='x identifier id'>x</span><span class='bitor op'>|</span> <span class='x identifier id'>x</span><span class='dot token'>.</span><span class='succ identifier id'>succ</span> <span class='rbrace token'>}</span>
<span class='comment val'># =&gt; [2, 3, [9, 10]]</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/core/facets/enumerable/visit.rb', line 9</span>

<span class='def def kw'>def</span> <span class='visit identifier id'>visit</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='type identifier id'>type</span> <span class='assign token'>=</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='rbrack token'>]</span> <span class='question op'>?</span> <span class='lbrack token'>[</span><span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:type</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span> <span class='colon op'>:</span> <span class='lbrack token'>[</span><span class='Enumerable constant id'>Enumerable</span><span class='rbrack token'>]</span>
  <span class='skip identifier id'>skip</span> <span class='assign token'>=</span> <span class='opts identifier id'>opts</span><span class='lbrack token'>[</span><span class='symbol val'>:skip</span><span class='rbrack token'>]</span>

  <span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='v identifier id'>v</span><span class='bitor op'>|</span>
    <span class='case case kw'>case</span> <span class='v identifier id'>v</span>
    <span class='when when kw'>when</span> <span class='String constant id'>String</span> <span class='comment val'># b/c of 1.8</span>
      <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='rparen token'>)</span>
    <span class='when when kw'>when</span> <span class='mult op'>*</span><span class='type identifier id'>type</span>
      <span class='v identifier id'>v</span><span class='dot token'>.</span><span class='visit identifier id'>visit</span><span class='lparen token'>(</span><span class='opts identifier id'>opts</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='else else kw'>else</span>
      <span class='if if kw'>if</span> <span class='skip identifier id'>skip</span> <span class='andop op'>&amp;&amp;</span> <span class='Enumerable constant id'>Enumerable</span> <span class='eqq op'>===</span> <span class='v identifier id'>v</span>
        <span class='v identifier id'>v</span>
      <span class='else else kw'>else</span>
        <span class='block identifier id'>block</span><span class='dot token'>.</span><span class='call identifier id'>call</span><span class='lparen token'>(</span><span class='v identifier id'>v</span><span class='rparen token'>)</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Tue May 17 02:26:50 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.7 (ruby-1.8.7).
</div>

  </body>
</html>