<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

  <title>Module [Facets Tour]</title>

  <link rel="SHORTCUT ICON" href="./assets/icon/file.png">

  <link type="text/css" rel="stylesheet" href="./assets/rdoc.css" media="screen" />
  <link type="text/css" rel="stylesheet" href="./assets/nav.css"  media="screen" />
  <link type="text/css" rel="stylesheet" href="./assets/quicksearch.css" media="screen" />
  <link type="text/css" rel="stylesheet" href="./assets/highlight/styles/github.css" title="GitHub" />

  <script type="text/javascript" charset="utf-8" src="./assets/jquery.js"></script>
  <script type="text/javascript" charset="utf-8" src="./assets/highlight/highlight.pack.js"></script>
  <script type="text/javascript" charset="utf-8" src="./assets/quicksearch.js"></script>
  <script type="text/javascript" charset="utf-8" src="./assets/main.js"></script>

  <script type="text/javascript">
    $(document).ready( function() {
      hookHighlightSyntax();
	    hookSourceViews();
	    hookDebuggingToggle();
	    hookQuickSearch();
	    highlightLocationTarget();

	    $('ul.link-list a').bind("click", highlightClickTarget);
    });
  </script>
</head>

<body class="class"> <!-- .file-popup is no more -->
<div id="main">

<!-- DROPDOWN MENUS -->
<div class="dropdown">

  <button onclick="toggleMenu('#fileindex-section');">File List</button>
  <button onclick="toggleMenu('#classindex-section');">Class List</button>
  <button onclick="toggleMenu('#methodindex-section');">Method List</button>

  <!-- FILES -->

  
    <div id="fileindex-section" class="nav section project-section" style="display: none;">
      <h3 class="section-header">Information</h3>
      <ul>
      
        <li class="file">
          <a href="./README_rdoc.html">README.rdoc</a>
        </li>
      
      </ul>
    </div>
  

  <!-- CLASSES/MODULES -->

  <div id="classindex-section" class="nav section project-section" style="display: none;">
    <h3 class="section-header">Class Index
      <span class="search-toggle">
        <img src="./assets/icon/find.png" height="16" width="16" alt="[+]" title="show/hide quicksearch" />
      </span>
    </h3>
    <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
    <fieldset>
      <legend>Quicksearch</legend>
      <input type="text" name="quicksearch" value="" class="quicksearch-field" />
    </fieldset>
    </form>

    <ul class="link-list">
    
      <li class="class">
        <a href="./Method.html">Method</a>
      </li>
    
      <li class="module">
        <a href="./Method/receiver;.html">Method::receiver;</a>
      </li>
    
      <li class="class">
        <a href="./Module.html">Module</a>
      </li>
    
      <li class="module">
        <a href="./Module/InstanceFunction.html">Module::InstanceFunction</a>
      </li>
    
      <li class="class">
        <a href="./Object.html">Object</a>
      </li>
    
      <li class="class">
        <a href="./Array.html">Array</a>
      </li>
    
      <li class="class">
        <a href="./Class.html">Class</a>
      </li>
    
      <li class="class">
        <a href="./Integer.html">Integer</a>
      </li>
    
      <li class="module">
        <a href="./Kernel.html">Kernel</a>
      </li>
    
      <li class="class">
        <a href="./Regexp.html">Regexp</a>
      </li>
    
      <li class="class">
        <a href="./String.html">String</a>
      </li>
    
    </ul>
    <div id="no-class-search-results" style="display: none;">No matching classes.</div>
  </div>


  <!-- METHODS -->

  <div id="methodindex-section" class="nav section project-section" style="display: none;">
    <h3 class="section-header">Method Index
      <span class="search-toggle">
        <img src="./assets/icon/find.png" height="16" width="16" alt="[+]" title="show/hide quicksearch" />
      </span>
    </h3>
    <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
    <fieldset>
      <legend>Quicksearch</legend>
      <input type="text" name="quicksearch" value="" class="quicksearch-field" />
    </fieldset>
    </form>
    <ul>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">String</span>
        <a href="./String.html#method-i-_crypt">#_crypt</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-alias_tester">#alias_tester</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-alias_validator">#alias_validator</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-attr_class_accessor">#attr_class_accessor</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-attr_class_reader">#attr_class_reader</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-attr_class_writer">#attr_class_writer</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-attr_inheritable_reader">#attr_inheritable_reader</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-attr_tester">#attr_tester</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-attr_validator">#attr_validator</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-cattr">#cattr</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-cattr_accessor">#cattr_accessor</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-cattr_reader">#cattr_reader</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-cattr_writer">#cattr_writer</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-class_accessor">#class_accessor</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-class_extend">#class_extend</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Class</span>
        <a href="./Class.html#method-i-class_extend">#class_extend</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-class_extensions">#class_extensions</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-class_inheritor">#class_inheritor</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-class_load">#class_load</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-class_reader">#class_reader</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-class_require">#class_require</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-class_writer">#class_writer</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-copy_inheritor">#copy_inheritor</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">String</span>
        <a href="./String.html#method-i-crypt">#crypt</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Kernel</span>
        <a href="./Kernel.html#method-i-demo">#demo</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Kernel</span>
        <a href="./Kernel.html#method-i-eigenclass">#eigenclass</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-enclosure">#enclosure</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-enclosures">#enclosures</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-include_as">#include_as</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Object</span>
        <a href="./Object.html#method-i-instance_exec">#instance_exec</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-instance_function">#instance_function</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-mattr">#mattr</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-mattr_accessor">#mattr_accessor</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-mattr_reader">#mattr_reader</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-mattr_writer">#mattr_writer</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Array</span>
        <a href="./Array.html#method-i-median">#median</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Kernel</span>
        <a href="./Kernel.html#method-i-memo">#memo</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Method</span>
        <a href="./Method.html#method-i-memoize">#memoize</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-memoize">#memoize</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-method_space">#method_space</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-module_load">#module_load</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-module_require">#module_require</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Array</span>
        <a href="./Array.html#method-i-percentile">#percentile</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Class</span>
        <a href="./Class.html#method-i-preallocate">#preallocate</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module</span>
        <a href="./Module.html#method-i-prepend">#prepend</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Integer</span>
        <a href="./Integer.html#method-i-roman">#roman</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Object</span>
        <a href="./Object.html#method-i-roman">#roman</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Object</span>
        <a href="./Object.html#method-i-roman%3F">#roman?</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Module::InstanceFunction</span>
        <a href="./Module/InstanceFunction.html#method-i-singleton_method_added">#singleton_method_added</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Kernel</span>
        <a href="./Kernel.html#method-i-trap_chain">#trap_chain</a>
      </li>
    
      
      <li class="method" style="clear: both;">
        <span class="method-parent-aside">Regexp</span>
        <a href="./Regexp.html#method-i-%7C">#|</a>
      </li>
    
    </ul>
  </div>

</div>


<div class="head">
  <h1>
    
      <img src="assets/icon/class.png" align="absmiddle">&nbsp;
    
    <a href="./index.html">Facets Tour</a>&nbsp;
    <a href="/">Module</a>
  </h1>
</div>

<div id="documentation">

  <div id="description">
    
      <h1>Module</h1>
    

    
  </div>

  <!-- Parent Class -->
  
  <div id="parent-class-section" class="section">
    <h3 class="section-header">Parent</h3>
    <ul>
      
      <!-- why was this class="link" ? -->
      <li class="class"><a href="Object.html">Object</a></li>
      
    </ul>
  </div>
  

  <!-- Namespace Contents -->
  
  <div id="namespace-list-section" class="section">
    <h3 class="section-header">Namespace</h3>
    <ul class="link-list">
      
      <li class="module"><a href="Module/InstanceFunction.html">Module::InstanceFunction</a></li>
      
    </ul>
  </div>
  

  <!-- Included Modules -->
  
  <div id="includes-section" class="section">
    <h3 class="section-header">Included Modules</h3>
    <ul class="link-list">
    
    
      <li class="module"><span class="include">Memoizable</span></li>
    
    
    </ul>
  </div>
  

  <!-- Constants -->
  

  <!-- Attributes -->
  

  <!-- Methods -->
  
  <div id="public-instance-method-details" class="method-section section">
    <h3 class="section-header">Public Instance Methods</h3>

  
    <div id="alias-tester-method" class="method-detail ">
      <a name="method-i-alias_tester"></a>

      <div class="method-heading">
      
        <span class="method-name">alias_tester</span><span
          class="method-args">(*args)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Create aliases for flag reader.
</p>
<p>
CREDIT: Trans
</p>
        

        
        <div class="method-source-code"
          id="alias-tester-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/attr_tester.rb, line 32</span>
32:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">alias_tester</span>(*<span class="ruby-identifier">args</span>)
33:     <span class="ruby-identifier">orig</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>
34:     <span class="ruby-identifier">args</span> = <span class="ruby-identifier">args</span> <span class="ruby-operator">-</span> [<span class="ruby-identifier">orig</span>]
35:     <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
36:       <span class="ruby-identifier">alias_method</span>(<span class="ruby-node">&quot;#{name}?&quot;</span>, <span class="ruby-node">&quot;#{orig}?&quot;</span>)
37:     <span class="ruby-keyword kw">end</span>
38:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="alias-validator-method" class="method-detail ">
      <a name="method-i-alias_validator"></a>

      <div class="method-heading">
      
        <span class="method-name">alias_validator</span><span
          class="method-args">(*args)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Create aliases for validators.
</p>
        

        
        <div class="method-source-code"
          id="alias-validator-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/attr_validator.rb, line 24</span>
24:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">alias_validator</span>(*<span class="ruby-identifier">args</span>)
25:     <span class="ruby-identifier">orig</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">last</span>
26:     <span class="ruby-identifier">args</span> = <span class="ruby-identifier">args</span> <span class="ruby-operator">-</span> [<span class="ruby-identifier">orig</span>]
27:     <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
28:       <span class="ruby-comment cmt">#alias_method(name, orig)</span>
29:       <span class="ruby-identifier">alias_method</span>(<span class="ruby-node">&quot;#{name}=&quot;</span>, <span class="ruby-node">&quot;#{orig}=&quot;</span>)
30:     <span class="ruby-keyword kw">end</span>
31:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="attr-class-accessor-method" class="method-detail ">
      <a name="method-i-attr_class_accessor"></a>

      <div class="method-heading">
      
        <span class="method-name">attr_class_accessor</span><span
          class="method-args">(name)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        
        

        
        <div class="method-source-code"
          id="attr-class-accessor-source">
<pre>
   <span class="ruby-comment cmt"># File lib/tour/facets/module/attr_class_accessor.rb, line 4</span>
4:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attr_class_accessor</span>(<span class="ruby-identifier">name</span>)
5:     <span class="ruby-identifier">attr_class_reader</span>(<span class="ruby-identifier">name</span>)
6:     <span class="ruby-identifier">attr_class_writer</span>(<span class="ruby-identifier">name</span>)
7:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="attr-class-reader-method" class="method-detail ">
      <a name="method-i-attr_class_reader"></a>

      <div class="method-heading">
      
        <span class="method-name">attr_class_reader</span><span
          class="method-args">(name)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        
        

        
        <div class="method-source-code"
          id="attr-class-reader-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/attr_class_accessor.rb, line 10</span>
10:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attr_class_reader</span>(<span class="ruby-identifier">name</span>)
11:     <span class="ruby-identifier">module_eval</span>(<span class="ruby-value str">      def self.#{name}        @#{name}      end      def #{name}        self.class.#{name}      end</span>, <span class="ruby-keyword kw">__FILE__</span>, <span class="ruby-keyword kw">__LINE__</span>)
12:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="attr-class-writer-method" class="method-detail ">
      <a name="method-i-attr_class_writer"></a>

      <div class="method-heading">
      
        <span class="method-name">attr_class_writer</span><span
          class="method-args">(name)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        
        

        
        <div class="method-source-code"
          id="attr-class-writer-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/attr_class_accessor.rb, line 22</span>
22:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attr_class_writer</span>(<span class="ruby-identifier">name</span>)
23:     <span class="ruby-identifier">module_eval</span>(<span class="ruby-value str">      def self.#{name}=(x)        @#{name} = x      end      def #{name}=(x)        self.class.#{name} = x      end</span>, <span class="ruby-keyword kw">__FILE__</span>, <span class="ruby-keyword kw">__LINE__</span>)
24:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="attr-inheritable-reader-method" class="method-detail ">
      <a name="method-i-attr_inheritable_reader"></a>

      <div class="method-heading">
      
        <span class="method-name">attr_inheritable_reader</span><span
          class="method-args">(name, default)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        
        

        
        <div class="method-source-code"
          id="attr-inheritable-reader-source">
<pre>
   <span class="ruby-comment cmt"># File lib/tour/facets/module/attr_inheritor.rb, line 4</span>
4:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attr_inheritable_reader</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">default</span>)
5:     <span class="ruby-identifier">copy_inheritor</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">default</span>)
6:     <span class="ruby-identifier">module_eval</span>(<span class="ruby-value str">      def #{name}        self.class.#{name}      end</span>, <span class="ruby-keyword kw">__FILE__</span>, <span class="ruby-keyword kw">__LINE__</span>)
7:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="attr-tester-method" class="method-detail ">
      <a name="method-i-attr_tester"></a>

      <div class="method-heading">
      
        <span class="method-name">attr_tester</span><span
          class="method-args">(*args)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Create an tester attribute. This creates a single method used to test the
attribute for truth.
</p>
<pre>
  attr_tester :a
</pre>
<p>
is equivalent to
</p>
<pre>
  def a?
    @a ? true : @a
  end</pre>
        

        
        <div class="method-source-code"
          id="attr-tester-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/attr_tester.rb, line 14</span>
14:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attr_tester</span>(*<span class="ruby-identifier">args</span>)
15:     <span class="ruby-identifier">code</span>, <span class="ruby-identifier">made</span> = <span class="ruby-value str">''</span>, []
16:     <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
17:       <span class="ruby-identifier">code</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">%{
18:         def #{a}?(truth=nil)
19:           @#{a} ? truth || @#{a} : @#{a}
20:         end
21:       }</span>
22:       <span class="ruby-identifier">made</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{a}?&quot;</span>.<span class="ruby-identifier">to_sym</span>
23:     <span class="ruby-keyword kw">end</span>
24:     <span class="ruby-identifier">module_eval</span> <span class="ruby-identifier">code</span>
25:     <span class="ruby-identifier">made</span>
26:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="attr-validator-method" class="method-detail ">
      <a name="method-i-attr_validator"></a>

      <div class="method-heading">
      
        <span class="method-name">attr_validator</span><span
          class="method-args">(*symbols, &validator)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Like attr_writer, but the writer method validates the setting against the
given block.
</p>
<p>
CREDIT: ?
</p>
        

        
        <div class="method-source-code"
          id="attr-validator-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/attr_validator.rb, line 8</span>
 8:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attr_validator</span>(*<span class="ruby-identifier">symbols</span>, &amp;<span class="ruby-identifier">validator</span>)
 9:     <span class="ruby-identifier">made</span> = []
10:     <span class="ruby-identifier">symbols</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">symbol</span><span class="ruby-operator">|</span>
11:       <span class="ruby-identifier">define_method</span> <span class="ruby-node">&quot;#{symbol}=&quot;</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">val</span><span class="ruby-operator">|</span>
12:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">validator</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">val</span>)
13:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;Invalid value provided for #{symbol}&quot;</span>
14:         <span class="ruby-keyword kw">end</span>
15:         <span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-node">&quot;@#{symbol}&quot;</span>, <span class="ruby-identifier">val</span>)
16:       <span class="ruby-keyword kw">end</span>
17:       <span class="ruby-identifier">made</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{symbol}=&quot;</span>.<span class="ruby-identifier">to_sym</span>
18:     <span class="ruby-keyword kw">end</span>
19:     <span class="ruby-identifier">made</span>
20:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="cattr-method" class="method-detail ">
      <a name="method-i-cattr"></a>

      <div class="method-heading">
      
        <span class="method-name">cattr</span><span
          class="method-args">(*syms)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Creates a class-variable attribute that can be accessed both on an instance
and class level.
</p>
<pre>
  class CARExample
    @@a = 10
    cattr :a
  end

  CARExample.a           #=&gt; 10
  CARExample.new.a       #=&gt; 10
</pre>
<p>
CREDIT: David Heinemeier Hansson
</p>
        

        
        <div class="method-source-code"
          id="cattr-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/cattr.rb, line 15</span>
15:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cattr</span>(*<span class="ruby-identifier">syms</span>)
16:     <span class="ruby-identifier">writers</span>, <span class="ruby-identifier">readers</span> = <span class="ruby-identifier">syms</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">partition</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/=$/</span> }
17:     <span class="ruby-identifier">writers</span> = <span class="ruby-identifier">writers</span>.<span class="ruby-identifier">map</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-value str">'='</span>).<span class="ruby-identifier">to_sym</span> }
18:     <span class="ruby-comment cmt">##readers.concat( writers ) # writers also get readers</span>
19: 
20:     <span class="ruby-identifier">cattr_reader</span>(*<span class="ruby-identifier">readers</span>)
21:     <span class="ruby-identifier">cattr_writer</span>(*<span class="ruby-identifier">writers</span>)
22: 
23:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">readers</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">writers</span>
24:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="cattr-accessor-method" class="method-detail ">
      <a name="method-i-cattr_accessor"></a>

      <div class="method-heading">
      
        <span class="method-name">cattr_accessor</span><span
          class="method-args">(*syms)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Creates a class-variable attr_accessor that can be accessed both on an
instance and class level.
</p>
<pre>
  class CAAExample
    cattr_accessor :a
  end

  CAAExample.a = 10
  CAAExample.a           #=&gt; 10
  mc = CAAExample.new
  mc.a                   #=&gt; 10
</pre>
<p>
CREDIT: David Heinemeier Hansson
</p>
        

        
        <div class="method-source-code"
          id="cattr-accessor-source">
<pre>
     <span class="ruby-comment cmt"># File lib/tour/facets/module/cattr.rb, line 105</span>
105:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cattr_accessor</span>(*<span class="ruby-identifier">syms</span>)
106:     <span class="ruby-identifier">cattr_reader</span>(*<span class="ruby-identifier">syms</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">cattr_writer</span>(*<span class="ruby-identifier">syms</span>)
107:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="cattr-reader-method" class="method-detail ">
      <a name="method-i-cattr_reader"></a>

      <div class="method-heading">
      
        <span class="method-name">cattr_reader</span><span
          class="method-args">(*syms)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Creates a class-variable attr_reader that can be accessed both on an
instance and class level.
</p>
<pre>
  class CARExample
    @@a = 10
    cattr_reader :a
  end

  CARExample.a           #=&gt; 10
  CARExample.new.a       #=&gt; 10
</pre>
<p>
CREDIT: David Heinemeier Hansson
</p>
        

        
        <div class="method-source-code"
          id="cattr-reader-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/cattr.rb, line 38</span>
38:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cattr_reader</span>(*<span class="ruby-identifier">syms</span>)
39:     <span class="ruby-identifier">syms</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">sym</span><span class="ruby-operator">|</span>
40:       <span class="ruby-identifier">module_eval</span>(<span class="ruby-value str">        unless defined? @@#{sym}          @@#{sym} = nil        end        def self.#{sym}          @@#{sym}        end        def #{sym}          @@#{sym}        end</span>, <span class="ruby-keyword kw">__FILE__</span>, <span class="ruby-keyword kw">__LINE__</span>)
41:     <span class="ruby-keyword kw">end</span>
42:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">syms</span>
43:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="cattr-writer-method" class="method-detail ">
      <a name="method-i-cattr_writer"></a>

      <div class="method-heading">
      
        <span class="method-name">cattr_writer</span><span
          class="method-args">(*syms)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Creates a class-variable attr_writer that can be accessed both on an
instance and class level.
</p>
<pre>
  class CAWExample
    cattr_writer :a
    def self.a
      @@a
    end
  end

  CAWExample.a = 10
  CAWExample.a            #=&gt; 10
  CAWExample.new.a = 29
  CAWExample.a            #=&gt; 29
</pre>
<p>
CREDIT: David Heinemeier Hansson
</p>
        

        
        <div class="method-source-code"
          id="cattr-writer-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/cattr.rb, line 73</span>
73:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cattr_writer</span>(*<span class="ruby-identifier">syms</span>)
74:     <span class="ruby-identifier">syms</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">sym</span><span class="ruby-operator">|</span>
75:       <span class="ruby-identifier">module_eval</span>(<span class="ruby-value str">        unless defined? @@#{sym}          @@#{sym} = nil        end        def self.#{sym}=(obj)          @@#{sym} = obj        end        def #{sym}=(obj)          @@#{sym}=(obj)        end</span>, <span class="ruby-keyword kw">__FILE__</span>, <span class="ruby-keyword kw">__LINE__</span>)
76:     <span class="ruby-keyword kw">end</span>
77:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">syms</span>
78:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="class-accessor-method" class="method-detail ">
      <a name="method-i-class_accessor"></a>

      <div class="method-heading">
      
        <span class="method-name">class_accessor</span><span
          class="method-args">(name)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        
        

        
        <div class="method-source-code"
          id="class-accessor-source">
<pre>
   <span class="ruby-comment cmt"># File lib/tour/facets/module/class_accessor.rb, line 4</span>
4:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">class_accessor</span>(<span class="ruby-identifier">name</span>)
5:     <span class="ruby-identifier">class_reader</span>(<span class="ruby-identifier">name</span>)
6:     <span class="ruby-identifier">class_writer</span>(<span class="ruby-identifier">name</span>)
7:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="class-extend-method" class="method-detail ">
      <a name="method-i-class_extend"></a>

      <div class="method-heading">
      
        <span class="method-name">class_extend</span><span
          class="method-args">(*mods, &block)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Normally when including modules, class/module methods are not extended. To
achieve this behavior requires some clever Ruby Karate. Instead <a
href="Module.html#method-i-class_extend">class_extend</a> provides an easy
to use and clean solution. Simply place the extending class methods in a
block of the special module method <a
href="Module.html#method-i-class_extend">class_extend</a>.
</p>
<pre>
  module Mix
    def inst_meth
      puts 'inst_meth'
    end

    class_extend do
      def class_meth
        &quot;Class Method!&quot;
      end
    end
  end

  class X
    include Mix
  end

  X.class_meth  #=&gt; &quot;Class Method!&quot;
</pre>
<p>
NOTE: This old class_extension version of this method did not extend the
containing class automatically &#8212;it had to be done by hand. With <a
href="Module.html#method-i-class_extend">class_extend</a>, that is no
longer the case.
</p>
<p>
CREDIT: Daniel Schierbeck, Thomas Sawyer
</p>
<p>
THANKS: Nobu Nakada, Ulysses
</p>
        

        
        <div class="method-source-code"
          id="class-extend-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/class_extend.rb, line 36</span>
36:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">class_extend</span>(*<span class="ruby-identifier">mods</span>, &amp;<span class="ruby-identifier">block</span>)
37:     <span class="ruby-identifier">class_extension</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
38: 
39:     <span class="ruby-identifier">class_extension</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-value">:include</span>, *<span class="ruby-identifier">mods</span>)
40:     <span class="ruby-identifier">class_extension</span>.<span class="ruby-identifier">module_eval</span>(&amp;<span class="ruby-identifier">block</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
41: 
42:     <span class="ruby-identifier">extend</span>(<span class="ruby-identifier">class_extension</span>)  <span class="ruby-comment cmt"># extend this module too</span>
43: 
44:     <span class="ruby-identifier">append_method</span> = <span class="ruby-identifier">method</span>(<span class="ruby-value">:append_features</span>)
45: 
46:     (<span class="ruby-keyword kw">class</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword kw">self</span>; <span class="ruby-keyword kw">self</span>; <span class="ruby-keyword kw">end</span>).<span class="ruby-identifier">class_eval</span> <span class="ruby-keyword kw">do</span>
47:       <span class="ruby-identifier">define_method</span>(<span class="ruby-value">:append_features</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mod</span><span class="ruby-operator">|</span>
48:         <span class="ruby-identifier">append_method</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">mod</span>)
49:         <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">extend</span>(<span class="ruby-identifier">class_extension</span>)
50:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">instance_of?</span>(<span class="ruby-constant">Module</span>)
51:           <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-value">:class_extend</span>, <span class="ruby-identifier">class_extension</span>)
52:         <span class="ruby-keyword kw">end</span>
53:       <span class="ruby-keyword kw">end</span>
54:     <span class="ruby-keyword kw">end</span>
55: 
56:     <span class="ruby-identifier">class_extensions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">class_extension</span>
57:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="class-extensions-method" class="method-detail ">
      <a name="method-i-class_extensions"></a>

      <div class="method-heading">
      
        <span class="method-name">class_extensions</span><span
          class="method-args">()</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        
        

        
        <div class="method-source-code"
          id="class-extensions-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/class_extend.rb, line 62</span>
62:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">class_extensions</span>
63:     <span class="ruby-ivar">@class_extensions</span> <span class="ruby-operator">||=</span> []
64:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="class-inheritor-method" class="method-detail ">
      <a name="method-i-class_inheritor"></a>

      <div class="method-heading">
      
        <span class="method-name">class_inheritor</span><span
          class="method-args">(key, obj, op=nil, &fop)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <h1><a href="Class.html">Class</a> Inheritor</h1>
<p>
Create an dynamic class inheritable attribute.
</p>
<p>
Inheritor providse a means to store and inherit data via the class
heirarchy. An inheritor creates two methods one named after the key that
provides a reader. And one named after key! which provides the writer.
(Because of the unique nature of inheritor the reader and writer
can&#8217;t be the same method.)
</p>
<p>
The first argument is the inheritor&#8217;s name. The second argument is
the archtype object. This object must be duplicable (via dup). The last
argument is either the symbolic operator/method or a block that specifies
how one hierarchical level &#8220;integrates&#8221; with the next.
</p>
<pre>
  class X
    class_inheritor :x, [], :+
  end

  class Y &lt; X
  end

  X.x! &lt;&lt; :a
  X.x  #=&gt; [:a]
  Y.x  #=&gt; [:a]

  Y.x! &lt;&lt; :b
  X.x  #=&gt; [:a]
  Y.x  #=&gt; [:a, :b]
</pre>
<p>
NOTE: Adding an inheritor directly to <a href="Module.html">Module</a> or
<a href="Class.html">Class</a> will probably not do what is expected.
Thankfully that usecase is likely a YAGNI, but in anycase it is even more
likely that it is not possible with this code.
</p>
<p>
CREDIT: Thomas Sawyer
</p>
        

        
        <div class="method-source-code"
          id="class-inheritor-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/class_inheritor.rb, line 42</span>
42:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">class_inheritor</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">obj</span>, <span class="ruby-identifier">op</span>=<span class="ruby-keyword kw">nil</span>, &amp;<span class="ruby-identifier">fop</span>)
43:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">op</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">fop</span>
44: 
45:     <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">fop</span>
46:       <span class="ruby-identifier">op</span>  = <span class="ruby-identifier">op</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">op</span>.<span class="ruby-identifier">to_sym</span> <span class="ruby-operator">:</span> <span class="ruby-value">:+</span>
47:       <span class="ruby-identifier">fop</span> = <span class="ruby-identifier">lambda</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">o</span>, <span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">op</span>, <span class="ruby-identifier">x</span>) }
48:     <span class="ruby-keyword kw">end</span>
49: 
50:     <span class="ruby-comment cmt">#(class &lt;&lt; self; self; end).module_eval do</span>
51:     <span class="ruby-identifier">class_extend</span> <span class="ruby-keyword kw">do</span>
52: 
53:       <span class="ruby-identifier">define_method</span>(<span class="ruby-identifier">key</span>) <span class="ruby-keyword kw">do</span>
54:         <span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">reverse</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-identifier">obj</span>.<span class="ruby-identifier">dup</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">o</span>, <span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
55:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-node">&quot;#{key}!&quot;</span>)
56:             <span class="ruby-identifier">fop</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">o</span>, <span class="ruby-identifier">a</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-node">&quot;#{key}!&quot;</span>))
57:           <span class="ruby-keyword kw">else</span>
58:             <span class="ruby-identifier">o</span>
59:           <span class="ruby-keyword kw">end</span>
60:         <span class="ruby-keyword kw">end</span>
61:       <span class="ruby-keyword kw">end</span>
62: 
63:       <span class="ruby-identifier">define_method</span>(<span class="ruby-node">&quot;#{key}!&quot;</span>) <span class="ruby-keyword kw">do</span>
64:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">instance_variable_defined?</span>(<span class="ruby-node">&quot;@#{key}&quot;</span>)
65:           <span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-node">&quot;@#{key}&quot;</span>)
66:         <span class="ruby-keyword kw">else</span>
67:           <span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-node">&quot;@#{key}&quot;</span>, <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">dup</span>)
68:         <span class="ruby-keyword kw">end</span>
69:       <span class="ruby-keyword kw">end</span>
70: 
71:     <span class="ruby-keyword kw">end</span>
72:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="class-load-method" class="method-detail method-alias">
      <a name="method-i-class_load"></a>

      <div class="method-heading">
      
        <span class="method-name">class_load</span><span
          class="method-args">( path )</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        
        

        
      </div>

      
    </div>

  
    <div id="class-reader-method" class="method-detail ">
      <a name="method-i-class_reader"></a>

      <div class="method-heading">
      
        <span class="method-name">class_reader</span><span
          class="method-args">(name)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        
        

        
        <div class="method-source-code"
          id="class-reader-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/class_accessor.rb, line 10</span>
10:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">class_reader</span>(<span class="ruby-identifier">name</span>)
11:     <span class="ruby-identifier">module_eval</span>(<span class="ruby-value str">      def self.#{name}        @#{name}      end</span>, <span class="ruby-keyword kw">__FILE__</span>, <span class="ruby-keyword kw">__LINE__</span>)
12:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="class-require-method" class="method-detail method-alias">
      <a name="method-i-class_require"></a>

      <div class="method-heading">
      
        <span class="method-name">class_require</span><span
          class="method-args">( path )</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        
        

        
      </div>

      
    </div>

  
    <div id="class-writer-method" class="method-detail ">
      <a name="method-i-class_writer"></a>

      <div class="method-heading">
      
        <span class="method-name">class_writer</span><span
          class="method-args">(name)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        
        

        
        <div class="method-source-code"
          id="class-writer-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/class_accessor.rb, line 19</span>
19:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">class_writer</span>(<span class="ruby-identifier">name</span>)
20:     <span class="ruby-identifier">module_eval</span>(<span class="ruby-value str">      def self.#{name}=(x)        @#{name} = x      end</span>, <span class="ruby-keyword kw">__FILE__</span>, <span class="ruby-keyword kw">__LINE__</span>)
21:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="copy-inheritor-method" class="method-detail ">
      <a name="method-i-copy_inheritor"></a>

      <div class="method-heading">
      
        <span class="method-name">copy_inheritor</span><span
          class="method-args">(name, default={})</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Like <a href="Module.html#method-i-class_inheritor">class_inheritor</a> but
non-dynamic. The value of the inheritor is copied from the ancestor on
first read.
</p>
<pre>
  c = Class.new do
    def self.x; ['x']; end
  end

  d = Class.new(c) do
    copy_inheritor :x
  end

  d.x  #=&gt; ['x']
</pre>
<p>
CREDIT: Thomas Sawyer
</p>
        

        
        <div class="method-source-code"
          id="copy-inheritor-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/copy_inheritor.rb, line 20</span>
20:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">copy_inheritor</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">default</span>={})
21:     <span class="ruby-identifier">class_extend</span> <span class="ruby-keyword kw">do</span>
22:       <span class="ruby-identifier">define_method</span>(<span class="ruby-identifier">name</span>) <span class="ruby-keyword kw">do</span>
23:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">instance_variable_defined?</span>(<span class="ruby-node">&quot;@#{name}&quot;</span>)
24:           <span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-node">&quot;@#{name}&quot;</span>)
25:         <span class="ruby-keyword kw">else</span>
26:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">anc</span> = <span class="ruby-identifier">ancestors</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>].<span class="ruby-identifier">find</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">name</span>) }
27:             <span class="ruby-identifier">value</span> = <span class="ruby-identifier">anc</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">name</span>)
28:             <span class="ruby-identifier">value</span> = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">dup</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-identifier">value</span>
29:             <span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-node">&quot;@#{name}&quot;</span>, <span class="ruby-identifier">value</span>)
30:           <span class="ruby-keyword kw">else</span>
31:             <span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-node">&quot;@#{name}&quot;</span>, <span class="ruby-identifier">default</span>)
32:           <span class="ruby-keyword kw">end</span>
33:         <span class="ruby-keyword kw">end</span>
34:       <span class="ruby-keyword kw">end</span>
35:     <span class="ruby-keyword kw">end</span>
36:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="enclosure-method" class="method-detail ">
      <a name="method-i-enclosure"></a>

      <div class="method-heading">
      
        <span class="method-name">enclosure</span><span
          class="method-args">()</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Returns the module which contains this one according to its name.
</p>
<pre>
  module ::EncExample
    module M
      module N
      end
    end
  end

  EncExample::M::N.enclosure  #=&gt; EncExample::M
</pre>
<p>
The enclosure of top-level and anonymous modules is <a
href="Object.html">Object</a>.
</p>
<pre>
  EncExample.enclosure   #=&gt; Object
  Module.new.enclosure   #=&gt; Object</pre>
        

        
        <div class="method-source-code"
          id="enclosure-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/enclosure.rb, line 19</span>
19:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">enclosure</span>
20:     <span class="ruby-identifier">name</span> = <span class="ruby-regexp re">/::[^:]+\Z/</span> <span class="ruby-operator">=~</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">?</span> <span class="ruby-node">$`</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
21:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span>
22:       <span class="ruby-comment cmt">#base = name.sub!(/^::/, '') ? Object : self</span>
23:       <span class="ruby-identifier">name</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/::/</span>).<span class="ruby-identifier">inject</span>(<span class="ruby-keyword kw">self</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mod</span>, <span class="ruby-identifier">cref</span><span class="ruby-operator">|</span>
24:         <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/\:(0x.*?)\&gt;$/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">cref</span>   <span class="ruby-comment cmt"># TODO: does this ever happen?</span>
25:           <span class="ruby-comment cmt">#p $1.to_i(16)</span>
26:           <span class="ruby-constant">ObjectSpace</span>.<span class="ruby-identifier">_idref</span>(<span class="ruby-node">$1</span>.<span class="ruby-identifier">to_i</span>(<span class="ruby-value">16</span>))
27:         <span class="ruby-keyword kw">else</span>
28:           <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">cref</span>)
29:         <span class="ruby-keyword kw">end</span>
30:       <span class="ruby-keyword kw">end</span>
31:     <span class="ruby-keyword kw">else</span>
32:       <span class="ruby-constant">Object</span>
33:     <span class="ruby-keyword kw">end</span>
34:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="enclosures-method" class="method-detail ">
      <a name="method-i-enclosures"></a>

      <div class="method-heading">
      
        <span class="method-name">enclosures</span><span
          class="method-args">()</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Returns all the namespaces of this module according ordered from nearest
and moving outwards. The receiver is not contained within the result.
</p>
<pre>
  module ::EncExample
    module M
      module N
      end
    end
  end

  EncExample.enclosures        #=&gt; [Object]
  EncExample::M.enclosures     #=&gt; [EncExample, Object]
  EncExample::M::N.enclosures  #=&gt; [EncExample::M, EncExample, Object]</pre>
        

        
        <div class="method-source-code"
          id="enclosures-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/enclosure.rb, line 51</span>
51:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">enclosures</span>
52:     <span class="ruby-identifier">n</span> = []
53:     <span class="ruby-identifier">name</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/::/</span>).<span class="ruby-identifier">inject</span>(<span class="ruby-keyword kw">self</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mod</span>, <span class="ruby-identifier">cref</span><span class="ruby-operator">|</span>
54:       <span class="ruby-identifier">c</span> = <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">const_get</span>(<span class="ruby-identifier">cref</span>) ; <span class="ruby-identifier">n</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-identifier">c</span>) ; <span class="ruby-identifier">c</span>
55:     <span class="ruby-keyword kw">end</span>
56:     <span class="ruby-identifier">n</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Object</span> <span class="ruby-comment cmt"># ?</span>
57:     <span class="ruby-identifier">n</span>.<span class="ruby-identifier">shift</span> <span class="ruby-comment cmt"># we really don't need +self+ too.</span>
58:     <span class="ruby-identifier">n</span>
59:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="include-as-method" class="method-detail ">
      <a name="method-i-include_as"></a>

      <div class="method-heading">
      
        <span class="method-name">include_as</span><span
          class="method-args">(h)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Include a module via a specified space.
</p>
<pre>
  module T
    def t ; &quot;HERE&quot; ; end
  end

  class X
    include_as :test =&gt; T
    def t ; test.t ; end
  end

  X.new.t  #=&gt; &quot;HERE&quot;</pre>
        

        
        <div class="method-source-code"
          id="include-as-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/method_space.rb, line 90</span>
90:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">include_as</span>(<span class="ruby-identifier">h</span>)
91:     <span class="ruby-identifier">h</span>.<span class="ruby-identifier">each</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">mod</span><span class="ruby-operator">|</span> <span class="ruby-identifier">method_space</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">mod</span>) }
92:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="instance-function-method" class="method-detail ">
      <a name="method-i-instance_function"></a>

      <div class="method-heading">
      
        <span class="method-name">instance_function</span><span
          class="method-args">(*meths)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Converts module methods into instance methods such that the first parameter
is passed <tt>self</tt>. This promotes DRY programming when wishing to
offer both inheritable and module callable procedures.
</p>
<p>
This method is modeled after <tt>module_function</tt> which essentially has
the the opposite effect. Due to implementation limitations, this must use
the callback singleton_method_added to emulate <tt>module_function</tt>
when no method names are given.
</p>
<pre>
  module MyModule
    instance_function

    def self.jumble(obj, arg)
      obj + arg
    end
  end

  MyModule.jumble(&quot;Try&quot;, &quot;Me&quot;)  #=&gt; &quot;TryMe&quot;

  s = &quot;Try&quot;
  s.extend MyModule
  s.jumble(&quot;Me&quot;)                #=&gt; &quot;TryMe&quot;
</pre>
<p>
Note: This used to be a module called PromoteSelf and later Instantize,
before becoming a method.
</p>
        

        
        <div class="method-source-code"
          id="instance-function-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/instance_function.rb, line 28</span>
28:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">instance_function</span>(*<span class="ruby-identifier">meths</span>)
29:     <span class="ruby-identifier">this</span> = <span class="ruby-keyword kw">self</span>
30:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">meths</span>.<span class="ruby-identifier">empty?</span>
31:       <span class="ruby-identifier">extend</span> <span class="ruby-constant">InstanceFunction</span>
32:     <span class="ruby-keyword kw">else</span>
33:       <span class="ruby-identifier">meths</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">meth</span><span class="ruby-operator">|</span>
34:         <span class="ruby-identifier">module_eval</span> <span class="ruby-keyword kw">do</span>
35:           <span class="ruby-identifier">define_method</span>(<span class="ruby-identifier">meth</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span>*<span class="ruby-identifier">args</span><span class="ruby-operator">|</span>
36:             <span class="ruby-identifier">this</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-identifier">meth</span>, <span class="ruby-keyword kw">self</span>, *<span class="ruby-identifier">args</span>)
37:           <span class="ruby-keyword kw">end</span>
38:         <span class="ruby-keyword kw">end</span>
39:         <span class="ruby-comment cmt">##class_eval %{</span>
40:         <span class="ruby-comment cmt">##  def #{meth}(*args)</span>
41:         <span class="ruby-comment cmt">##    #{self.name}.#{meth}(self,*args)</span>
42:         <span class="ruby-comment cmt">##  end</span>
43:         <span class="ruby-comment cmt">##}</span>
44:       <span class="ruby-keyword kw">end</span>
45:     <span class="ruby-keyword kw">end</span>
46:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="mattr-method" class="method-detail ">
      <a name="method-i-mattr"></a>

      <div class="method-heading">
      
        <span class="method-name">mattr</span><span
          class="method-args">(*syms)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Creates a class-variable attribute that can be accessed both on an instance
and class level.
</p>
<pre>
  c = Class.new do
    mattr :a
    def initialize
      @@a = 10
    end
  end

  c.new.a       #=&gt; 10
  c.a           #=&gt; 10
</pre>
<p>
NOTE: The <a href="Module.html#method-i-mattr">mattr</a> methods may not be
as useful for modules as the <a href="Module.html#method-i-cattr">cattr</a>
methods are for classes, becuase class-level methods are not
&#8220;inherited&#8221; across the metaclass for included modules.
</p>
<p>
CREDIT: David Heinemeier Hansson
</p>
        

        
        <div class="method-source-code"
          id="mattr-source">
<pre>
     <span class="ruby-comment cmt"># File lib/tour/facets/module/cattr.rb, line 127</span>
127:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mattr</span>(*<span class="ruby-identifier">syms</span>)
128:     <span class="ruby-identifier">writers</span>, <span class="ruby-identifier">readers</span> = <span class="ruby-identifier">syms</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">partition</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/=$/</span> }
129:     <span class="ruby-identifier">writers</span> = <span class="ruby-identifier">writers</span>.<span class="ruby-identifier">collect</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-value str">'='</span>).<span class="ruby-identifier">to_sym</span> }
130:     <span class="ruby-comment cmt">##readers.concat( writers ) # writers also get readers</span>
131: 
132:     <span class="ruby-identifier">mattr_writer</span>( *<span class="ruby-identifier">writers</span> )
133:     <span class="ruby-identifier">mattr_reader</span>( *<span class="ruby-identifier">readers</span> )
134: 
135:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">readers</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">writers</span>
136:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="mattr-accessor-method" class="method-detail ">
      <a name="method-i-mattr_accessor"></a>

      <div class="method-heading">
      
        <span class="method-name">mattr_accessor</span><span
          class="method-args">(*syms)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Creates a class-variable attr_accessor that can be accessed both on an
instance and class level.
</p>
<pre>
  c = Class.new do
    mattr_accessor :a
  end

  c.a = 10
  c.a           #=&gt; 10

  x = c.new
  x.a           #=&gt; 10
</pre>
<p>
CREDIT: David Heinemeier Hansson
</p>
        

        
        <div class="method-source-code"
          id="mattr-accessor-source">
<pre>
     <span class="ruby-comment cmt"># File lib/tour/facets/module/cattr.rb, line 219</span>
219:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mattr_accessor</span>(*<span class="ruby-identifier">syms</span>)
220:     <span class="ruby-identifier">mattr_reader</span>(*<span class="ruby-identifier">syms</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">mattr_writer</span>(*<span class="ruby-identifier">syms</span>)
221:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="mattr-reader-method" class="method-detail ">
      <a name="method-i-mattr_reader"></a>

      <div class="method-heading">
      
        <span class="method-name">mattr_reader</span><span
          class="method-args">( *syms )</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Creates a class-variable attr_reader that can be accessed both on an
instance and class level.
</p>
<pre>
  c = Class.new do
    @@a = 10
    mattr_reader :a
  end

  c.a           #=&gt; 10
  c.new.a       #=&gt; 10
</pre>
<p>
CREDIT: David Heinemeier Hansson
</p>
        

        
        <div class="method-source-code"
          id="mattr-reader-source">
<pre>
     <span class="ruby-comment cmt"># File lib/tour/facets/module/cattr.rb, line 150</span>
150:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mattr_reader</span>( *<span class="ruby-identifier">syms</span> )
151:     <span class="ruby-identifier">syms</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">sym</span><span class="ruby-operator">|</span>
152:       <span class="ruby-identifier">module_eval</span>(<span class="ruby-value str">        unless defined? @@#{sym}          @@#{sym} = nil        end        def self.#{sym}          @@#{sym}        end        def #{sym}          @@#{sym}        end</span>, <span class="ruby-keyword kw">__FILE__</span>, <span class="ruby-keyword kw">__LINE__</span>)
153:     <span class="ruby-keyword kw">end</span>
154:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">syms</span>
155:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="mattr-writer-method" class="method-detail ">
      <a name="method-i-mattr_writer"></a>

      <div class="method-heading">
      
        <span class="method-name">mattr_writer</span><span
          class="method-args">(*syms)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Creates a class-variable attr_writer that can be accessed both on an
instance and class level.
</p>
<pre>
  c = Class.new do
    mattr_writer :a
    def self.a
      @@a
    end
  end

  c.a = 10
  c.a            #=&gt; 10

  c.new.a = 29
  c.a            #=&gt; 29
</pre>
<p>
CREDIT: David Heinemeier Hansson
</p>
        

        
        <div class="method-source-code"
          id="mattr-writer-source">
<pre>
     <span class="ruby-comment cmt"># File lib/tour/facets/module/cattr.rb, line 186</span>
186:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mattr_writer</span>(*<span class="ruby-identifier">syms</span>)
187:     <span class="ruby-identifier">syms</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">sym</span><span class="ruby-operator">|</span>
188:       <span class="ruby-identifier">module_eval</span>(<span class="ruby-value str">        unless defined? @@#{sym}          @@#{sym} = nil        end        def self.#{sym}=(obj)          @@#{sym} = obj        end        def #{sym}=(obj)          @@#{sym}=(obj)        end</span>, <span class="ruby-keyword kw">__FILE__</span>, <span class="ruby-keyword kw">__LINE__</span>)
189:     <span class="ruby-keyword kw">end</span>
190:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">syms</span>
191:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="memoize-method" class="method-detail ">
      <a name="method-i-memoize"></a>

      <div class="method-heading">
      
        <span class="method-name">memoize</span><span
          class="method-args">(*args)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
This is here for backward compatibility.
</p>
        

        
        <div class="method-source-code"
          id="memoize-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/memoize.rb, line 6</span>
 6:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">memoize</span>(*<span class="ruby-identifier">args</span>)
 7:     <span class="ruby-identifier">include</span> <span class="ruby-constant">Memoizable</span>
 8:     <span class="ruby-constant">Memoizable</span>.<span class="ruby-identifier">instance_method</span>(<span class="ruby-value">:memoize</span>).<span class="ruby-identifier">bind</span>(<span class="ruby-keyword kw">self</span>).<span class="ruby-identifier">call</span>(*<span class="ruby-identifier">args</span>)
 9:     <span class="ruby-comment cmt">#super(*args)  # TODO: why is super not working here?</span>
10:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="method-space-method" class="method-detail ">
      <a name="method-i-method_space"></a>

      <div class="method-heading">
      
        <span class="method-name">method_space</span><span
          class="method-args">(name, mod=nil, &blk)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Create method namespaces, allowing for method chains but still accessing
the object&#8217;s instance.
</p>
<pre>
  class A
    attr_writer :x
    method_space :inside do
      def x; @x; end
    end
  end

  a = A.new
  a.x = 10
  a.inside.x  #=&gt; 10

  expect NoMethodError do
    a.x
  end
</pre>
<p>
CREDIT: Pit Captain
</p>
        

        
        <div class="method-source-code"
          id="method-space-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/method_space.rb, line 25</span>
25:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">method_space</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">mod</span>=<span class="ruby-keyword kw">nil</span>, &amp;<span class="ruby-identifier">blk</span>)
26: 
27:     <span class="ruby-comment cmt">## If block is given then create a module, otherwise</span>
28:     <span class="ruby-comment cmt">## get the name of the module.</span>
29:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
30:       <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>
31:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mod</span>
32:       <span class="ruby-identifier">mod</span>  = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>(&amp;<span class="ruby-identifier">blk</span>)
33:     <span class="ruby-keyword kw">else</span>
34:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Module</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">name</span>
35:         <span class="ruby-identifier">mod</span> = <span class="ruby-identifier">name</span>
36:         <span class="ruby-identifier">name</span> = <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">basename</span>.<span class="ruby-identifier">downcase</span>
37:       <span class="ruby-keyword kw">end</span>
38:       <span class="ruby-identifier">mod</span>  = <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">dup</span>
39:     <span class="ruby-keyword kw">end</span>
40: 
41:     <span class="ruby-comment cmt">## Include the module. This is neccessary, otherwise</span>
42:     <span class="ruby-comment cmt">## Ruby won't let us bind the instance methods.</span>
43:     <span class="ruby-identifier">include</span> <span class="ruby-identifier">mod</span>
44: 
45:     <span class="ruby-comment cmt">## Save the instance methods of the module and</span>
46:     <span class="ruby-comment cmt">## replace them with a &quot;transparent&quot; version.</span>
47:     <span class="ruby-identifier">methods</span> = {}
48:     <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">instance_methods</span>(<span class="ruby-keyword kw">false</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
49:       <span class="ruby-identifier">methods</span>[<span class="ruby-identifier">m</span>.<span class="ruby-identifier">to_sym</span>] = <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">instance_method</span>(<span class="ruby-identifier">m</span>)
50:       <span class="ruby-identifier">mod</span>.<span class="ruby-identifier">module_eval</span> <span class="ruby-node">%{
51:         def #{m}(*a,&amp;b)
52:           super(*a,&amp;b)
53:         end
54:       }</span>
55:       <span class="ruby-comment cmt">##mod.instance_eval do</span>
56:       <span class="ruby-comment cmt">##  define_method(m)</span>
57:       <span class="ruby-comment cmt">##    super</span>
58:       <span class="ruby-comment cmt">##  end</span>
59:       <span class="ruby-comment cmt">##end</span>
60:     <span class="ruby-keyword kw">end</span>
61: 
62:     <span class="ruby-comment cmt">## Add a method for the namespace that delegates</span>
63:     <span class="ruby-comment cmt">## via the Functor to the saved instance methods.</span>
64:     <span class="ruby-identifier">define_method</span>(<span class="ruby-identifier">name</span>) <span class="ruby-keyword kw">do</span>
65:       <span class="ruby-identifier">mtab</span> = <span class="ruby-identifier">methods</span>
66:       <span class="ruby-constant">Functor</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">op</span>, *<span class="ruby-identifier">args</span><span class="ruby-operator">|</span>
67:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">meth</span> = <span class="ruby-identifier">mtab</span>[<span class="ruby-identifier">op</span>.<span class="ruby-identifier">to_sym</span>]
68:           <span class="ruby-identifier">meth</span>.<span class="ruby-identifier">bind</span>(<span class="ruby-keyword kw">self</span>).<span class="ruby-identifier">call</span>(*<span class="ruby-identifier">args</span>)
69:         <span class="ruby-keyword kw">else</span>
70:           <span class="ruby-comment cmt">#self.__send__(op, *args)</span>
71:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">NoMethodError</span>, <span class="ruby-node">&quot;undefined method `#{m}'&quot;</span>
72:         <span class="ruby-keyword kw">end</span>
73:       <span class="ruby-keyword kw">end</span>
74:     <span class="ruby-keyword kw">end</span>
75:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
    <div id="module-load-method" class="method-detail ">
      <a name="method-i-module_load"></a>

      <div class="method-heading">
      
        <span class="method-name">module_load</span><span
          class="method-args">( path )</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Load file directly into module/class namespace.
</p>
<p>
Please use this with careful consideration. It is best suited to loading
plugin-type scripts, and should generally not be used as a substitue for
Ruby&#8217;s standard load system.
</p>
<p>
CREDIT: Trans
</p>
        

        
        <div class="method-source-code"
          id="module-load-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/module_load.rb, line 12</span>
12:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">module_load</span>( <span class="ruby-identifier">path</span> )
13:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^[\/~.]/</span>
14:       <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>)
15:     <span class="ruby-keyword kw">else</span>
16:       <span class="ruby-identifier">$LOAD_PATH</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">lp</span><span class="ruby-operator">|</span>
17:         <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">lp</span>,<span class="ruby-identifier">path</span>)
18:         <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">file</span>)
19:         <span class="ruby-identifier">file</span> = <span class="ruby-keyword kw">nil</span>
20:       <span class="ruby-keyword kw">end</span>
21:     <span class="ruby-keyword kw">end</span>
22:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">LoadError</span>, <span class="ruby-node">&quot;no such file to load -- #{path}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">file</span>
23:     <span class="ruby-identifier">module_eval</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">file</span>))
24:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
      <div class="aliases">
        Also aliased as: <a href="Module.html#method-i-class_load">class_load</a>
      </div>
      
    </div>

  
    <div id="module-require-method" class="method-detail ">
      <a name="method-i-module_require"></a>

      <div class="method-heading">
      
        <span class="method-name">module_require</span><span
          class="method-args">( path )</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Require file into module/class namespace.
</p>
<p>
Unlike load this keeps a per-module cache and will not load the same file
into the same module more than once despite repeated attempts.
</p>
<p>
The cache is kept in a global var called +$<a
href="Module.html#method-i-module_require">module_require</a>+.
</p>
<p>
Please use this with careful consideration. It is best suited to loading
plugin-type scripts, and should generally not be used as a substitue for
Ruby&#8217;s standard load system.
</p>
<p>
CREDIT: Trans
</p>
        

        
        <div class="method-source-code"
          id="module-require-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/module_load.rb, line 41</span>
41:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">module_require</span>( <span class="ruby-identifier">path</span> )
42:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^[\/~.]/</span>
43:       <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>)
44:     <span class="ruby-keyword kw">else</span>
45:       <span class="ruby-identifier">$LOAD_PATH</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">lp</span><span class="ruby-operator">|</span>
46:         <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">lp</span>,<span class="ruby-identifier">path</span>)
47:         <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">file</span>)
48:         <span class="ruby-identifier">file</span> <span class="ruby-operator">+=</span> <span class="ruby-value str">'.rb'</span>
49:         <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">file</span>)
50:         <span class="ruby-identifier">file</span> = <span class="ruby-keyword kw">nil</span>
51:       <span class="ruby-keyword kw">end</span>
52:     <span class="ruby-keyword kw">end</span>
53:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">LoadError</span>, <span class="ruby-node">&quot;no such file to load -- #{path}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">file</span>
54:     <span class="ruby-comment cmt"># per-module load cache</span>
55:     <span class="ruby-identifier">$module_require</span> <span class="ruby-operator">||=</span> {}
56:     <span class="ruby-identifier">$module_require</span>[<span class="ruby-keyword kw">self</span>] <span class="ruby-operator">||=</span> {}
57:     <span class="ruby-identifier">loaded</span> = <span class="ruby-identifier">$module_require</span>[<span class="ruby-keyword kw">self</span>]
58:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">file</span>)
59:       <span class="ruby-keyword kw">false</span>
60:     <span class="ruby-keyword kw">else</span>
61:       <span class="ruby-identifier">loaded</span>[<span class="ruby-identifier">file</span>] = <span class="ruby-keyword kw">true</span>
62:       <span class="ruby-identifier">script</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">file</span>)
63:       <span class="ruby-identifier">module_eval</span>(<span class="ruby-identifier">script</span>)
64:       <span class="ruby-keyword kw">true</span>
65:     <span class="ruby-keyword kw">end</span>
66:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
      <div class="aliases">
        Also aliased as: <a href="Module.html#method-i-class_require">class_require</a>
      </div>
      
    </div>

  
    <div id="prepend-method" class="method-detail ">
      <a name="method-i-prepend"></a>

      <div class="method-heading">
      
        <span class="method-name">prepend</span><span
          class="method-args">(aspect)</span>
        <span class="method-click-advice">click to toggle source</span>
      
      </div>

      <div class="method-description">
        
        <p>
Prepend an <tt>aspect</tt> module to a module. This only works at the
module level.
</p>
<pre>
  module ::PreX
    def x; &quot;x&quot;; end
  end

  module ::PreU
    def x; '{' + super + '}'; end
  end

  PreX.prepend(PreU)

  PreX.x  # =&gt; &quot;{x}&quot;
</pre>
<p>
CREDIT Trans
</p>
        

        
        <div class="method-source-code"
          id="prepend-source">
<pre>
    <span class="ruby-comment cmt"># File lib/tour/facets/module/prepend.rb, line 20</span>
20:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">prepend</span>(<span class="ruby-identifier">aspect</span>)
21:     <span class="ruby-identifier">aspect</span>.<span class="ruby-identifier">__send__</span>(<span class="ruby-value">:include</span>, <span class="ruby-keyword kw">self</span>)
22:     <span class="ruby-identifier">extend</span> <span class="ruby-identifier">aspect</span>
23:   <span class="ruby-keyword kw">end</span></pre>
        </div>
        
      </div>

      
    </div>

  
  </div>


  <!-- In Files -->
  <div id="file-list-section" class="section">
    <h3 class="section-header">In Files</h3>
    <div class="section-body">
      <ul>
      
        <li class="file"><a href="./lib/tour/facets/module/attr_validator_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
          class="thickbox" title="lib/tour/facets/module/attr_validator.rb">lib/tour/facets/module/attr_validator.rb</a></li>
      
        <li class="file"><a href="./lib/tour/facets/module/enclosure_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
          class="thickbox" title="lib/tour/facets/module/enclosure.rb">lib/tour/facets/module/enclosure.rb</a></li>
      
        <li class="file"><a href="./lib/tour/facets/module/class_accessor_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
          class="thickbox" title="lib/tour/facets/module/class_accessor.rb">lib/tour/facets/module/class_accessor.rb</a></li>
      
        <li class="file"><a href="./lib/tour/facets/module/prepend_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
          class="thickbox" title="lib/tour/facets/module/prepend.rb">lib/tour/facets/module/prepend.rb</a></li>
      
        <li class="file"><a href="./lib/tour/facets/module/cattr_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
          class="thickbox" title="lib/tour/facets/module/cattr.rb">lib/tour/facets/module/cattr.rb</a></li>
      
        <li class="file"><a href="./lib/tour/facets/module/attr_class_accessor_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
          class="thickbox" title="lib/tour/facets/module/attr_class_accessor.rb">lib/tour/facets/module/attr_class_accessor.rb</a></li>
      
        <li class="file"><a href="./lib/tour/facets/module/memoize_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
          class="thickbox" title="lib/tour/facets/module/memoize.rb">lib/tour/facets/module/memoize.rb</a></li>
      
        <li class="file"><a href="./lib/tour/facets/module/class_extend_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
          class="thickbox" title="lib/tour/facets/module/class_extend.rb">lib/tour/facets/module/class_extend.rb</a></li>
      
        <li class="file"><a href="./lib/tour/facets/module/instance_function_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
          class="thickbox" title="lib/tour/facets/module/instance_function.rb">lib/tour/facets/module/instance_function.rb</a></li>
      
        <li class="file"><a href="./lib/tour/facets/module/class_inheritor_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
          class="thickbox" title="lib/tour/facets/module/class_inheritor.rb">lib/tour/facets/module/class_inheritor.rb</a></li>
      
        <li class="file"><a href="./lib/tour/facets/module/module_load_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
          class="thickbox" title="lib/tour/facets/module/module_load.rb">lib/tour/facets/module/module_load.rb</a></li>
      
        <li class="file"><a href="./lib/tour/facets/module/copy_inheritor_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
          class="thickbox" title="lib/tour/facets/module/copy_inheritor.rb">lib/tour/facets/module/copy_inheritor.rb</a></li>
      
        <li class="file"><a href="./lib/tour/facets/module/attr_inheritor_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
          class="thickbox" title="lib/tour/facets/module/attr_inheritor.rb">lib/tour/facets/module/attr_inheritor.rb</a></li>
      
        <li class="file"><a href="./lib/tour/facets/module/method_space_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
          class="thickbox" title="lib/tour/facets/module/method_space.rb">lib/tour/facets/module/method_space.rb</a></li>
      
        <li class="file"><a href="./lib/tour/facets/module/attr_tester_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
          class="thickbox" title="lib/tour/facets/module/attr_tester.rb">lib/tour/facets/module/attr_tester.rb</a></li>
      
      </ul>
    </div>
  </div>

</div>
</body>
</html>

