<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />

  <title>Ruby Facets</title>

  <!-- google verification-->
  <meta name="verify-v1" content="p14vW7GGMohDo2YKUHm0SXXTL+tzyPbKxxp35/WIQLA=" />

  <meta name="DESCRIPTION"
        content="Ruby Facets is a large collection of libraries for the Ruby programming lanaguage."/>

  <link rel="icon" href="/assets/images/favicon.ico" type="image/x-icon" />

  <link href="/atom.xml" rel="alternate" title="blog.facets.rubyforge.org" type="application/atom+xml" />

<!--
  <link href="/assets/styles/screen.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <link href="/assets/styles/print.css"  media="print" rel="stylesheet" type="text/css" />
-->

  <!--[if IE]>
      <link href="/ie.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <![endif]-->

  <link href="/assets/styles/site.css" rel="stylesheet" type="text/css" />
  <link href="/assets/styles/syntax.css" rel="stylesheet" type="text/css" />

  <!-- <script src="/js/rdocs.js" type="text/javascript"></script> -->
</head>

</body>
</html>

<body>

<div id="sidebar">
</div>

<div id="container">

  <div id="menu">
    <a href="/index.html">What's New</a> |
    <a href="/about.html">Overview</a> |
    <a href="/download.html">Download</a> |
    <a href="/learn.html">Documentation</a> |
    <a href="/endorse.html">Endorsements</a> |
    <a href="/community.html">Community</a> |
    <a href="/source.html">Development</a>
    <img style="width: 20px; height: 1px;" src="/assets/images/clear.gif"/>
  </div>

  <div id="header">
    <img id="logo" src="/assets/images/RubyFacets.png" align="middle" />
  </div>

  <!-- <div id="drop_shadow"></div> -->

  <div id="content">
    
<div class="page">

  <h2>I Spy String#margin</h2>

  <p>Perhaps you've come across that occasional need to assign a string that was more pictorial
in character than textual. [ Pun intended :-) ] You've tried Ruby's various built-in string constructors,
including those groovy HERE documents, you even tried letting the HERE text butt up against column
zero. Ick! In the end you either had line after line of <code>str &lt;&lt; "...."</code>, counted "\n"s
or said, "Heck wit it!". And loaded from a file. Well, no longer! Facets contains a great little
String method called #margin. It works like this:</p></p>

<div class="highlight"><pre>  <span class="n">x</span> <span class="o">=</span> <span class="sx">%Q{</span>
<span class="sx">        | This</span>
<span class="sx">        |     is</span>
<span class="sx">        |       margin controlled!</span>
<span class="sx">        }</span><span class="o">.</span><span class="n">margin</span>
</pre>
</div>


<p>Of course you can  use HERE documents if you prefer.</p>

<div class="highlight"><pre>  <span class="n">x</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">HERE</span><span class="o">.</span><span class="n">margin</span>
<span class="sh">        | This</span>
<span class="sh">        |     is</span>
<span class="sh">        |       margin controlled!</span>
<span class="no">        HERE</span>
</pre>
</div>


<p>If you dislike the particular deliminator '|', or actually need to start lines with that character,
then just pick another.</p>

<div class="highlight"><pre>  <span class="n">x</span> <span class="o">=</span> <span class="sx">%Q{ This</span>
<span class="sx">        -     is</span>
<span class="sx">        -       margin controlled too!</span>
<span class="sx">        }</span><span class="o">.</span><span class="n">margin</span>
</pre>
</div>


<p>The trick? It uses the first non-whitespace character on the 2nd line(tm). Clever, eh?</p>

<p>But wait. There's more! #margin also takes a parameter, with which you can specify the number of
extra spaces to insert in place of the deliminator. So even if you need to push some ascii art
text over 30 characters, there's no need for all that whitespace. Just specify the number.</p></p>

<p>Hope you've enjoyed this Spotlight. Now you too can produce nice and readable margin controlled
strings in your code too with ease!</p>


  <small>Written by Trans, 10 Oct 2008</small>

  <ul class="posts">
    
    <li><span>Previous: 04 Apr 2008</span> &raquo; <a href="/2008/04/04/times-collect.html">I Spy Integer#times_collect</a></li>
    
    
    <li><span> Next: 21 Jul 2009</span> &raquo; <a href="/2009/07/21/new-website.html">New Website with Jekyll</a></li>
    
  </ul>

</div>


  </div>

</div>

<div id="copyright">
  <img src="/assets/images/abc1.png"/>

  <br/><br/><br/>

  Copyright (c) 2005-2008 Thomas Sawyer &amp; Contributors <br/><br/>

  Ruby Facets was created by Thomas Sawyer (7rans), either written by hand or collected from a variety of Ruby resources.<br/>
  The system continues to be extended and improved by a diverse cast of open-source contributors.<br/><br/>

  Facets is released under the terms of the Ruby license, just like Ruby.<br/>
  The Ruby license is a dual GPLv2 license.<br/><br/>

  "Facets", "Ruby Facets" and "All Base Common" are trademarks of Thomas Sawyer. All rights reserved.

  <br/><br/>

  THIS SOFTWARE IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR
  IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE.
</div>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2883355-2";
urchinTracker();
</script>

</body>
</html>

