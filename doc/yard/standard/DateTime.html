<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf8" />
<title>Class: DateTime</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (D)</a> &raquo; 
    
    
    <span class="title">DateTime</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: DateTime
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">DateTime</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/standard/facets/date.rb</dd>
  
</dl>
<div class="clear"></div>




  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#local_offset-class_method" title="local_offset (class method)">+ (Object) <strong>local_offset</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#advance-instance_method" title="#advance (instance method)">- (Object) <strong>advance</strong>(options) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Uses Date to provide precise Time calculations for years, months, and days.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ago-instance_method" title="#ago (instance method)">- (Object) <strong>ago</strong>(seconds) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a new DateTime representing the time a number of seconds ago Do not
use this method in combination with x.months, use months_ago instead!.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#beginning_of_day-instance_method" title="#beginning_of_day (instance method)">- (Object) <strong>beginning_of_day</strong> </a>
    

    
      (also: #midnight)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a new DateTime representing the start of the day (0:00).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#change-instance_method" title="#change (instance method)">- (Object) <strong>change</strong>(options) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a new DateTime where one or more of the elements have been changed
according to the <tt>options</tt> parameter.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#end_of_day-instance_method" title="#end_of_day (instance method)">- (Object) <strong>end_of_day</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a new DateTime representing the end of the day (23:59:59).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#future%3F-instance_method" title="#future? (instance method)">- (Boolean) <strong>future?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#past%3F-instance_method" title="#past? (instance method)">- (Boolean) <strong>past?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#seconds_since_midnight-instance_method" title="#seconds_since_midnight (instance method)">- (Object) <strong>seconds_since_midnight</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Seconds since midnight: DateTime.now.seconds_since_midnight.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#since-instance_method" title="#since (instance method)">- (Object) <strong>since</strong>(seconds) </a>
    

    
      (also: #in)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a new DateTime representing the time a number of seconds since the
instance time Do not use this method in combination with x.months, use
months_since instead!.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stamp-instance_method" title="#stamp (instance method)">- (Object) <strong>stamp</strong>(format = :default) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Convert to a formatted string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_date-instance_method" title="#to_date (instance method)">- (Object) <strong>to_date</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts self to a Ruby Date object; time portion is discarded.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_datetime-instance_method" title="#to_datetime (instance method)">- (Object) <strong>to_datetime</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>To be able to keep Times, Dates and DateTimes interchangeable on
conversions.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_f-instance_method" title="#to_f (instance method)">- (Object) <strong>to_f</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts self to a floating-point number of seconds since the Unix epoch.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_time-instance_method" title="#to_time (instance method)">- (Object) <strong>to_time</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Attempts to convert self to a Ruby Time object; returns self if out of
range of Ruby Time class.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#utc-instance_method" title="#utc (instance method)">- (Object) <strong>utc</strong> </a>
    

    
      (also: #getutc)
    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adjusts DateTime to UTC by adding its offset value; offset is set to 0.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#utc%3F-instance_method" title="#utc? (instance method)">- (Boolean) <strong>utc?</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if offset == 0.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#utc_offset-instance_method" title="#utc_offset (instance method)">- (Object) <strong>utc_offset</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the offset value in seconds.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#xmlschema-instance_method" title="#xmlschema (instance method)">- (Object) <strong>xmlschema</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts datetime to an appropriate format for use in XML.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="local_offset-class_method">
  
    + (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>local_offset</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


200
201
202</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 200</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='local_offset identifier id'>local_offset</span>
  <span class='colon3 op'>::</span><span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='local identifier id'>local</span><span class='lparen token'>(</span><span class='integer val'>2007</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='utc_offset identifier id'>utc_offset</span><span class='dot token'>.</span><span class='to_r identifier id'>to_r</span> <span class='div op'>/</span> <span class='integer val'>86400</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="advance-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>advance</strong>(options) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Uses Date to provide precise Time calculations for years, months, and days.
The <tt>options</tt> parameter takes a hash with any of these keys:
<tt>:years</tt>, <tt>:months</tt>, <tt>:weeks</tt>, <tt>:days</tt>,
<tt>:hours</tt>, <tt>:minutes</tt>, <tt>:seconds</tt>.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


286
287
288
289
290
291</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 286</span>

<span class='def def kw'>def</span> <span class='advance identifier id'>advance</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='d identifier id'>d</span> <span class='assign token'>=</span> <span class='to_date identifier id'>to_date</span><span class='dot token'>.</span><span class='advance identifier id'>advance</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='datetime_advanced_by_date identifier id'>datetime_advanced_by_date</span> <span class='assign token'>=</span> <span class='change identifier id'>change</span><span class='lparen token'>(</span><span class='symbol val'>:year</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='d identifier id'>d</span><span class='dot token'>.</span><span class='year identifier id'>year</span><span class='comma token'>,</span> <span class='symbol val'>:month</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='d identifier id'>d</span><span class='dot token'>.</span><span class='month identifier id'>month</span><span class='comma token'>,</span> <span class='symbol val'>:day</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='d identifier id'>d</span><span class='dot token'>.</span><span class='day identifier id'>day</span><span class='rparen token'>)</span>
  <span class='seconds_to_advance identifier id'>seconds_to_advance</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:seconds</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='integer val'>0</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:minutes</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='integer val'>0</span><span class='rparen token'>)</span> <span class='mult op'>*</span> <span class='integer val'>60</span> <span class='plus op'>+</span> <span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:hours</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='integer val'>0</span><span class='rparen token'>)</span> <span class='mult op'>*</span> <span class='integer val'>3600</span>
  <span class='seconds_to_advance identifier id'>seconds_to_advance</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='question op'>?</span> <span class='datetime_advanced_by_date identifier id'>datetime_advanced_by_date</span> <span class='colon op'>:</span> <span class='datetime_advanced_by_date identifier id'>datetime_advanced_by_date</span><span class='dot token'>.</span><span class='since identifier id'>since</span><span class='lparen token'>(</span><span class='seconds_to_advance identifier id'>seconds_to_advance</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="ago-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>ago</strong>(seconds) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns a new DateTime representing the time a number of seconds ago Do not
use this method in combination with x.months, use months_ago instead!</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


295
296
297</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 295</span>

<span class='def def kw'>def</span> <span class='ago identifier id'>ago</span><span class='lparen token'>(</span><span class='seconds identifier id'>seconds</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='since identifier id'>since</span><span class='lparen token'>(</span><span class='minus op'>-</span><span class='seconds identifier id'>seconds</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="beginning_of_day-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>beginning_of_day</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='midnight-instance_method'>midnight</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns a new DateTime representing the start of the day (0:00)</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


307
308
309</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 307</span>

<span class='def def kw'>def</span> <span class='beginning_of_day identifier id'>beginning_of_day</span>
  <span class='change identifier id'>change</span><span class='lparen token'>(</span><span class='symbol val'>:hour</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>0</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="change-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>change</strong>(options) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns a new DateTime where one or more of the elements have been changed
according to the <tt>options</tt> parameter. The time options (hour,
minute, sec) reset cascadingly, so if only the hour is  passed, then minute
and sec is set to 0. If the hour and minute is passed, then sec is set to
0.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


269
270
271
272
273
274
275
276
277
278
279
280</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 269</span>

<span class='def def kw'>def</span> <span class='change identifier id'>change</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='colon3 op'>::</span><span class='DateTime constant id'>DateTime</span><span class='dot token'>.</span><span class='civil identifier id'>civil</span><span class='lparen token'>(</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:year</span><span class='rbrack token'>]</span>  <span class='orop op'>||</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='year identifier id'>year</span><span class='comma token'>,</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:month</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='month identifier id'>month</span><span class='comma token'>,</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:day</span><span class='rbrack token'>]</span>   <span class='orop op'>||</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='day identifier id'>day</span><span class='comma token'>,</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:hour</span><span class='rbrack token'>]</span>  <span class='orop op'>||</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='hour identifier id'>hour</span><span class='comma token'>,</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:min</span><span class='rbrack token'>]</span>   <span class='orop op'>||</span> <span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:hour</span><span class='rbrack token'>]</span> <span class='question op'>?</span> <span class='integer val'>0</span> <span class='colon op'>:</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='min identifier id'>min</span><span class='rparen token'>)</span><span class='comma token'>,</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:sec</span><span class='rbrack token'>]</span>   <span class='orop op'>||</span> <span class='lparen token'>(</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:hour</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:min</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='question op'>?</span> <span class='integer val'>0</span> <span class='colon op'>:</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='sec identifier id'>sec</span><span class='rparen token'>)</span><span class='comma token'>,</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:offset</span><span class='rbrack token'>]</span>  <span class='orop op'>||</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span><span class='comma token'>,</span>
    <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:start</span><span class='rbrack token'>]</span>  <span class='orop op'>||</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='start identifier id'>start</span>
  <span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="end_of_day-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>end_of_day</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns a new DateTime representing the end of the day (23:59:59)</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


313
314
315</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 313</span>

<span class='def def kw'>def</span> <span class='end_of_day identifier id'>end_of_day</span>
  <span class='change identifier id'>change</span><span class='lparen token'>(</span><span class='symbol val'>:hour</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>23</span><span class='comma token'>,</span> <span class='symbol val'>:min</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>59</span><span class='comma token'>,</span> <span class='symbol val'>:sec</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='integer val'>59</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="future?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>future?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


204
205
206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 204</span>

<span class='def def kw'>def</span> <span class='future? fid id'>future?</span>
  <span class='self self kw'>self</span> <span class='gt op'>&gt;</span> <span class='colon3 op'>::</span><span class='DateTime constant id'>DateTime</span><span class='dot token'>.</span><span class='current identifier id'>current</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="past?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>past?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


208
209
210</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 208</span>

<span class='def def kw'>def</span> <span class='past? fid id'>past?</span>
  <span class='self self kw'>self</span> <span class='lt op'>&lt;</span> <span class='colon3 op'>::</span><span class='DateTime constant id'>DateTime</span><span class='dot token'>.</span><span class='current identifier id'>current</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="seconds_since_midnight-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>seconds_since_midnight</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Seconds since midnight: DateTime.now.seconds_since_midnight</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


260
261
262</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 260</span>

<span class='def def kw'>def</span> <span class='seconds_since_midnight identifier id'>seconds_since_midnight</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='sec identifier id'>sec</span> <span class='plus op'>+</span> <span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='min identifier id'>min</span> <span class='mult op'>*</span> <span class='integer val'>60</span><span class='rparen token'>)</span> <span class='plus op'>+</span> <span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='hour identifier id'>hour</span> <span class='mult op'>*</span> <span class='integer val'>3600</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="since-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>since</strong>(seconds) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='in-instance_method'>in</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns a new DateTime representing the time a number of seconds since the
instance time Do not use this method in combination with x.months, use
months_since instead!</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


301
302
303</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 301</span>

<span class='def def kw'>def</span> <span class='since identifier id'>since</span><span class='lparen token'>(</span><span class='seconds identifier id'>seconds</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span> <span class='plus op'>+</span> <span class='Rational constant id'>Rational</span><span class='lparen token'>(</span><span class='seconds identifier id'>seconds</span><span class='dot token'>.</span><span class='round identifier id'>round</span><span class='comma token'>,</span> <span class='integer val'>86400</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="stamp-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>stamp</strong>(format = :default) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Convert to a formatted string. See Time::FORMAT for predefined formats.</p>

<p>This method is aliased to <tt>to_s</tt>.</p>

<pre class="code"><span class='datetime identifier id'>datetime</span> <span class='assign token'>=</span> <span class='DateTime constant id'>DateTime</span><span class='dot token'>.</span><span class='civil identifier id'>civil</span><span class='lparen token'>(</span><span class='integer val'>2007</span><span class='comma token'>,</span><span class='integer val'>12</span><span class='comma token'>,</span><span class='integer val'>4</span><span class='comma token'>,</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='integer val'>0</span><span class='comma token'>,</span><span class='integer val'>0</span><span class='rparen token'>)</span>   <span class='comment val'># Tue, 04 Dec 2007 00:00:00 +0000</span>

<span class='datetime identifier id'>datetime</span><span class='dot token'>.</span><span class='stamp identifier id'>stamp</span><span class='lparen token'>(</span><span class='symbol val'>:db</span><span class='rparen token'>)</span>            <span class='comment val'># =&gt; &quot;2007-12-04 00:00:00&quot;</span>
<span class='datetime identifier id'>datetime</span><span class='dot token'>.</span><span class='stamp identifier id'>stamp</span><span class='lparen token'>(</span><span class='symbol val'>:db</span><span class='rparen token'>)</span>            <span class='comment val'># =&gt; &quot;2007-12-04 00:00:00&quot;</span>
<span class='datetime identifier id'>datetime</span><span class='dot token'>.</span><span class='stamp identifier id'>stamp</span><span class='lparen token'>(</span><span class='symbol val'>:number</span><span class='rparen token'>)</span>        <span class='comment val'># =&gt; &quot;20071204000000&quot;</span>
<span class='datetime identifier id'>datetime</span><span class='dot token'>.</span><span class='stamp identifier id'>stamp</span><span class='lparen token'>(</span><span class='symbol val'>:short</span><span class='rparen token'>)</span>         <span class='comment val'># =&gt; &quot;04 Dec 00:00&quot;</span>
<span class='datetime identifier id'>datetime</span><span class='dot token'>.</span><span class='stamp identifier id'>stamp</span><span class='lparen token'>(</span><span class='symbol val'>:long</span><span class='rparen token'>)</span>          <span class='comment val'># =&gt; &quot;December 04, 2007 00:00&quot;</span>
<span class='datetime identifier id'>datetime</span><span class='dot token'>.</span><span class='stamp identifier id'>stamp</span><span class='lparen token'>(</span><span class='symbol val'>:rfc822</span><span class='rparen token'>)</span>        <span class='comment val'># =&gt; &quot;Tue, 04 Dec 2007 00:00:00 +0000&quot;</span>
</pre>

<h2>Adding your own datetime formats to stamp</h2>

<p>DateTime formats are shared with Time. You can add your own to the
Time::FORMAT hash. Use the format name as the hash key and a strftime
string as the value. Eg.</p>

<pre class="code"><span class='Time constant id'>Time</span><span class='colon2 op'>::</span><span class='FORMAT constant id'>FORMAT</span><span class='lbrack token'>[</span><span class='symbol val'>:month_and_year</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='string val'>&quot;%B %Y&quot;</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


251
252
253
254
255
256
257</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 251</span>

<span class='def def kw'>def</span> <span class='stamp identifier id'>stamp</span><span class='lparen token'>(</span><span class='format identifier id'>format</span><span class='assign token'>=</span><span class='symbol val'>:default</span><span class='rparen token'>)</span>
  <span class='if if kw'>if</span> <span class='formatter identifier id'>formatter</span> <span class='assign token'>=</span> <span class='colon3 op'>::</span><span class='Time constant id'>Time</span><span class='colon2 op'>::</span><span class='FORMAT constant id'>FORMAT</span><span class='lbrack token'>[</span><span class='format identifier id'>format</span><span class='rbrack token'>]</span>
    <span class='strftime identifier id'>strftime</span><span class='lparen token'>(</span><span class='formatter identifier id'>formatter</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='to_s identifier id'>to_s</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_date-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_date</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Converts self to a Ruby Date object; time portion is discarded</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 213</span>

<span class='def def kw'>def</span> <span class='to_date identifier id'>to_date</span>
  <span class='colon3 op'>::</span><span class='Date constant id'>Date</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='year identifier id'>year</span><span class='comma token'>,</span> <span class='month identifier id'>month</span><span class='comma token'>,</span> <span class='day identifier id'>day</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_datetime-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_datetime</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>To be able to keep Times, Dates and DateTimes interchangeable on
conversions</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


226
227
228</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 226</span>

<span class='def def kw'>def</span> <span class='to_datetime identifier id'>to_datetime</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_f-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_f</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Converts self to a floating-point number of seconds since the Unix epoch</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


345
346
347
348</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 345</span>

<span class='def def kw'>def</span> <span class='to_f identifier id'>to_f</span>
  <span class='days_since_unix_epoch identifier id'>days_since_unix_epoch</span> <span class='assign token'>=</span> <span class='self self kw'>self</span> <span class='minus op'>-</span> <span class='colon3 op'>::</span><span class='DateTime constant id'>DateTime</span><span class='dot token'>.</span><span class='civil identifier id'>civil</span><span class='lparen token'>(</span><span class='integer val'>1970</span><span class='rparen token'>)</span>
  <span class='lparen token'>(</span><span class='days_since_unix_epoch identifier id'>days_since_unix_epoch</span> <span class='mult op'>*</span> <span class='integer val'>86_400</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_f identifier id'>to_f</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_time-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_time</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Attempts to convert self to a Ruby Time object; returns self if out of
range of Ruby Time class. If self has an offset other than 0, self will
just be returned unaltered, since there’s no clean way to map it to a
Time.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


221
222
223</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 221</span>

<span class='def def kw'>def</span> <span class='to_time identifier id'>to_time</span>
  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='offset identifier id'>offset</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='question op'>?</span> <span class='colon3 op'>::</span><span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='utc_time identifier id'>utc_time</span><span class='lparen token'>(</span><span class='year identifier id'>year</span><span class='comma token'>,</span> <span class='month identifier id'>month</span><span class='comma token'>,</span> <span class='day identifier id'>day</span><span class='comma token'>,</span> <span class='hour identifier id'>hour</span><span class='comma token'>,</span> <span class='min identifier id'>min</span><span class='comma token'>,</span> <span class='sec identifier id'>sec</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="utc-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>utc</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='getutc-instance_method'>getutc</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    
<p>Adjusts DateTime to UTC by adding its offset value; offset is set to 0</p>

<p>Example:</p>

<pre class="code"><span class='DateTime constant id'>DateTime</span><span class='dot token'>.</span><span class='civil identifier id'>civil</span><span class='lparen token'>(</span><span class='integer val'>2005</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>21</span><span class='comma token'>,</span><span class='integer val'>10</span><span class='comma token'>,</span><span class='integer val'>11</span><span class='comma token'>,</span><span class='integer val'>12</span><span class='comma token'>,</span><span class='Rational constant id'>Rational</span><span class='lparen token'>(</span><span class='integer val'>-6</span><span class='comma token'>,</span> <span class='integer val'>24</span><span class='rparen token'>)</span><span class='rparen token'>)</span>      <span class='comment val'># Mon, 21 Feb 2005 10:11:12 -0600</span>
<span class='DateTime constant id'>DateTime</span><span class='dot token'>.</span><span class='civil identifier id'>civil</span><span class='lparen token'>(</span><span class='integer val'>2005</span><span class='comma token'>,</span><span class='integer val'>2</span><span class='comma token'>,</span><span class='integer val'>21</span><span class='comma token'>,</span><span class='integer val'>10</span><span class='comma token'>,</span><span class='integer val'>11</span><span class='comma token'>,</span><span class='integer val'>12</span><span class='comma token'>,</span><span class='Rational constant id'>Rational</span><span class='lparen token'>(</span><span class='integer val'>-6</span><span class='comma token'>,</span> <span class='integer val'>24</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='utc identifier id'>utc</span>  <span class='comment val'># Mon, 21 Feb 2005 16:11:12 +0000</span>
</pre>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


324
325
326</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 324</span>

<span class='def def kw'>def</span> <span class='utc identifier id'>utc</span>
  <span class='new_offset identifier id'>new_offset</span><span class='lparen token'>(</span><span class='integer val'>0</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="utc?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>utc?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns true if offset == 0</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


330
331
332</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 330</span>

<span class='def def kw'>def</span> <span class='utc? fid id'>utc?</span>
  <span class='offset identifier id'>offset</span> <span class='eq op'>==</span> <span class='integer val'>0</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="utc_offset-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>utc_offset</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Returns the offset value in seconds</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


335
336
337</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 335</span>

<span class='def def kw'>def</span> <span class='utc_offset identifier id'>utc_offset</span>
  <span class='lparen token'>(</span><span class='offset identifier id'>offset</span> <span class='mult op'>*</span> <span class='integer val'>86400</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='to_i identifier id'>to_i</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="xmlschema-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>xmlschema</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>Converts datetime to an appropriate format for use in XML</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


340
341
342</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/standard/facets/date.rb', line 340</span>

<span class='def def kw'>def</span> <span class='xmlschema identifier id'>xmlschema</span>
  <span class='strftime identifier id'>strftime</span><span class='lparen token'>(</span><span class='string val'>&quot;%Y-%m-%dT%H:%M:%S%Z&quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span> <span class='unless unless_mod kw'>unless</span> <span class='method_defined? fid id'>method_defined?</span><span class='lparen token'>(</span><span class='symbol val'>:xmlschema</span><span class='rparen token'>)</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Tue May 17 02:27:14 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.7 (ruby-1.8.7).
</div>

  </body>
</html>